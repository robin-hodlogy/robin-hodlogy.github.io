import{b as I,c as q}from"https://app.gitbook.com/public/app/chunks/chunk-E7KOX4IY.min.js";import{a as U}from"https://app.gitbook.com/public/app/chunks/chunk-EDXCWIHG.min.js";import{b as $}from"https://app.gitbook.com/public/app/chunks/chunk-YPOOS4GR.min.js";import{l as v}from"https://app.gitbook.com/public/app/chunks/chunk-OAKVUAEN.min.js";v();v();var F={type:"change-requests",tab:["followUp","open","draft","merged","archived"]},H={type:"files"},k={type:"activity",tab:["activity","history"]},B={type:"insights",tab:["pages","searches"]},_={type:"customize"},K={type:"gitsync",tab:["status","provider","configure"]},A={type:"share",tab:["invite","audience","publish","pdf","permissions"]},W=[F,H,k,B,_,K,A],G=[F,H,k,B,_,K,A],Y=[_,A];v();v();function gt(t){for(var e=[],a=0;a<t.length;){var n=t[a];if(n==="*"||n==="+"||n==="?"){e.push({type:"MODIFIER",index:a,value:t[a++]});continue}if(n==="\\"){e.push({type:"ESCAPED_CHAR",index:a++,value:t[a++]});continue}if(n==="{"){e.push({type:"OPEN",index:a,value:t[a++]});continue}if(n==="}"){e.push({type:"CLOSE",index:a,value:t[a++]});continue}if(n===":"){for(var o="",i=a+1;i<t.length;){var r=t.charCodeAt(i);if(r>=48&&r<=57||r>=65&&r<=90||r>=97&&r<=122||r===95){o+=t[i++];continue}break}if(!o)throw new TypeError("Missing parameter name at ".concat(a));e.push({type:"NAME",index:a,value:o}),a=i;continue}if(n==="("){var m=1,h="",i=a+1;if(t[i]==="?")throw new TypeError('Pattern cannot start with "?" at '.concat(i));for(;i<t.length;){if(t[i]==="\\"){h+=t[i++]+t[i++];continue}if(t[i]===")"){if(m--,m===0){i++;break}}else if(t[i]==="("&&(m++,t[i+1]!=="?"))throw new TypeError("Capturing groups are not allowed at ".concat(i));h+=t[i++]}if(m)throw new TypeError("Unbalanced pattern at ".concat(a));if(!h)throw new TypeError("Missing pattern at ".concat(a));e.push({type:"PATTERN",index:a,value:h}),a=i;continue}e.push({type:"CHAR",index:a,value:t[a++]})}return e.push({type:"END",index:a,value:""}),e}function mt(t,e){e===void 0&&(e={});for(var a=gt(t),n=e.prefixes,o=n===void 0?"./":n,i="[^".concat(w(e.delimiter||"/#?"),"]+?"),r=[],m=0,h=0,s="",p=function(S){if(h<a.length&&a[h].type===S)return a[h++].value},b=function(S){var P=p(S);if(P!==void 0)return P;var x=a[h],j=x.type,z=x.index;throw new TypeError("Unexpected ".concat(j," at ").concat(z,", expected ").concat(S))},y=function(){for(var S="",P;P=p("CHAR")||p("ESCAPED_CHAR");)S+=P;return S};h<a.length;){var u=p("CHAR"),N=p("NAME"),O=p("PATTERN");if(N||O){var l=u||"";o.indexOf(l)===-1&&(s+=l,l=""),s&&(r.push(s),s=""),r.push({name:N||m++,prefix:l,suffix:"",pattern:O||i,modifier:p("MODIFIER")||""});continue}var f=u||p("ESCAPED_CHAR");if(f){s+=f;continue}s&&(r.push(s),s="");var E=p("OPEN");if(E){var l=y(),L=p("NAME")||"",c=p("PATTERN")||"",M=y();b("CLOSE"),r.push({name:L||(c?m++:""),pattern:L&&!c?i:c,prefix:l,suffix:M,modifier:p("MODIFIER")||""});continue}b("END")}return r}function V(t,e){var a=[],n=Q(t,a,e);return ut(n,a,e)}function ut(t,e,a){a===void 0&&(a={});var n=a.decode,o=n===void 0?function(i){return i}:n;return function(i){var r=t.exec(i);if(!r)return!1;for(var m=r[0],h=r.index,s=Object.create(null),p=function(y){if(r[y]===void 0)return"continue";var u=e[y-1];u.modifier==="*"||u.modifier==="+"?s[u.name]=r[y].split(u.prefix+u.suffix).map(function(N){return o(N,u)}):s[u.name]=o(r[y],u)},b=1;b<r.length;b++)p(b);return{path:m,index:h,params:s}}}function w(t){return t.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1")}function J(t){return t&&t.sensitive?"":"i"}function ft(t,e){if(!e)return t;for(var a=/\((?:\?<(.*?)>)?(?!\?)/g,n=0,o=a.exec(t.source);o;)e.push({name:o[1]||n++,prefix:"",suffix:"",modifier:"",pattern:""}),o=a.exec(t.source);return t}function St(t,e,a){var n=t.map(function(o){return Q(o,e,a).source});return new RegExp("(?:".concat(n.join("|"),")"),J(a))}function vt(t,e,a){return lt(mt(t,a),e,a)}function lt(t,e,a){a===void 0&&(a={});for(var n=a.strict,o=n===void 0?!1:n,i=a.start,r=i===void 0?!0:i,m=a.end,h=m===void 0?!0:m,s=a.encode,p=s===void 0?function(z){return z}:s,b=a.delimiter,y=b===void 0?"/#?":b,u=a.endsWith,N=u===void 0?"":u,O="[".concat(w(N),"]|$"),l="[".concat(w(y),"]"),f=r?"^":"",E=0,L=t;E<L.length;E++){var c=L[E];if(typeof c=="string")f+=w(p(c));else{var M=w(p(c.prefix)),S=w(p(c.suffix));if(c.pattern)if(e&&e.push(c),M||S)if(c.modifier==="+"||c.modifier==="*"){var P=c.modifier==="*"?"?":"";f+="(?:".concat(M,"((?:").concat(c.pattern,")(?:").concat(S).concat(M,"(?:").concat(c.pattern,"))*)").concat(S,")").concat(P)}else f+="(?:".concat(M,"(").concat(c.pattern,")").concat(S,")").concat(c.modifier);else c.modifier==="+"||c.modifier==="*"?f+="((?:".concat(c.pattern,")").concat(c.modifier,")"):f+="(".concat(c.pattern,")").concat(c.modifier);else f+="(?:".concat(M).concat(S,")").concat(c.modifier)}}if(h)o||(f+="".concat(l,"?")),f+=a.endsWith?"(?=".concat(O,")"):"$";else{var x=t[t.length-1],j=typeof x=="string"?l.indexOf(x[x.length-1])>-1:x===void 0;o||(f+="(?:".concat(l,"(?=").concat(O,"))?")),j||(f+="(?=".concat(l,"|").concat(O,")"))}return new RegExp(f,J(a))}function Q(t,e,a){return t instanceof RegExp?ft(t,e):Array.isArray(t)?St(t,e,a):vt(t,e,a)}var X=new Map;function Z(t=""){return t=t[t.length-1]==="/"?t.slice(0,-1):t,t=t[0]==="/"?t:`/${t}`,t}function g(t,e,a={}){let n,{prefix:o=""}=a;if(o==="/"&&(o=""),!!t.startsWith(o))return t=t.slice(o.length),e.some(i=>{let r=`${!!i.exact}${i.path}`,m=i.path,h=X.get(r)||V(m,{decode:decodeURIComponent,start:!0,end:!!i.exact,sensitive:!1,strict:!1});X.set(r,h);let s=h(t);if(s)return n=i.onMatch({...s,path:`${o}${s.path}`}),!0}),n}var R="([^@~]*)";function ct(t){let e=new URLSearchParams(t.search),a={type:"home"};return bt(a,{pathname:Z(t.pathname),query:e}),t.hash&&(a.hash=t.hash.replace(/^#/,"")),{...a,...dt(e)}}function dt(t){let e=t.get("no_sso"),a=t.get("email");return{query:t.has("q")?t.get("q")||"":void 0,ssoLogin:e||a?{noSSO:e==="account_exists"?e:void 0,email:a||void 0}:void 0}}function bt(t,e){g(e.pathname,[{path:"/invite/:org/:invite",onMatch:a=>{Object.assign(t,{type:"org_join",organization:a.params.org,invite:a.params.invite})}},{path:"/account/verification",onMatch:a=>{Object.assign(t,{type:"account_verification"})}},{path:"/account",onMatch:a=>{Object.assign(t,{type:"account",tab:"profile"}),Pt(t,a,e)}},{path:"/integrations",onMatch:a=>{Object.assign(t,{type:"integrations"}),C(t,a,e)}},{path:"/o/:org/integrations",onMatch:a=>{Object.assign(t,{type:"integrations",organization:a.params.org}),C(t,a,e)}},{path:"/u/:user",onMatch:a=>{Object.assign(t,{type:"user",user:a.params.user})}},{path:"/o/:org/templates/:template?",onMatch:a=>{Object.assign(t,{type:"template",organization:a.params.org,template:a.params.template})}},{path:"/o/:org/import",onMatch:a=>{Object.assign(t,{type:"import",organization:a.params.org})}},{path:"/o/:org/settings",onMatch:a=>{Object.assign(t,{type:"org_settings",tab:"profile",organization:a.params.org}),xt(t,a,e)}},{path:"/o/:org/invite",onMatch:a=>{Object.assign(t,{type:"org_invite",organization:a.params.org})}},{path:"/s/:space",onMatch:a=>{Object.assign(t,{type:"space",space:a.params.space,page:""}),tt(t,a,e)}},{path:"/o/:org/s/:space",onMatch:a=>{Object.assign(t,{type:"space",space:a.params.space,organization:a.params.org,page:""}),tt(t,a,e)}},{path:"/o/:org/c/:collection",onMatch:a=>{Object.assign(t,{type:"collection",collection:a.params.collection,organization:a.params.org,page:""}),et(t,a,e)}},{path:"/o/:org/start",onMatch:a=>{Object.assign(t,{type:"quickstart",organization:a.params.org})}},{path:"/o/:org/home",onMatch:a=>{Object.assign(t,{type:"home",organization:a.params.org})}},{path:"/o/:org",onMatch:a=>{Object.assign(t,{type:"root",organization:a.params.org})}},{path:"/start",onMatch:a=>{Object.assign(t,{type:"quickstart"})}},{path:"/welcome",exact:!0,onMatch:a=>{Object.assign(t,{type:"welcome"})}},{path:"/welcome/o/business",exact:!0,onMatch:a=>{Object.assign(t,{type:"welcome",organizationType:"business"})}},{path:"/welcome/o/community",exact:!0,onMatch:a=>{Object.assign(t,{type:"welcome",organizationType:"community"})}},{path:"/c/:collection",onMatch:a=>{Object.assign(t,{type:"collection",collection:a.params.collection}),et(t,a,e)}},{path:"/admin",onMatch:a=>{Object.assign(t,{type:"back_office",tab:{type:"home"}}),Nt(t,a,e)}},{path:"/@:basename/s/:space",onMatch:a=>{Object.assign(t,{type:"legacy_space",basename:a.params.basename,space:a.params.space}),wt(t,a,e)}},{path:"/@:basename",onMatch:a=>{Object.assign(t,{type:"legacy_account",tab:"spaces",basename:a.params.basename}),Ot(t,a,e)}},{path:"/login/:basename",onMatch:a=>{Object.assign(t,{type:"legacy_account",tab:"root",basename:a.params.basename})}},{path:"/dev/contentkit/:content?",onMatch:a=>{Object.assign(t,{type:"contentkit_builder",content:a.params.content||""})}},{path:"/home",exact:!0,onMatch:a=>{Object.assign(t,{type:"home"})}},{path:"/join",exact:!0,onMatch:a=>{Object.assign(t,{type:"join"})}},{path:"/",exact:!0,onMatch:a=>{Object.assign(t,{type:"root"})}},{path:"/",onMatch:a=>{Object.assign(t,{type:"error_notfound"})}}])}function C(t,e,a){g(a.pathname,[{path:"/:integration",onMatch:n=>{t.integration=n.params.integration}},{path:"",onMatch:n=>{}}],{prefix:e.path})}function tt(t,e,a){g(a.pathname,[{path:"/~/integrations",onMatch:n=>{Object.assign(t,{type:"integrations",space:t.space,page:void 0}),C(t,n,a)}},{path:"/~/templates/:template",onMatch:n=>{Object.assign(t,{type:"template",organization:t.organization,space:t.space,template:n.params.template})}},{path:"/~/templates",onMatch:n=>{Object.assign(t,{type:"template",organization:t.organization,space:t.space})}},{path:"/~/diff",onMatch:n=>{Object.assign(t,{diff:!0}),at(t,n,a)}},{path:"",onMatch:n=>{at(t,n,a)}}],{prefix:e.path})}function at(t,e,a){g(a.pathname,[{path:`/~/revisions/:revision/:page${R}`,onMatch:n=>{Object.assign(t,{page:n.params.page,revision:n.params.revision}),D(t,n,a)}},{path:"/~/revisions/:revision",onMatch:n=>{Object.assign(t,{revision:n.params.revision,page:""}),D(t,n,a)}},{path:`/~/changes/:changeRequest/:page${R}`,onMatch:n=>{Object.assign(t,{page:n.params.page,changeRequest:rt(n.params.changeRequest)}),T(t,n,a)}},{path:"/~/changes/:changeRequest",onMatch:n=>{Object.assign(t,{changeRequest:rt(n.params.changeRequest),page:""}),T(t,n,a)}},{path:`/:page${R}`,onMatch:n=>{Object.assign(t,{page:n.params.page,diff:!1}),T(t,n,a)}},{path:"",onMatch:n=>{Object.assign(t,{diff:!1}),T(t,n,a)}}],{prefix:e.path})}function T(t,e,a){g(a.pathname,[{path:"/~/c/:node/:comment?",onMatch:n=>{t.comments={node:n.params.node,comment:n.params.comment}}},{path:"/~/comments/:tab/~c/:comment",onMatch:n=>{t.comments={comment:n.params.comment}}},{path:"/~/comments/:comment?",onMatch:n=>{let o=n.params.comment,i=a.query.get("context"),r=a.query.get("node");t.comments={...o?{comment:o}:{},...i&&["post"].includes(i)?{context:i}:{},...r?{node:r}:{}}}},{path:"",onMatch:n=>{D(t,n,a)}}],{prefix:e.path})}var yt=Y.map(t=>t.type);function et(t,e,a){g(a.pathname,yt.map(n=>({path:`/~/${n}`,onMatch:o=>{t.sideSheet={type:n},st(t,o,a,n)}})),{prefix:e.path})}var Mt=G.map(t=>t.type);function D(t,e,a){g(a.pathname,Mt.map(n=>({path:`/~/${n}`,onMatch:o=>{t.sideSheet={type:n},st(t,o,a,n)}})),{prefix:e.path})}function st(t,e,a,n){let o=W.find(i=>i.type===n);o&&"tab"in o&&g(a.pathname,o.tab.map(i=>({path:`/${i}`,onMatch:r=>{t.sideSheet.tab=i}})),{prefix:e.path})}function Pt(t,e,a){g(a.pathname,[{path:"/profile",onMatch:n=>{t.tab="profile"}},{path:"/developer",onMatch:n=>{t.tab="developer"}},{path:"/organizations",onMatch:n=>{t.tab="organizations"}},{path:"/integrations",onMatch:n=>{t.tab="integrations"}},{path:"/notification",onMatch:n=>{t.tab="notification"}}],{prefix:e.path})}function xt(t,e,a){g(a.pathname,[{path:"/billing",onMatch:n=>{t.tab={type:"billing"}}},{path:"/members",onMatch:n=>{t.tab={type:"members"}}},{path:"/sso",onMatch:n=>{t.tab={type:"sso"}}},{path:"/plans",onMatch:n=>{let o=a.query.get("interval");t.tab={type:"plans",interval:o==="monthly"||o==="yearly"?o:void 0}}},{path:"/integrations",onMatch:n=>{t.tab={type:"integrations"}}},{path:"",onMatch:n=>{t.tab={type:"profile"}}}],{prefix:e.path})}function Nt(t,e,a){g(a.pathname,[{path:"/u/:user/s/:space",onMatch:n=>{Object.assign(t,{tab:{type:"space",space:n.params.space,owner:{type:"user",user:n.params.user}}})}},{path:"/u/:user/c/:collection",onMatch:n=>{Object.assign(t,{tab:{type:"collection",collection:n.params.collection,owner:{type:"user",user:n.params.user}}})}},{path:"/u/:user",onMatch:n=>{Object.assign(t,{tab:{type:"user",user:n.params.user}})}},{path:"/o/:org/s/:space",onMatch:n=>{Object.assign(t,{tab:{type:"space",space:n.params.space,owner:{type:"org",organization:n.params.org}}})}},{path:"/o/:org/c/:collection",onMatch:n=>{Object.assign(t,{tab:{type:"collection",collection:n.params.collection,owner:{type:"org",organization:n.params.org}}})}},{path:"/o/:org",onMatch:n=>{Object.assign(t,{tab:{type:"org",organization:n.params.org}})}},{path:"/s/:space",onMatch:n=>{Object.assign(t,{tab:{type:"space",space:n.params.space}})}},{path:"/c/:collection",onMatch:n=>{Object.assign(t,{tab:{type:"collection",collection:n.params.collection}})}},{path:"/h/:hostname",onMatch:n=>{Object.assign(t,{tab:{type:"custom_domain",hostname:n.params.hostname}})}}],{prefix:e.path})}function Ot(t,e,a){g(a.pathname,[{path:"/spaces",onMatch:n=>{t.tab="spaces"}},{path:"/settings",onMatch:n=>{t.tab="settings"}},{path:"/teams",onMatch:n=>{t.tab="teams"}},{path:"/billing",onMatch:n=>{t.tab="billing"}}],{prefix:e.path})}function wt(t,e,a){g(a.pathname,[{path:"/~/drafts/:draft",onMatch:n=>{t.draft=n.params.draft,nt(t,n,a)}},{path:"",onMatch:n=>{t.page="",nt(t,n,a)}}],{prefix:e.path})}function nt(t,e,a){g(a.pathname,[{path:"/v/:variant",onMatch:n=>{t.space=n.params.variant,it(t,n,a)}},{path:"",onMatch:n=>{it(t,n,a)}}],{prefix:e.path})}function it(t,e,a){g(a.pathname,[{path:`/:page${R}`,onMatch:n=>{t.page=n.params.page,ot(t,n,a)}},{path:"",onMatch:n=>{t.page="",ot(t,n,a)}}],{prefix:e.path})}function ot(t,e,a){g(a.pathname,[{path:"/@drafts",onMatch:n=>{t.tab="drafts"}},{path:"/@archived",onMatch:n=>{t.tab="drafts_archived"}},{path:"/@merged",onMatch:n=>{t.tab="drafts_merged"}},{path:"/@activity",onMatch:n=>{t.tab="activity"}},{path:"/~/settings/customization",onMatch:n=>{t.tab="customization"}},{path:"/~/settings/teams",onMatch:n=>{t.tab="teams"}},{path:"/~/settings/insights",onMatch:n=>{t.tab="insights"}}],{prefix:e.path})}function rt(t){return/^\d+$/.test(t)?parseInt(t,10):t}v();function ht(t){let e=new URLSearchParams,a=Lt(t,e);return Et(t,e),{pathname:a,...t.hash?{hash:t.hash}:{},...e.toString()?{search:`?${e.toString()}`}:{}}}function Et(t,e){typeof t.query=="string"&&e.append("q",t.query),t.ssoLogin&&(t.ssoLogin.email&&e.append("email",t.ssoLogin.email),t.ssoLogin.noSSO&&e.append("no_sso",t.ssoLogin.noSSO))}function Lt(t,e){let a="/";switch(t.type){case"error_notfound":break;case"home":t.organization?a+=`o/${t.organization}/home`:a+="home";break;case"join":a+="join";break;case"welcome":a+=`welcome${t.organizationType?`/o/${t.organizationType}`:""}`;break;case"integrations":t.organization&&(a+=`o/${t.organization}/`),t.space&&(a+=`s/${t.space}/~/`),a+="integrations",t.integration&&(a+=`/${t.integration}`);break;case"account":a+=Tt(t);break;case"account_verification":a+="account/verification";break;case"space":a+=Rt(t,e);break;case"collection":a+=jt(t);break;case"back_office":a+=zt(t);break;case"quickstart":a+=t.organization?`o/${t.organization}/start`:"start";break;case"org_invite":a+=`o/${t.organization}/invite`;break;case"org_join":a+=`invite/${t.organization}/${t.invite}`;break;case"org_settings":a+=$t(t,e);break;case"user":a+=`u/${t.user}`;break;case"root":t.organization&&(a+=`o/${t.organization}`);break;case"legacy_account":case"legacy_space":throw new Error("This screen is deprecated and should not be used to generate a URL");case"template":t.organization&&(a+=`o/${t.organization}/`),t.space&&(a+=`s/${t.space}/~/`),a+=`templates/${t.template||""}`;break;case"import":a+=`o/${t.organization}/import`;break;case"contentkit_builder":a+=`dev/contentkit/${encodeURIComponent(t.content)}`;break;default:$(t)}return a}function $t(t,e){let a=`o/${t.organization}/settings`;switch(t.tab.type){case"profile":break;case"plans":a+="/plans",t.tab.interval&&e.append("interval",t.tab.interval);break;default:a+=`/${t.tab.type}`;break}return a}function Tt(t){return`account${t.tab==="profile"?"":`/${t.tab}`}`}function Rt(t,e){let a="";return t.organization&&(a+=`o/${t.organization}/`),a+=`s/${t.space}/`,t.diff&&(a+="~/diff/"),t.revision?a+=`~/revisions/${t.revision}/`:t.changeRequest&&(a+=`~/changes/${t.changeRequest}/`),a+=`${t.page&&t.page[0]==="/"?t.page.slice(1):t.page}`,t.comments?(a=d(a,"~/comments"),t.comments.comment&&(a=d(a,t.comments.comment)),t.comments.context&&["post"].includes(t.comments.context)&&e.append("context",t.comments.context),t.comments.node&&e.append("node",t.comments.node)):t.sideSheet&&(a=d(a,`~/${t.sideSheet.type}`),"tab"in t.sideSheet&&(a+=`/${t.sideSheet.tab}`)),a}function jt(t){let e="";return t.organization&&(e+=`o/${t.organization}/`),e+=`c/${t.collection}`,t.sideSheet&&(e=d(e,`~/${t.sideSheet.type}`),"tab"in t.sideSheet&&(e+=`/${t.sideSheet.tab}`)),e}function zt(t){let e="admin";switch(t.tab.type){case"home":break;case"user":e=d(e,`u/${t.tab.user}`);break;case"org":e=d(e,`o/${t.tab.organization}`);break;case"space":e=d(e,pt(t.tab));break;case"collection":e=d(e,pt(t.tab));break;case"custom_domain":e=d(e,`h/${t.tab.hostname}`);break;default:$(t.tab)}return e}function pt(t){let e;if(t.owner)switch(t.owner.type){case"org":e=`o/${t.owner.organization}`;break;case"user":e=`u/${t.owner.user}`;break;default:$(t.owner)}let a=t.type==="space"?`s/${t.space}`:`c/${t.collection}`;return e?d(e,a):a}function d(t,e){return`${t}${t[t.length-1]==="/"?"":"/"}${e}`}v();function na(t){let e=ht(t);return _t(q(),e)}function ia(t){let e=U(t);return!e||e.host!==I()?null:ct({pathname:e.pathname,search:e.search,hash:e.hash?e.hash.slice(1):void 0})}function _t(t,e){let a=new URL(t);return e.pathname!==void 0&&(a.pathname=e.pathname),a.search=e.search||"",e.hash&&(a.hash=`#${e.hash}`),a.toString()}export{A as a,Z as b,g as c,R as d,ct as e,ht as f,na as g,ia as h,_t as i};
//# sourceMappingURL=https://app.gitbook.com/public/app/chunks/chunk-Z7LFZF6N.min.js.map
