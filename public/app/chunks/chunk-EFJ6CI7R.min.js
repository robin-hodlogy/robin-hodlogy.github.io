import{b as oT,c as aT,d as hM}from"https://app.gitbook.com/public/app/chunks/chunk-CIHAFBKJ.min.js";import{a as Xo}from"https://app.gitbook.com/public/app/chunks/chunk-XQJO7322.min.js";import{c as lM,d as Vm,e as tT,g as nT,h as rT,i as iT,j as sT,l as f}from"https://app.gitbook.com/public/app/chunks/chunk-OAKVUAEN.min.js";var iM=lM(()=>{f()});f();f();function Lc(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(let t in e)!e.hasOwnProperty(t)||!dM(t)||(n[t]=Lc(n[t],e[t]));return n}function dM(n){return n!=="__proto__"}function cT(){return typeof self=="object"&&self.self===self}var fM="FirebaseError",Bc=class extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=fM,Object.setPrototypeOf(this,Bc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zo.prototype.create)}},Zo=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?pM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Bc(i,a,r)}};function pM(n,e){return n.replace(mM,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var mM=/\{\$([^}]+)}/g;function $m(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function uT(n,e){let t=new zm(n,e);return t.subscribe.bind(t)}var zm=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");gM(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=jm),i.error===void 0&&(i.error=jm),i.complete===void 0&&(i.complete=jm);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function gM(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function jm(){}var DK=4*60*60*1e3;f();var Ph=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var lg={};Vm(lg,{FirebaseError:()=>zn,SDK_VERSION:()=>Mt,_DEFAULT_ENTRY_NAME:()=>Gn,_addComponent:()=>Vc,_addOrOverwriteComponent:()=>og,_apps:()=>oi,_clearComponents:()=>mB,_components:()=>Fc,_getProvider:()=>bn,_registerComponent:()=>Ie,_removeServiceInstance:()=>xT,deleteApp:()=>ag,getApp:()=>ai,getApps:()=>_B,initializeApp:()=>qh,onLog:()=>cg,registerVersion:()=>ie,setLogLevel:()=>ug});f();f();f();var hT=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},_M=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},dT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,l=s>>2,h=(s&3)<<4|a>>4,d=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(d=64)),r.push(t[l],t[h],t[d],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(hT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_M(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new Gm;let d=s<<2|a>>4;if(r.push(d),u!==64){let p=a<<4&240|u>>2;if(r.push(p),h!==64){let m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Gm=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},yM=function(n){let e=hT(n);return dT.encodeByteArray(e,!0)},Wm=function(n){return yM(n).replace(/\./g,"")},vM=function(n){try{return dT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function EM(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("Unable to locate global object.")}var bM=()=>EM().__FIREBASE_DEFAULTS__,IM=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wM=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}let e=n&&vM(n[1]);return e&&JSON.parse(e)},TM=()=>{try{return bM()||IM()||wM()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}};var fT=()=>{var n;return(n=TM())===null||n===void 0?void 0:n.config};var Mh=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function pT(){try{return typeof indexedDB=="object"}catch(n){return!1}}function mT(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var SM="FirebaseError",zn=class extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=SM,Object.setPrototypeOf(this,zn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Uc.prototype.create)}},Uc=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?CM(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zn(i,a,r)}};function CM(n,e){return n.replace(AM,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var AM=/\{\$([^}]+)}/g;function Bh(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(lT(s)&&lT(o)){if(!Bh(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function lT(n){return n!==null&&typeof n=="object"}var LK=4*60*60*1e3;var Is=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var bs="[DEFAULT]";var Hm=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Mh;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(xM(e))try{this.getOrInitializeService({instanceIdentifier:bs})}catch(t){}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=bs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=bs){return this.instances.has(e)}getOptions(e=bs){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:RM(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=bs){return this.component?this.component.multipleInstances?e:bs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function RM(n){return n===bs?void 0:n}function xM(n){return n.instantiationMode==="EAGER"}var Lh=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Hm(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};f();var Km=[],W;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(W||(W={}));var gT={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},DM=W.INFO,OM={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},NM=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=OM[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},mt=class{constructor(e){this.name=e,this._logLevel=DM,this._logHandler=NM,this._userLogHandler=null,Km.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in W))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?gT[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...e),this._logHandler(this,W.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...e),this._logHandler(this,W.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,W.INFO,...e),this._logHandler(this,W.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,W.WARN,...e),this._logHandler(this,W.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...e),this._logHandler(this,W.ERROR,...e)}};function _T(n){Km.forEach(e=>{e.setLogLevel(n)})}function yT(n,e){for(let t of Km){let r=null;e&&e.level&&(r=gT[e.level]),n===null?t.userLogHandler=null:t.userLogHandler=(i,s,...o)=>{let a=o.map(c=>{if(c==null)return null;if(typeof c=="string")return c;if(typeof c=="number"||typeof c=="boolean")return c.toString();if(c instanceof Error)return c.message;try{return JSON.stringify(c)}catch(u){return null}}).filter(c=>c).join(" ");s>=(r!=null?r:i.logLevel)&&n({level:W[s].toLowerCase(),message:a,args:o,type:i.name})}}}f();f();var kM=(n,e)=>e.some(t=>n instanceof t),vT,ET;function PM(){return vT||(vT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function MM(){return ET||(ET=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bT=new WeakMap,Qm=new WeakMap,IT=new WeakMap,Ym=new WeakMap,Xm=new WeakMap;function BM(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t($n(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&bT.set(t,n)}).catch(()=>{}),Xm.set(e,n),e}function LM(n){if(Qm.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});Qm.set(n,e)}var Jm={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Qm.get(n);if(e==="objectStoreNames")return n.objectStoreNames||IT.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return $n(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function wT(n){Jm=n(Jm)}function UM(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Uh(this),e,...t);return IT.set(r,e.sort?e.sort():[e]),$n(r)}:MM().includes(n)?function(...e){return n.apply(Uh(this),e),$n(bT.get(this))}:function(...e){return $n(n.apply(Uh(this),e))}}function FM(n){return typeof n=="function"?UM(n):(n instanceof IDBTransaction&&LM(n),kM(n,PM())?new Proxy(n,Jm):n)}function $n(n){if(n instanceof IDBRequest)return BM(n);if(Ym.has(n))return Ym.get(n);let e=FM(n);return e!==n&&(Ym.set(n,e),Xm.set(e,n)),e}var Uh=n=>Xm.get(n);function Fh(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),a=$n(o);return r&&o.addEventListener("upgradeneeded",c=>{r($n(o.result),c.oldVersion,c.newVersion,$n(o.transaction))}),t&&o.addEventListener("blocked",()=>t()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}var qM=["get","getKey","getAll","getAllKeys","count"],VM=["put","add","delete","clear"],Zm=new Map;function TT(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Zm.get(e))return Zm.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=VM.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qM.includes(t)))return;let s=async function(o,...a){let c=this.transaction(o,i?"readwrite":"readonly"),u=c.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[t](...a),i&&c.done]))[0]};return Zm.set(e,s),s}wT(n=>({...n,get:(e,t,r)=>TT(e,t)||n.get(e,t,r),has:(e,t)=>!!TT(e,t)||n.has(e,t)}));var tg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(jM(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function jM(n){let e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}var ng="@firebase/app",ST="0.9.5";var ws=new mt("@firebase/app"),zM="@firebase/app-compat",$M="@firebase/analytics-compat",GM="@firebase/analytics",WM="@firebase/app-check-compat",HM="@firebase/app-check",KM="@firebase/auth",YM="@firebase/auth-compat",QM="@firebase/database",JM="@firebase/database-compat",XM="@firebase/functions",ZM="@firebase/functions-compat",eB="@firebase/installations",tB="@firebase/installations-compat",nB="@firebase/messaging",rB="@firebase/messaging-compat",iB="@firebase/performance",sB="@firebase/performance-compat",oB="@firebase/remote-config",aB="@firebase/remote-config-compat",cB="@firebase/storage",uB="@firebase/storage-compat",lB="@firebase/firestore",hB="@firebase/firestore-compat",dB="firebase",fB="9.18.0";var Gn="[DEFAULT]",pB={[ng]:"fire-core",[zM]:"fire-core-compat",[GM]:"fire-analytics",[$M]:"fire-analytics-compat",[HM]:"fire-app-check",[WM]:"fire-app-check-compat",[KM]:"fire-auth",[YM]:"fire-auth-compat",[QM]:"fire-rtdb",[JM]:"fire-rtdb-compat",[XM]:"fire-fn",[ZM]:"fire-fn-compat",[eB]:"fire-iid",[tB]:"fire-iid-compat",[nB]:"fire-fcm",[rB]:"fire-fcm-compat",[iB]:"fire-perf",[sB]:"fire-perf-compat",[oB]:"fire-rc",[aB]:"fire-rc-compat",[cB]:"fire-gcs",[uB]:"fire-gcs-compat",[lB]:"fire-fst",[hB]:"fire-fst-compat","fire-js":"fire-js",[dB]:"fire-js-all"};var oi=new Map,Fc=new Map;function Vc(n,e){try{n.container.addComponent(e)}catch(t){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function og(n,e){n.container.addOrOverwriteComponent(e)}function Ie(n){let e=n.name;if(Fc.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;Fc.set(e,n);for(let t of oi.values())Vc(t,n);return!0}function bn(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function xT(n,e,t=Gn){bn(n,e).clearInstance(t)}function mB(){Fc.clear()}var gB={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Ir=new Uc("app","Firebase",gB);var rg=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Is("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ir.create("app-deleted",{appName:this._name})}};var Mt=fB;function qh(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Gn,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Ir.create("bad-app-name",{appName:String(i)});if(t||(t=fT()),!t)throw Ir.create("no-options");let s=oi.get(i);if(s){if(Bh(t,s.options)&&Bh(r,s.config))return s;throw Ir.create("duplicate-app",{appName:i})}let o=new Lh(i);for(let c of Fc.values())o.addComponent(c);let a=new rg(t,r,o);return oi.set(i,a),a}function ai(n=Gn){let e=oi.get(n);if(!e&&n===Gn)return qh();if(!e)throw Ir.create("no-app",{appName:n});return e}function _B(){return Array.from(oi.values())}async function ag(n){let e=n.name;oi.has(e)&&(oi.delete(e),await Promise.all(n.container.getProviders().map(t=>t.delete())),n.isDeleted=!0)}function ie(n,e,t){var r;let i=(r=pB[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(a.join(" "));return}Ie(new Is(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function cg(n,e){if(n!==null&&typeof n!="function")throw Ir.create("invalid-log-argument");yT(n,e)}function ug(n){_T(n)}var yB="firebase-heartbeat-database",vB=1,qc="firebase-heartbeat-store",eg=null;function DT(){return eg||(eg=Fh(yB,vB,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(qc)}}}).catch(n=>{throw Ir.create("idb-open",{originalErrorMessage:n.message})})),eg}async function EB(n){try{return(await DT()).transaction(qc).objectStore(qc).get(OT(n))}catch(e){if(e instanceof zn)ws.warn(e.message);else{let t=Ir.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ws.warn(t.message)}}}async function CT(n,e){try{let r=(await DT()).transaction(qc,"readwrite");return await r.objectStore(qc).put(e,OT(n)),r.done}catch(t){if(t instanceof zn)ws.warn(t.message);else{let r=Ir.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ws.warn(r.message)}}}function OT(n){return`${n.name}!${n.options.appId}`}var bB=1024,IB=30*24*60*60*1e3,ig=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new sg(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){let t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=AT();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{let s=new Date(i.date).valueOf();return Date.now()-s<=IB}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";let e=AT(),{heartbeatsToSend:t,unsentEntries:r}=wB(this._heartbeatsCache.heartbeats),i=Wm(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}};function AT(){return new Date().toISOString().substring(0,10)}function wB(n,e=bB){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),RT(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),RT(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var sg=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return pT()?mT().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await EB(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return CT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){let i=await this.read();return CT(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}};function RT(n){return Wm(JSON.stringify({version:2,heartbeats:n})).length}function TB(n){Ie(new Is("platform-logger",e=>new tg(e),"PRIVATE")),Ie(new Is("heartbeat",e=>new ig(e),"PRIVATE")),ie(ng,ST,n),ie(ng,ST,"esm2017"),ie("fire-js","")}TB("");var hg=class{constructor(e,t){this._delegate=e,this.firebase=t,Vc(e,new Ph("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),ag(this._delegate)))}_getService(e,t=Gn){var r;this._delegate.checkDestroyed();let i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:t})}_removeServiceInstance(e,t=Gn){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Vc(this._delegate,e)}_addOrOverwriteComponent(e){og(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}};var SB={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance."},NT=new Zo("app-compat","Firebase",SB);function CB(n){let e={},t={__esModule:!0,initializeApp:s,app:i,registerVersion:ie,setLogLevel:ug,onLog:cg,apps:null,SDK_VERSION:Mt,INTERNAL:{registerComponent:a,removeApp:r,useAsService:c,modularAPIs:lg}};t.default=t,Object.defineProperty(t,"apps",{get:o});function r(u){delete e[u]}function i(u){if(u=u||Gn,!$m(e,u))throw NT.create("no-app",{appName:u});return e[u]}i.App=n;function s(u,l={}){let h=qh(u,l);if($m(e,h.name))return e[h.name];let d=new n(h,t);return e[h.name]=d,d}function o(){return Object.keys(e).map(u=>e[u])}function a(u){let l=u.name,h=l.replace("-compat","");if(Ie(u)&&u.type==="PUBLIC"){let d=(p=i())=>{if(typeof p[h]!="function")throw NT.create("invalid-app-argument",{appName:l});return p[h]()};u.serviceProps!==void 0&&Lc(d,u.serviceProps),t[h]=d,n.prototype[h]=function(...p){return this._getService.bind(this,l).apply(this,u.multipleInstances?p:[])}}return u.type==="PUBLIC"?t[h]:null}function c(u,l){return l==="serverAuth"?null:l}return t}function PT(){let n=CB(hg);n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:PT,extendNamespace:e,createSubscribe:uT,ErrorFactory:Zo,deepExtend:Lc});function e(t){Lc(n,t)}return n}var AB=PT();var kT=new mt("@firebase/app-compat"),RB="@firebase/app-compat",xB="0.2.5";function DB(n){ie(RB,xB,n)}if(cT()&&self.firebase!==void 0){kT.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);let n=self.firebase.SDK_VERSION;n&&n.indexOf("LITE")>=0&&kT.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}var se=AB;DB();f();var OB="firebase",NB="9.18.0";se.registerVersion(OB,NB,"app-compat");f();var dg=JSON.parse('{"analytics":{"amplitude":{"key":"","endpoint":"app.gitbook.com/__amp/","apiKey":"fef1e872c952688acd962d30aa545b9e"},"segment":{"apiHost":"segment-api.gitbook.com","cdnHost":"segment-cdn.gitbook.com","writeKey":"EEdcUcWuDMw1N1EEUB4RUYp1OO4aHAMW"}},"algolia":{"appID":"U102FN9U1K"},"homepage":{"domain":"www.gitbook.com","rootDomain":"gitbook.com"},"integrations":{"assetsDomain":"integrations-assets.gitbook.com","domain":"integrations.gitbook.com"},"content":{"publicDomain":"gitbook.io","cname":"hosting.gitbook.io","trackingCookieDomain":".gitbook.com"},"stripe":{"public_key":"pk_live_iPkbPsG28bjTrkbfHXUq0cA0"},"cloudflare":{"zoneDomain":"www.gitbook.com"},"sentry":{"dsn":"https://a9072c7b7a264a6e9c617a4fa5fa8ed9@o1000929.ingest.sentry.io/5960429","securityHeader":"https://o1000929.ingest.sentry.io/api/5960429/security/?sentry_key=a9072c7b7a264a6e9c617a4fa5fa8ed9","recordReplays":true,"tracesSampling":0.01,"publicContent":{"tracesSampling":0.0005}},"emails":{"domain":"gitbook.com"},"storage":{"cdnHost":"files.gitbook.com","filesDomainSuffix":"files.gitbook.io","legacyFilesBucket":"gitbook-legacy-files","legacyFilesPreviousBucket":"gitbook-28427.appspot.com"},"helpscout":{"key":"382cf2f4-d56d-4109-b0c0-066d8ba9471a"},"castle":{"key":"pk_FqZjowm5oV2YzpB6yrz81HSAznzyE6x3"},"launchDarkly":{"clientSideId":"6291f15029001c166ad3ccb0"},"magicbell":{"apiKey":"2a27a438a85338e7030eee3128d61d1fbf166531"},"firebase":{"apiKey":"AIzaSyBZ_bdUVPPIS7IltMVbp8jEvrvvqGgGItU","authDomain":"app.gitbook.com","databaseURL":"https://gitbook-x-prod-default-rtdb.firebaseio.com","projectId":"gitbook-x-prod","storageBucket":"gitbook-x-prod.appspot.com","messagingSenderId":"958285583043","appId":"1:958285583043:web:9c80475faa8bc9f9cb0876","measurementId":"G-0JZ9C3M56S"},"api":{"domain":"api.gitbook.com"},"customerio":{"orgId":"34ea4f74-1f2e-4dda-97dd-c1fba28d47a7","siteId":"1583cf9509cef96f9b32","region":"US"},"saml":{"domain":"www.gitbook.com"},"gitsync":{"databaseName":"gitbook-x-prod-gitsync-rtdb","github":{"publicAppUrl":"https://github.com/apps/gitbook-com"}}}');f();f();var kB=new Proxy({},{get:()=>{throw new Error("Cannot access functions configuration in web build")}});f();var PB="10.9.300";f();var jc="production",MB=jc!=="production"&&jc!=="test",BB=!1,vY=BB&&void 0==="preview";f();f();f();f();f();var BT=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},LB=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},LT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,l=s>>2,h=(s&3)<<4|a>>4,d=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(d=64)),r.push(t[l],t[h],t[d],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(BT(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):LB(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new fg;let d=s<<2|a>>4;if(r.push(d),u!==64){let p=a<<4&240|u>>2;if(r.push(p),h!==64){let m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},fg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},UB=function(n){let e=BT(n);return LT.encodeByteArray(e,!0)},MT=function(n){return UB(n).replace(/\./g,"")},FB=function(n){try{return LT.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function qB(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("Unable to locate global object.")}var VB=()=>qB().__FIREBASE_DEFAULTS__,jB=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},zB=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}let e=n&&FB(n[1]);return e&&JSON.parse(e)},$B=()=>{try{return VB()||jB()||zB()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}};function UT(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n),a="";return[MT(JSON.stringify(t)),MT(JSON.stringify(o)),a].join(".")}function Vh(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function GB(){var n;let e=(n=$B())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(window.process)==="[object process]"}catch(t){return!1}}function FT(){return!GB()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function qT(){try{return typeof indexedDB=="object"}catch(n){return!1}}var WB="FirebaseError",Ts=class extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=WB,Object.setPrototypeOf(this,Ts.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pg.prototype.create)}},pg=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?HB(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ts(i,a,r)}};function HB(n,e){return n.replace(KB,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var KB=/\{\$([^}]+)}/g;var RY=4*60*60*1e3;function je(n){return n&&n._delegate?n._delegate:n}var jh=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};f();var YB=typeof globalThis<"u"?globalThis:typeof window<"u"||typeof window<"u"?window:typeof self<"u"?self:{},Sr={},x,Pg=Pg||{},U=YB||self;function Yh(){}function rd(n){var e=typeof n;return e=e!="object"?e:n?Array.isArray(n)?"array":e:"null",e=="array"||e=="object"&&typeof n.length=="number"}function Xc(n){var e=typeof n;return e=="object"&&n!=null||e=="function"}function QB(n){return Object.prototype.hasOwnProperty.call(n,mg)&&n[mg]||(n[mg]=++JB)}var mg="closure_uid_"+(1e9*Math.random()>>>0),JB=0;function XB(n,e,t){return n.call.apply(n.bind,arguments)}function ZB(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function gt(n,e,t){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?gt=XB:gt=ZB,gt.apply(null,arguments)}function zh(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ut(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ci(){this.s=this.s,this.o=this.o}var eL=0;ci.prototype.s=!1;ci.prototype.na=function(){!this.s&&(this.s=!0,this.M(),eL!=0)&&QB(this)};ci.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var XT=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if(typeof n=="string")return typeof e!="string"||e.length!=1?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function Mg(n){let e=n.length;if(0<e){let t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function VT(n,e){for(let t=1;t<arguments.length;t++){let r=arguments[t];if(rd(r)){let i=n.length||0,s=r.length||0;n.length=i+s;for(let o=0;o<s;o++)n[i+o]=r[o]}else n.push(r)}}function _t(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}_t.prototype.h=function(){this.defaultPrevented=!0};var tL=function(){if(!U.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{U.addEventListener("test",Yh,e),U.removeEventListener("test",Yh,e)}catch(t){}return n}();function Qh(n){return/^[\s\xa0]*$/.test(n)}var jT=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function gg(n,e){return n<e?-1:n>e?1:0}function id(){var n=U.navigator;return n&&(n=n.userAgent)?n:""}function Wn(n){return id().indexOf(n)!=-1}function Bg(n){return Bg[" "](n),n}Bg[" "]=Yh;function nL(n){var e=sL;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}var rL=Wn("Opera"),ta=Wn("Trident")||Wn("MSIE"),ZT=Wn("Edge"),Eg=ZT||ta,eS=Wn("Gecko")&&!(id().toLowerCase().indexOf("webkit")!=-1&&!Wn("Edge"))&&!(Wn("Trident")||Wn("MSIE"))&&!Wn("Edge"),iL=id().toLowerCase().indexOf("webkit")!=-1&&!Wn("Edge");function tS(){var n=U.document;return n?n.documentMode:void 0}var Jh;e:{if($h="",Gh=function(){var n=id();if(eS)return/rv:([^\);]+)(\)|;)/.exec(n);if(ZT)return/Edge\/([\d\.]+)/.exec(n);if(ta)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(iL)return/WebKit\/(\S+)/.exec(n);if(rL)return/(?:Version)[ \/]?(\S+)/.exec(n)}(),Gh&&($h=Gh?Gh[1]:""),ta&&(Wh=tS(),Wh!=null&&Wh>parseFloat($h))){Jh=String(Wh);break e}Jh=$h}var $h,Gh,Wh,sL={};function oL(){return nL(function(){let n=0,e=jT(String(Jh)).split("."),t=jT("9").split("."),r=Math.max(e.length,t.length);for(let o=0;n==0&&o<r;o++){var i=e[o]||"",s=t[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],i[0].length==0&&s[0].length==0)break;n=gg(i[1].length==0?0:parseInt(i[1],10),s[1].length==0?0:parseInt(s[1],10))||gg(i[2].length==0,s[2].length==0)||gg(i[2],s[2]),i=i[3],s=s[3]}while(n==0)}return 0<=n})}var bg;U.document&&ta?(_g=tS(),bg=_g||parseInt(Jh,10)||void 0):bg=void 0;var _g,aL=bg;function Hc(n,e){if(_t.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(eS){e:{try{Bg(e.nodeName);var i=!0;break e}catch(s){}i=!1}i||(e=null)}}else t=="mouseover"?e=n.fromElement:t=="mouseout"&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:cL[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Hc.X.h.call(this)}}ut(Hc,_t);var cL={2:"touch",3:"pen",4:"mouse"};Hc.prototype.h=function(){Hc.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Zc="closure_listenable_"+(1e6*Math.random()|0),uL=0;function lL(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++uL,this.ba=this.ea=!1}function sd(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function Lg(n,e,t){for(let r in n)e.call(t,n[r],r,n)}function nS(n){let e={};for(let t in n)e[t]=n[t];return e}var zT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function rS(n,e){let t,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(t in r)n[t]=r[t];for(let s=0;s<zT.length;s++)t=zT[s],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function od(n){this.src=n,this.g={},this.h=0}od.prototype.add=function(n,e,t,r,i){var s=n.toString();n=this.g[s],n||(n=this.g[s]=[],this.h++);var o=wg(n,e,r,i);return-1<o?(e=n[o],t||(e.ea=!1)):(e=new lL(e,this.src,s,!!r,i),e.ea=t,n.push(e)),e};function Ig(n,e){var t=e.type;if(t in n.g){var r=n.g[t],i=XT(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(sd(e),n.g[t].length==0&&(delete n.g[t],n.h--))}}function wg(n,e,t,r){for(var i=0;i<n.length;++i){var s=n[i];if(!s.ba&&s.listener==e&&s.capture==!!t&&s.ha==r)return i}return-1}var Ug="closure_lm_"+(1e6*Math.random()|0),yg={};function iS(n,e,t,r,i){if(r&&r.once)return oS(n,e,t,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)iS(n,e[s],t,r,i);return null}return t=Vg(t),n&&n[Zc]?n.N(e,t,Xc(r)?!!r.capture:!!r,i):sS(n,e,t,!1,r,i)}function sS(n,e,t,r,i,s){if(!e)throw Error("Invalid event type");var o=Xc(i)?!!i.capture:!!i,a=qg(n);if(a||(n[Ug]=a=new od(n)),t=a.add(e,t,r,o,s),t.proxy)return t;if(r=hL(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)tL||(i=o),i===void 0&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(cS(e.toString()),r);else if(n.addListener&&n.removeListener)n.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return t}function hL(){function n(t){return e.call(n.src,n.listener,t)}let e=dL;return n}function oS(n,e,t,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)oS(n,e[s],t,r,i);return null}return t=Vg(t),n&&n[Zc]?n.O(e,t,Xc(r)?!!r.capture:!!r,i):sS(n,e,t,!0,r,i)}function aS(n,e,t,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)aS(n,e[s],t,r,i);else r=Xc(r)?!!r.capture:!!r,t=Vg(t),n&&n[Zc]?(n=n.i,e=String(e).toString(),e in n.g&&(s=n.g[e],t=wg(s,t,r,i),-1<t&&(sd(s[t]),Array.prototype.splice.call(s,t,1),s.length==0&&(delete n.g[e],n.h--)))):n&&(n=qg(n))&&(e=n.g[e.toString()],n=-1,e&&(n=wg(e,t,r,i)),(t=-1<n?e[n]:null)&&Fg(t))}function Fg(n){if(typeof n!="number"&&n&&!n.ba){var e=n.src;if(e&&e[Zc])Ig(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(cS(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=qg(e))?(Ig(t,n),t.h==0&&(t.src=null,e[Ug]=null)):sd(n)}}}function cS(n){return n in yg?yg[n]:yg[n]="on"+n}function dL(n,e){if(n.ba)n=!0;else{e=new Hc(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&Fg(n),n=t.call(r,e)}return n}function qg(n){return n=n[Ug],n instanceof od?n:null}var vg="__closure_events_fn_"+(1e9*Math.random()>>>0);function Vg(n){return typeof n=="function"?n:(n[vg]||(n[vg]=function(e){return n.handleEvent(e)}),n[vg])}function et(){ci.call(this),this.i=new od(this),this.P=this,this.I=null}ut(et,ci);et.prototype[Zc]=!0;et.prototype.removeEventListener=function(n,e,t,r){aS(this,n,e,t,r)};function ct(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,typeof e=="string")e=new _t(e,n);else if(e instanceof _t)e.target=e.target||n;else{var i=e;e=new _t(r,n),rS(e,i)}if(i=!0,t)for(var s=t.length-1;0<=s;s--){var o=e.g=t[s];i=Hh(o,r,!0,e)&&i}if(o=e.g=n,i=Hh(o,r,!0,e)&&i,i=Hh(o,r,!1,e)&&i,t)for(s=0;s<t.length;s++)o=e.g=t[s],i=Hh(o,r,!1,e)&&i}et.prototype.M=function(){if(et.X.M.call(this),this.i){var n=this.i,e;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)sd(t[r]);delete n.g[e],n.h--}}this.I=null};et.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)};et.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};function Hh(n,e,t,r){if(e=n.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.ba&&o.capture==t){var a=o.listener,c=o.ha||o.src;o.ea&&Ig(n.i,o),i=a.call(c,r)!==!1&&i}}return i&&!r.defaultPrevented}var jg=U.JSON.stringify;function fL(){var n=hS;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var Tg=class{constructor(){this.h=this.g=null}add(e,t){let r=uS.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},uS=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new Sg,n=>n.reset()),Sg=class{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}};function pL(n){U.setTimeout(()=>{throw n},0)}function lS(n,e){Cg||mL(),Ag||(Cg(),Ag=!0),hS.add(n,e)}var Cg;function mL(){var n=U.Promise.resolve(void 0);Cg=function(){n.then(gL)}}var Ag=!1,hS=new Tg;function gL(){for(var n;n=fL();){try{n.h.call(n.g)}catch(t){pL(t)}var e=uS;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Ag=!1}function ad(n,e){et.call(this),this.h=n||1,this.g=e||U,this.j=gt(this.lb,this),this.l=Date.now()}ut(ad,et);x=ad.prototype;x.ca=!1;x.R=null;x.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),ct(this,"tick"),this.ca&&(zg(this),this.start()))}};x.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function zg(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}x.M=function(){ad.X.M.call(this),zg(this),delete this.g};function $g(n,e,t){if(typeof n=="function")t&&(n=gt(n,t));else if(n&&typeof n.handleEvent=="function")n=gt(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:U.setTimeout(n,e||0)}function dS(n){n.g=$g(()=>{n.g=null,n.i&&(n.i=!1,dS(n))},n.j);let e=n.h;n.h=null,n.m.apply(null,e)}var Rg=class extends ci{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:dS(this)}M(){super.M(),this.g&&(U.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}};function Kc(n){ci.call(this),this.h=n,this.g={}}ut(Kc,ci);var $T=[];function fS(n,e,t,r){Array.isArray(t)||(t&&($T[0]=t.toString()),t=$T);for(var i=0;i<t.length;i++){var s=iS(e,t[i],r||n.handleEvent,!1,n.h||n);if(!s)break;n.g[s.key]=s}}function pS(n){Lg(n.g,function(e,t){this.g.hasOwnProperty(t)&&Fg(e)},n),n.g={}}Kc.prototype.M=function(){Kc.X.M.call(this),pS(this)};Kc.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function cd(){this.g=!0}cd.prototype.Aa=function(){this.g=!1};function _L(n,e,t,r,i,s){n.info(function(){if(n.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var u=a[c].split("=");if(1<u.length){var l=u[0];u=u[1];var h=l.split("_");o=2<=h.length&&h[1]=="type"?o+(l+"="+u+"&"):o+(l+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+t+`
`+o})}function yL(n,e,t,r,i,s,o){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+t+`
`+s+" "+o})}function ea(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+EL(n,t)+(r?" "+r:"")})}function vL(n,e){n.info(function(){return"TIMEOUT: "+e})}cd.prototype.info=function(){};function EL(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t){for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return jg(t)}catch(a){return e}}var Rs={},GT=null;function ud(){return GT=GT||new et}Rs.Pa="serverreachability";function mS(n){_t.call(this,Rs.Pa,n)}ut(mS,_t);function Yc(n){let e=ud();ct(e,new mS(e))}Rs.STAT_EVENT="statevent";function gS(n,e){_t.call(this,Rs.STAT_EVENT,n),this.stat=e}ut(gS,_t);function At(n){let e=ud();ct(e,new gS(e,n))}Rs.Qa="timingevent";function _S(n,e){_t.call(this,Rs.Qa,n),this.size=e}ut(_S,_t);function eu(n,e){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return U.setTimeout(function(){n()},e)}var ld={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},yS={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Gg(){}Gg.prototype.h=null;function WT(n){return n.h||(n.h=n.i())}function vS(){}var tu={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Wg(){_t.call(this,"d")}ut(Wg,_t);function Hg(){_t.call(this,"c")}ut(Hg,_t);var xg;function hd(){}ut(hd,Gg);hd.prototype.g=function(){return new XMLHttpRequest};hd.prototype.i=function(){return{}};xg=new hd;function nu(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Kc(this),this.O=bL,n=Eg?125:void 0,this.T=new ad(n),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ES}function ES(){this.i=null,this.g="",this.h=!1}var bL=45e3,Dg={},Xh={};x=nu.prototype;x.setTimeout=function(n){this.O=n};function Og(n,e,t){n.K=1,n.v=fd(Tr(e)),n.s=t,n.P=!0,bS(n,null)}function bS(n,e){n.F=Date.now(),ru(n),n.A=Tr(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),xS(t.i,"t",r),n.C=0,t=n.l.H,n.h=new ES,n.g=QS(n.l,t?e:null,!n.s),0<n.N&&(n.L=new Rg(gt(n.La,n,n.g),n.N)),fS(n.S,n.g,"readystatechange",n.ib),e=n.H?nS(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Yc(),_L(n.j,n.u,n.A,n.m,n.U,n.s)}x.ib=function(n){n=n.target;let e=this.L;e&&wr(n)==3?e.l():this.La(n)};x.La=function(n){try{if(n==this.g)e:{let l=wr(this.g);var e=this.g.Ea();let h=this.g.aa();if(!(3>l)&&(l!=3||Eg||this.g&&(this.h.h||this.g.fa()||QT(this.g)))){this.I||l!=4||e==7||(e==8||0>=h?Yc(3):Yc(2)),dd(this);var t=this.g.aa();this.Y=t;t:if(IS(this)){var r=QT(this.g);n="";var i=r.length,s=wr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ss(this),Wc(this);var o="";break t}this.h.i=new U.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=t==200,yL(this.j,this.u,this.A,this.m,this.U,l,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Qh(a)){var u=a;break t}}u=null}if(t=u)ea(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ng(this,t);else{this.i=!1,this.o=3,At(12),Ss(this),Wc(this);break e}}this.P?(wS(this,l,o),Eg&&this.i&&l==3&&(fS(this.S,this.T,"tick",this.hb),this.T.start())):(ea(this.j,this.m,o,null),Ng(this,o)),l==4&&Ss(this),this.i&&!this.I&&(l==4?WS(this.l,this):(this.i=!1,ru(this)))}else t==400&&0<o.indexOf("Unknown SID")?(this.o=3,At(12)):(this.o=0,At(13)),Ss(this),Wc(this)}}}catch(l){}finally{}};function IS(n){return n.g?n.u=="GET"&&n.K!=2&&n.l.Da:!1}function wS(n,e,t){let r=!0,i;for(;!n.I&&n.C<t.length;)if(i=IL(n,t),i==Xh){e==4&&(n.o=4,At(14),r=!1),ea(n.j,n.m,null,"[Incomplete Response]");break}else if(i==Dg){n.o=4,At(15),ea(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}else ea(n.j,n.m,i,null),Ng(n,i);IS(n)&&i!=Xh&&i!=Dg&&(n.h.g="",n.C=0),e!=4||t.length!=0||n.h.h||(n.o=1,At(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,e=n.l,e.g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),e_(e),e.K=!0,At(11))):(ea(n.j,n.m,t,"[Invalid Chunked Response]"),Ss(n),Wc(n))}x.hb=function(){if(this.g){var n=wr(this.g),e=this.g.fa();this.C<e.length&&(dd(this),wS(this,n,e),this.i&&n!=4&&ru(this))}};function IL(n,e){var t=n.C,r=e.indexOf(`
`,t);return r==-1?Xh:(t=Number(e.substring(t,r)),isNaN(t)?Dg:(r+=1,r+t>e.length?Xh:(e=e.substr(r,t),n.C=r+t,e)))}x.cancel=function(){this.I=!0,Ss(this)};function ru(n){n.V=Date.now()+n.O,TS(n,n.O)}function TS(n,e){if(n.B!=null)throw Error("WatchDog timer not null");n.B=eu(gt(n.gb,n),e)}function dd(n){n.B&&(U.clearTimeout(n.B),n.B=null)}x.gb=function(){this.B=null;let n=Date.now();0<=n-this.V?(vL(this.j,this.A),this.K!=2&&(Yc(),At(17)),Ss(this),this.o=2,Wc(this)):TS(this,this.V-n)};function Wc(n){n.l.G==0||n.I||WS(n.l,n)}function Ss(n){dd(n);var e=n.L;e&&typeof e.na=="function"&&e.na(),n.L=null,zg(n.T),pS(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function Ng(n,e){try{var t=n.l;if(t.G!=0&&(t.g==n||kg(t.h,n))){if(!n.J&&kg(t.h,n)&&t.G==3){try{var r=t.Fa.g.parse(e)}catch(u){r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!t.u){if(t.g)if(t.g.F+3e3<n.F)td(t),gd(t);else break e;Zg(t),At(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&t.A==0&&!t.v&&(t.v=eu(gt(t.cb,t),6e3));if(1>=NS(t.h)&&t.ja){try{t.ja()}catch(u){}t.ja=void 0}}else Cs(t,11)}else if((n.J||t.g==n)&&td(t),!Qh(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(t.T=u[0],u=u[1],t.G==2)if(u[0]=="c"){t.I=u[1],t.ka=u[2];let l=u[3];l!=null&&(t.ma=l,t.j.info("VER="+t.ma));let h=u[4];h!=null&&(t.Ca=h,t.j.info("SVER="+t.Ca));let d=u[5];d!=null&&typeof d=="number"&&0<d&&(r=1.5*d,t.J=r,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;let p=n.g;if(p){let m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.h;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(Kg(s,s.h),s.h=null))}if(r.D){let _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.za=_,me(r.F,r.D,_))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms")),r=t;var o=n;if(r.sa=YS(r,r.H?r.ka:null,r.V),o.J){kS(r.h,o);var a=o,c=r.J;c&&a.setTimeout(c),a.B&&(dd(a),ru(a)),r.g=o}else $S(r);0<t.i.length&&_d(t)}else u[0]!="stop"&&u[0]!="close"||Cs(t,7);else t.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?Cs(t,7):Xg(t):u[0]!="noop"&&t.l&&t.l.wa(u),t.A=0)}}Yc(4)}catch(u){}}function wL(n){if(n.W&&typeof n.W=="function")return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(rd(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}e=[],t=0;for(r in n)e[t++]=n[r];return e}function TL(n){if(n.oa&&typeof n.oa=="function")return n.oa();if(!n.W||typeof n.W!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(rd(n)||typeof n=="string"){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(let r in n)e[t++]=r;return e}}}function SS(n,e){if(n.forEach&&typeof n.forEach=="function")n.forEach(e,void 0);else if(rd(n)||typeof n=="string")Array.prototype.forEach.call(n,e,void 0);else for(var t=TL(n),r=wL(n),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],t&&t[s],n)}var CS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function SL(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var s=n[t].substring(0,r);i=n[t].substring(r+1)}else s=n[t];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function As(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof As){this.h=e!==void 0?e:n.h,Zh(this,n.j),this.s=n.s,this.g=n.g,ed(this,n.m),this.l=n.l,e=n.i;var t=new Qc;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),HT(this,t),this.o=n.o}else n&&(t=String(n).match(CS))?(this.h=!!e,Zh(this,t[1]||"",!0),this.s=$c(t[2]||""),this.g=$c(t[3]||"",!0),ed(this,t[4]),this.l=$c(t[5]||"",!0),HT(this,t[6]||"",!0),this.o=$c(t[7]||"")):(this.h=!!e,this.i=new Qc(null,this.h))}As.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Gc(e,KT,!0),":");var t=this.g;return(t||e=="file")&&(n.push("//"),(e=this.s)&&n.push(Gc(e,KT,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t=this.m,t!=null&&n.push(":",String(t))),(t=this.l)&&(this.g&&t.charAt(0)!="/"&&n.push("/"),n.push(Gc(t,t.charAt(0)=="/"?RL:AL,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Gc(t,DL)),n.join("")};function Tr(n){return new As(n)}function Zh(n,e,t){n.j=t?$c(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function ed(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function HT(n,e,t){e instanceof Qc?(n.i=e,OL(n.i,n.h)):(t||(e=Gc(e,xL)),n.i=new Qc(e,n.h))}function me(n,e,t){n.i.set(e,t)}function fd(n){return me(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function $c(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gc(n,e,t){return typeof n=="string"?(n=encodeURI(n).replace(e,CL),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function CL(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var KT=/[#\/\?@]/g,AL=/[#\?:]/g,RL=/[#\?]/g,xL=/[#\?@]/g,DL=/#/g;function Qc(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function ui(n){n.g||(n.g=new Map,n.h=0,n.i&&SL(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}x=Qc.prototype;x.add=function(n,e){ui(this),this.i=null,n=na(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this};function AS(n,e){ui(n),e=na(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function RS(n,e){return ui(n),e=na(n,e),n.g.has(e)}x.forEach=function(n,e){ui(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)};x.oa=function(){ui(this);let n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){let i=n[r];for(let s=0;s<i.length;s++)t.push(e[r])}return t};x.W=function(n){ui(this);let e=[];if(typeof n=="string")RS(this,n)&&(e=e.concat(this.g.get(na(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e};x.set=function(n,e){return ui(this),this.i=null,n=na(this,n),RS(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this};x.get=function(n,e){return n?(n=this.W(n),0<n.length?String(n[0]):e):e};function xS(n,e,t){AS(n,e),0<t.length&&(n.i=null,n.g.set(na(n,e),Mg(t)),n.h+=t.length)}x.toString=function(){if(this.i)return this.i;if(!this.g)return"";let n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];let s=encodeURIComponent(String(r)),o=this.W(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),n.push(i)}}return this.i=n.join("&")};function na(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function OL(n,e){e&&!n.j&&(ui(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(AS(this,r),xS(this,i,t))},n)),n.j=e}var NL=class{constructor(n,e){this.h=n,this.g=e}};function DS(n){this.l=n||kL,U.PerformanceNavigationTiming?(n=U.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(U.g&&U.g.Ga&&U.g.Ga()&&U.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kL=10;function OS(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function NS(n){return n.h?1:n.g?n.g.size:0}function kg(n,e){return n.h?n.h==e:n.g?n.g.has(e):!1}function Kg(n,e){n.g?n.g.add(e):n.h=e}function kS(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}DS.prototype.cancel=function(){if(this.i=PS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let n of this.g.values())n.cancel();this.g.clear()}};function PS(n){if(n.h!=null)return n.i.concat(n.h.D);if(n.g!=null&&n.g.size!==0){let e=n.i;for(let t of n.g.values())e=e.concat(t.D);return e}return Mg(n.i)}function Yg(){}Yg.prototype.stringify=function(n){return U.JSON.stringify(n,void 0)};Yg.prototype.parse=function(n){return U.JSON.parse(n,void 0)};function PL(){this.g=new Yg}function ML(n,e,t){let r=t||"";try{SS(n,function(i,s){let o=i;Xc(i)&&(o=jg(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function BL(n,e){let t=new cd;if(U.Image){let r=new Image;r.onload=zh(Kh,t,r,"TestLoadImage: loaded",!0,e),r.onerror=zh(Kh,t,r,"TestLoadImage: error",!1,e),r.onabort=zh(Kh,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=zh(Kh,t,r,"TestLoadImage: timeout",!1,e),U.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}function Kh(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(s){}}function iu(n){this.l=n.ac||null,this.j=n.jb||!1}ut(iu,Gg);iu.prototype.g=function(){return new pd(this.l,this.j)};iu.prototype.i=function(n){return function(){return n}}({});function pd(n,e){et.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=Qg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ut(pd,et);var Qg=0;x=pd.prototype;x.open=function(n,e){if(this.readyState!=Qg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Jc(this)};x.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||U).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};x.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,su(this)),this.readyState=Qg};x.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Jc(this)),this.g&&(this.readyState=3,Jc(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof U.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;MS(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))};function MS(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}x.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?su(this):Jc(this),this.readyState==3&&MS(this)}};x.Va=function(n){this.g&&(this.response=this.responseText=n,su(this))};x.Ua=function(n){this.g&&(this.response=n,su(this))};x.ga=function(){this.g&&su(this)};function su(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Jc(n)}x.setRequestHeader=function(n,e){this.v.append(n,e)};x.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};x.getAllResponseHeaders=function(){if(!this.h)return"";let n=[],e=this.h.entries();for(var t=e.next();!t.done;)t=t.value,n.push(t[0]+": "+t[1]),t=e.next();return n.join(`\r
`)};function Jc(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(pd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var LL=U.JSON.parse;function Se(n){et.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=BS,this.K=this.L=!1}ut(Se,et);var BS="",UL=/^https?$/i,FL=["POST","PUT"];x=Se.prototype;x.Ka=function(n){this.L=n};x.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():xg.g(),this.C=this.u?WT(this.u):WT(xg),this.g.onreadystatechange=gt(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(s){YT(this,s);return}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(let s of r.keys())t.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(t.keys()).find(s=>s.toLowerCase()=="content-type"),i=U.FormData&&n instanceof U.FormData,!(0<=XT(FL,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[s,o]of t)this.g.setRequestHeader(s,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{FS(this),0<this.B&&((this.K=qL(this.g))?(this.g.timeout=this.B,this.g.ontimeout=gt(this.qa,this)):this.A=$g(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(s){YT(this,s)}};function qL(n){return ta&&oL()&&typeof n.timeout=="number"&&n.ontimeout!==void 0}x.qa=function(){typeof Pg<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,ct(this,"timeout"),this.abort(8))};function YT(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,LS(n),md(n)}function LS(n){n.D||(n.D=!0,ct(n,"complete"),ct(n,"error"))}x.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,ct(this,"complete"),ct(this,"abort"),md(this))};x.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),md(this,!0)),Se.X.M.call(this)};x.Ha=function(){this.s||(this.F||this.v||this.l?US(this):this.fb())};x.fb=function(){US(this)};function US(n){if(n.h&&typeof Pg<"u"&&(!n.C[1]||wr(n)!=4||n.aa()!=2)){if(n.v&&wr(n)==4)$g(n.Ha,0,n);else if(ct(n,"readystatechange"),wr(n)==4){n.h=!1;try{let a=n.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=a===0){var i=String(n.H).match(CS)[1]||null;if(!i&&U.self&&U.self.location){var s=U.self.location.protocol;i=s.substr(0,s.length-1)}r=!UL.test(i?i.toLowerCase():"")}t=r}if(t)ct(n,"complete"),ct(n,"success");else{n.m=6;try{var o=2<wr(n)?n.g.statusText:""}catch(c){o=""}n.j=o+" ["+n.aa()+"]",LS(n)}}finally{md(n)}}}}function md(n,e){if(n.g){FS(n);let t=n.g,r=n.C[0]?Yh:null;n.g=null,n.C=null,e||ct(n,"ready");try{t.onreadystatechange=r}catch(i){}}}function FS(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(U.clearTimeout(n.A),n.A=null)}function wr(n){return n.g?n.g.readyState:0}x.aa=function(){try{return 2<wr(this)?this.g.status:-1}catch(n){return-1}};x.fa=function(){try{return this.g?this.g.responseText:""}catch(n){return""}};x.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&e.indexOf(n)==0&&(e=e.substring(n.length)),LL(e)}};function QT(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case BS:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch(e){return null}}x.Ea=function(){return this.m};x.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function qS(n){let e="";return Lg(n,function(t,r){e+=r,e+=":",e+=t,e+=`\r
`}),e}function Jg(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=qS(t),typeof n=="string"?t!=null&&encodeURIComponent(String(t)):me(n,e,t))}function zc(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function VS(n){this.Ca=0,this.i=[],this.j=new cd,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=zc("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=zc("baseRetryDelayMs",5e3,n),this.bb=zc("retryDelaySeedMs",1e4,n),this.$a=zc("forwardChannelMaxRetries",2,n),this.ta=zc("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new DS(n&&n.concurrentRequestLimit),this.Fa=new PL,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}x=VS.prototype;x.ma=8;x.G=1;function Xg(n){if(jS(n),n.G==3){var e=n.U++,t=Tr(n.F);me(t,"SID",n.I),me(t,"RID",e),me(t,"TYPE","terminate"),ou(n,t),e=new nu(n,n.j,e,void 0),e.K=2,e.v=fd(Tr(t)),t=!1,U.navigator&&U.navigator.sendBeacon&&(t=U.navigator.sendBeacon(e.v.toString(),"")),!t&&U.Image&&(new Image().src=e.v,t=!0),t||(e.g=QS(e.l,null),e.g.da(e.v)),e.F=Date.now(),ru(e)}KS(n)}function gd(n){n.g&&(e_(n),n.g.cancel(),n.g=null)}function jS(n){gd(n),n.u&&(U.clearTimeout(n.u),n.u=null),td(n),n.h.cancel(),n.m&&(typeof n.m=="number"&&U.clearTimeout(n.m),n.m=null)}function _d(n){OS(n.h)||n.m||(n.m=!0,lS(n.Ja,n),n.C=0)}function VL(n,e){return NS(n.h)>=n.h.j-(n.m?1:0)?!1:n.m?(n.i=e.D.concat(n.i),!0):n.G==1||n.G==2||n.C>=(n.Za?0:n.$a)?!1:(n.m=eu(gt(n.Ja,n,e),HS(n,n.C)),n.C++,!0)}x.Ja=function(n){if(this.m)if(this.m=null,this.G==1){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;let i=new nu(this,this.j,n,void 0),s=this.s;if(this.S&&(s?(s=nS(s),rS(s,this.S)):s=this.S),this.o!==null||this.N||(i.H=s,s=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){t:{var r=this.i[t];if("__data__"in r.g&&(r=r.g.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=t;break e}if(e===4096||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=zS(this,i,e),t=Tr(this.F),me(t,"RID",n),me(t,"CVER",22),this.D&&me(t,"X-HTTP-Session-Id",this.D),ou(this,t),s&&(this.N?e="headers="+encodeURIComponent(String(qS(s)))+"&"+e:this.o&&Jg(t,this.o,s)),Kg(this.h,i),this.Ya&&me(t,"TYPE","init"),this.O?(me(t,"$req",e),me(t,"SID","null"),i.Z=!0,Og(i,t,null)):Og(i,t,e),this.G=2}}else this.G==3&&(n?JT(this,n):this.i.length==0||OS(this.h)||JT(this))};function JT(n,e){var t;e?t=e.m:t=n.U++;let r=Tr(n.F);me(r,"SID",n.I),me(r,"RID",t),me(r,"AID",n.T),ou(n,r),n.o&&n.s&&Jg(r,n.o,n.s),t=new nu(n,n.j,t,n.C+1),n.o===null&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=zS(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),Kg(n.h,t),Og(t,r,e)}function ou(n,e){n.ia&&Lg(n.ia,function(t,r){me(e,r,t)}),n.l&&SS({},function(t,r){me(e,r,t)})}function zS(n,e,t){t=Math.min(n.i.length,t);var r=n.l?gt(n.l.Ra,n.l,n):null;e:{var i=n.i;let s=-1;for(;;){let o=["count="+t];s==-1?0<t?(s=i[0].h,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<t;c++){let u=i[c].h,l=i[c].g;if(u-=s,0>u)s=Math.max(0,i[c].h-100),a=!1;else try{ML(l,o,"req"+u+"_")}catch(h){r&&r(l)}}if(a){r=o.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function $S(n){n.g||n.u||(n.Z=1,lS(n.Ia,n),n.A=0)}function Zg(n){return n.g||n.u||3<=n.A?!1:(n.Z++,n.u=eu(gt(n.Ia,n),HS(n,n.A)),n.A++,!0)}x.Ia=function(){if(this.u=null,GS(this),this.$&&!(this.K||this.g==null||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=eu(gt(this.eb,this),n)}};x.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,At(10),gd(this),GS(this))};function e_(n){n.B!=null&&(U.clearTimeout(n.B),n.B=null)}function GS(n){n.g=new nu(n,n.j,"rpc",n.Z),n.o===null&&(n.g.H=n.s),n.g.N=0;var e=Tr(n.sa);me(e,"RID","rpc"),me(e,"SID",n.I),me(e,"CI",n.L?"0":"1"),me(e,"AID",n.T),me(e,"TYPE","xmlhttp"),ou(n,e),n.o&&n.s&&Jg(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=fd(Tr(e)),t.s=null,t.P=!0,bS(t,n)}x.cb=function(){this.v!=null&&(this.v=null,gd(this),Zg(this),At(19))};function td(n){n.v!=null&&(U.clearTimeout(n.v),n.v=null)}function WS(n,e){var t=null;if(n.g==e){td(n),e_(n),n.g=null;var r=2}else if(kg(n.h,e))t=e.D,kS(n.h,e),r=1;else return;if(n.G!=0){if(n.pa=e.Y,e.i)if(r==1){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;r=ud(),ct(r,new _S(r,t)),_d(n)}else $S(n);else if(i=e.o,i==3||i==0&&0<n.pa||!(r==1&&VL(n,e)||r==2&&Zg(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Cs(n,5);break;case 4:Cs(n,10);break;case 3:Cs(n,6);break;default:Cs(n,2)}}}function HS(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Cs(n,e){if(n.j.info("Error code "+e),e==2){var t=null;n.l&&(t=null);var r=gt(n.kb,n);t||(t=new As("//www.google.com/images/cleardot.gif"),U.location&&U.location.protocol=="http"||Zh(t,"https"),fd(t)),BL(t.toString(),r)}else At(2);n.G=0,n.l&&n.l.va(e),KS(n),jS(n)}x.kb=function(n){n?(this.j.info("Successfully pinged google.com"),At(2)):(this.j.info("Failed to ping google.com"),At(1))};function KS(n){if(n.G=0,n.la=[],n.l){let e=PS(n.h);(e.length!=0||n.i.length!=0)&&(VT(n.la,e),VT(n.la,n.i),n.h.i.length=0,Mg(n.i),n.i.length=0),n.l.ua()}}function YS(n,e,t){var r=t instanceof As?Tr(t):new As(t,void 0);if(r.g!="")e&&(r.g=e+"."+r.g),ed(r,r.m);else{var i=U.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new As(null,void 0);r&&Zh(s,r),e&&(s.g=e),i&&ed(s,i),t&&(s.l=t),r=s}return t=n.D,e=n.za,t&&e&&me(r,t,e),me(r,"VER",n.ma),ou(n,r),r}function QS(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=t&&n.Da&&!n.ra?new Se(new iu({jb:!0})):new Se(n.ra),e.Ka(n.H),e}function JS(){}x=JS.prototype;x.xa=function(){};x.wa=function(){};x.va=function(){};x.ua=function(){};x.Ra=function(){};function nd(){if(ta&&!(10<=Number(aL)))throw Error("Environmental error: no available transport.")}nd.prototype.g=function(n,e){return new Jt(n,e)};function Jt(n,e){et.call(this),this.g=new VS(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!Qh(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Qh(e)&&(this.g.D=e,n=this.h,n!==null&&e in n&&(n=this.h,e in n&&delete n[e])),this.j=new ra(this)}ut(Jt,et);Jt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;At(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=YS(n,null,n.V),_d(n)};Jt.prototype.close=function(){Xg(this.g)};Jt.prototype.u=function(n){var e=this.g;if(typeof n=="string"){var t={};t.__data__=n,n=t}else this.v&&(t={},t.__data__=jg(n),n=t);e.i.push(new NL(e.ab++,n)),e.G==3&&_d(e)};Jt.prototype.M=function(){this.g.l=null,delete this.j,Xg(this.g),delete this.g,Jt.X.M.call(this)};function XS(n){Wg.call(this);var e=n.__sm__;if(e){e:{for(let t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=e!==null&&n in e?e[n]:void 0),this.data=e}else this.data=n}ut(XS,Wg);function ZS(){Hg.call(this),this.status=1}ut(ZS,Hg);function ra(n){this.g=n}ut(ra,JS);ra.prototype.xa=function(){ct(this.g,"a")};ra.prototype.wa=function(n){ct(this.g,new XS(n))};ra.prototype.va=function(n){ct(this.g,new ZS)};ra.prototype.ua=function(){ct(this.g,"b")};nd.prototype.createWebChannel=nd.prototype.g;Jt.prototype.send=Jt.prototype.u;Jt.prototype.open=Jt.prototype.m;Jt.prototype.close=Jt.prototype.close;ld.NO_ERROR=0;ld.TIMEOUT=8;ld.HTTP_ERROR=6;yS.COMPLETE="complete";vS.EventType=tu;tu.OPEN="a";tu.CLOSE="b";tu.ERROR="c";tu.MESSAGE="d";et.prototype.listen=et.prototype.N;Se.prototype.listenOnce=Se.prototype.O;Se.prototype.getLastError=Se.prototype.Oa;Se.prototype.getLastErrorCode=Se.prototype.Ea;Se.prototype.getStatus=Se.prototype.aa;Se.prototype.getResponseJson=Se.prototype.Sa;Se.prototype.getResponseText=Se.prototype.fa;Se.prototype.send=Se.prototype.da;Se.prototype.setWithCredentials=Se.prototype.Ka;var eC=Sr.createWebChannelTransport=function(){return new nd},tC=Sr.getStatEventTarget=function(){return ud()},yd=Sr.ErrorCode=ld,nC=Sr.EventType=yS,rC=Sr.Event=Rs,t_=Sr.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},iC=Sr.FetchXmlHttpFactory=iu,au=Sr.WebChannel=vS,sC=Sr.XhrIo=Se;var oC="@firebase/firestore";var Me=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Me.UNAUTHENTICATED=new Me(null),Me.GOOGLE_CREDENTIALS=new Me("google-credentials-uid"),Me.FIRST_PARTY=new Me("first-party-uid"),Me.MOCK_USER=new Me("mock-user");var Ma="9.18.0";var yi=new mt("@firebase/firestore");function o_(){return yi.logLevel}function nA(n){yi.setLogLevel(n)}function I(n,...e){if(yi.logLevel<=W.DEBUG){let t=e.map(Yy);yi.debug(`Firestore (${Ma}): ${n}`,...t)}}function Re(n,...e){if(yi.logLevel<=W.ERROR){let t=e.map(Yy);yi.error(`Firestore (${Ma}): ${n}`,...t)}}function Ls(n,...e){if(yi.logLevel<=W.WARN){let t=e.map(Yy);yi.warn(`Firestore (${Ma}): ${n}`,...t)}}function Yy(n){if(typeof n=="string")return n;try{return e=n,JSON.stringify(e)}catch(t){return n}var e}function R(n="Unexpected state"){let e=`FIRESTORE (${Ma}) INTERNAL ASSERTION FAILED: `+n;throw Re(e),new Error(e)}function O(n,e){n||R()}function rA(n,e){n||R()}function C(n,e){return n}var y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},b=class extends Ts{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Be=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var xd=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},a_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Me.UNAUTHENTICATED))}shutdown(){}},c_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},u_=class{constructor(e){this.t=e,this.currentUser=Me.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let r=this.i,i=c=>this.i!==r?(r=this.i,t(c)):Promise.resolve(),s=new Be;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Be,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let c=s;e.enqueueRetryable(async()=>{await c.promise,await i(this.currentUser)})},a=c=>{I("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){let c=this.t.getImmediate({optional:!0});c?a(c):(I("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Be)}},0),o()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(I("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(O(typeof r.accessToken=="string"),new xd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return O(e===null||typeof e=="string"),new Me(e)}},l_=class{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=Me.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(O(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}},h_=class{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new l_(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(Me.FIRST_PARTY))}shutdown(){}invalidateToken(){}},d_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},f_=class{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){let r=s=>{s.error!=null&&I("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.A;return this.A=s.token,I("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{I("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.T.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.T.getImmediate({optional:!0});s?i(s):I("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(O(typeof t.token=="string"),this.A=t.token,new d_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function jL(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var Dd=class{static R(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=jL(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}};function F(n,e){return n<e?-1:n>e?1:0}function ha(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function iA(n){return n+"\0"}var ue=class{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new b(y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new b(y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new b(y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new b(y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ue.fromMillis(Date.now())}static fromDate(e){return ue.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ue(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?F(this.nanoseconds,e.nanoseconds):F(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var D=class{constructor(e){this.timestamp=e}static fromTimestamp(e){return new D(e)}static min(){return new D(new ue(0,0))}static max(){return new D(new ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Us=class{constructor(e,t,r){t===void 0?t=0:t>e.length&&R(),r===void 0?r=e.length-t:r>e.length-t&&R(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Us.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof Us?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},H=class extends Us{construct(e,t,r){return new H(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new b(y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new H(t)}static emptyPath(){return new H([])}},zL=/^[_a-zA-Z][_a-zA-Z0-9]*$/,ge=class extends Us{construct(e,t,r){return new ge(e,t,r)}static isValidIdentifier(e){return zL.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),ge.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new ge(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,s=()=>{if(r.length===0)throw new b(y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new b(y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new b(y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new b(y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new ge(t)}static emptyPath(){return new ge([])}};var S=class{constructor(e){this.path=e}static fromPath(e){return new S(H.fromString(e))}static fromName(e){return new S(H.fromString(e).popFirst(5))}static empty(){return new S(H.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&H.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return H.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new S(new H(e.slice()))}};var Od=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};function p_(n){return n.fields.find(e=>e.kind===2)}function Ds(n){return n.fields.filter(e=>e.kind!==2)}Od.UNKNOWN_ID=-1;var m_=class{constructor(e,t){this.fieldPath=e,this.kind=t}};var da=class{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new da(0,xt.min())}};function sA(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=D.fromTimestamp(r===1e9?new ue(t+1,0):new ue(t,r));return new xt(i,S.empty(),e)}function oA(n){return new xt(n.readTime,n.key,-1)}var xt=class{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new xt(D.min(),S.empty(),-1)}static max(){return new xt(D.max(),S.empty(),-1)}};function Qy(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=S.comparator(n.documentKey,e.documentKey),t!==0?t:F(n.largestBatchId,e.largestBatchId))}var aA="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Nd=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};async function Ai(n){if(n.code!==y.FAILED_PRECONDITION||n.message!==aA)throw n;I("LocalStore","Unexpectedly lost primary lease")}var g=class{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&R(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new g((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof g?t:g.resolve(t)}catch(t){return g.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):g.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):g.reject(t)}static resolve(e){return new g((t,r)=>{t(e)})}static reject(e){return new g((t,r)=>{r(e)})}static waitFor(e){return new g((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=g.resolve(!1);for(let r of e)t=t.next(i=>i?g.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new g((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let c=0;c<s;c++){let u=c;t(e[u]).next(l=>{o[u]=l,++a,a===s&&r(o)},l=>i(l))}})}static doWhile(e,t){return new g((r,i)=>{let s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}};var fa=class{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.P=new Be,this.transaction.oncomplete=()=>{this.P.resolve()},this.transaction.onabort=()=>{t.error?this.P.reject(new Ps(e,t.error)):this.P.resolve()},this.transaction.onerror=r=>{let i=Jy(r.target.error);this.P.reject(new Ps(e,i))}}static open(e,t,r,i){try{return new fa(t,e.transaction(i,r))}catch(s){throw new Ps(t,s)}}get v(){return this.P.promise}abort(e){e&&this.P.reject(e),this.aborted||(I("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}V(){let e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){let t=this.transaction.objectStore(e);return new __(t)}},Xt=class{constructor(e,t,r){this.name=e,this.version=t,this.S=r,Xt.D(Vh())===12.2&&Re("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return I("SimpleDb","Removing database:",e),Os(window.indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!qT())return!1;if(Xt.N())return!0;let e=Vh(),t=Xt.D(e),r=0<t&&t<10,i=Xt.k(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static N(){var e;return typeof process<"u"&&((e=process.env)===null||e===void 0?void 0:e.$)==="YES"}static M(e,t){return e.store(t)}static D(e){let t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static k(e){let t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(I("SimpleDb","Opening database:",this.name),this.db=await new Promise((t,r)=>{let i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{let o=s.target.result;t(o)},i.onblocked=()=>{r(new Ps(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{let o=s.target.error;o.name==="VersionError"?r(new b(y.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new b(y.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new Ps(e,o))},i.onupgradeneeded=s=>{I("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);let o=s.target.result;this.S.F(o,i.transaction,s.oldVersion,this.version).next(()=>{I("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=t=>this.B(t)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,i){let s=t==="readonly",o=0;for(;;){++o;try{this.db=await this.O(e);let a=fa.open(this.db,e,s?"readonly":"readwrite",r),c=i(a).next(u=>(a.V(),u)).catch(u=>(a.abort(u),g.reject(u))).toPromise();return c.catch(()=>{}),await a.v,c}catch(a){let c=a,u=c.name!=="FirebaseError"&&o<3;if(I("SimpleDb","Transaction failed with error:",c.message,"Retrying:",u),this.close(),!u)return Promise.reject(c)}}}close(){this.db&&this.db.close(),this.db=void 0}},g_=class{constructor(e){this.q=e,this.U=!1,this.K=null}get isDone(){return this.U}get G(){return this.K}set cursor(e){this.q=e}done(){this.U=!0}j(e){this.K=e}delete(){return Os(this.q.delete())}},Ps=class extends b{constructor(e,t){super(y.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}};function Ri(n){return n.name==="IndexedDbTransactionError"}var __=class{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(I("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(I("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Os(r)}add(e){return I("SimpleDb","ADD",this.store.name,e,e),Os(this.store.add(e))}get(e){return Os(this.store.get(e)).next(t=>(t===void 0&&(t=null),I("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return I("SimpleDb","DELETE",this.store.name,e),Os(this.store.delete(e))}count(){return I("SimpleDb","COUNT",this.store.name),Os(this.store.count())}W(e,t){let r=this.options(e,t);if(r.index||typeof this.store.getAll!="function"){let i=this.cursor(r),s=[];return this.H(i,(o,a)=>{s.push(a)}).next(()=>s)}{let i=this.store.getAll(r.range);return new g((s,o)=>{i.onerror=a=>{o(a.target.error)},i.onsuccess=a=>{s(a.target.result)}})}}J(e,t){let r=this.store.getAll(e,t===null?void 0:t);return new g((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Y(e,t){I("SimpleDb","DELETE ALL",this.store.name);let r=this.options(e,t);r.Z=!1;let i=this.cursor(r);return this.H(i,(s,o,a)=>a.delete())}X(e,t){let r;t?r=e:(r={},t=e);let i=this.cursor(r);return this.H(i,t)}tt(e){let t=this.cursor({});return new g((r,i)=>{t.onerror=s=>{let o=Jy(s.target.error);i(o)},t.onsuccess=s=>{let o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}H(e,t){let r=[];return new g((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{let a=o.target.result;if(!a)return void i();let c=new g_(a),u=t(a.primaryKey,a.value,c);if(u instanceof g){let l=u.catch(h=>(c.done(),g.reject(h)));r.push(l)}c.isDone?i():c.G===null?a.continue():a.continue(c.G)}}).next(()=>g.waitFor(r))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){let r=this.store.index(e.index);return e.Z?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}};function Os(n){return new g((e,t)=>{n.onsuccess=r=>{let i=r.target.result;e(i)},n.onerror=r=>{let i=Jy(r.target.error);t(i)}})}var aC=!1;function Jy(n){let e=Xt.D(Vh());if(e>=12.2&&e<13){let t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){let r=new b("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return aC||(aC=!0,setTimeout(()=>{throw r},0)),r}}return n}var y_=class{constructor(e,t){this.asyncQueue=e,this.et=t,this.task=null}start(){this.nt(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}nt(e){I("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{I("IndexBackiller",`Documents written: ${await this.et.st()}`)}catch(t){Ri(t)?I("IndexBackiller","Ignoring IndexedDB error during index backfill: ",t):await Ai(t)}await this.nt(6e4)})}},v_=class{constructor(e,t){this.localStore=e,this.persistence=t}async st(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",t=>this.it(t,e))}it(e,t){let r=new Set,i=t,s=!0;return g.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return I("IndexBackiller",`Processing collection: ${o}`),this.rt(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>t-i)}rt(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(s=>{let o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.ot(i,s)).next(a=>(I("IndexBackiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,t,a))).next(()=>o.size)}))}ot(e,t){let r=e;return t.changes.forEach((i,s)=>{let o=oA(s);Qy(o,r)>0&&(r=o)}),new xt(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}};var Et=class{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ut(r),this.ct=r=>t.writeSequenceNumber(r))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){let e=++this.previousValue;return this.ct&&this.ct(e),e}};Et.at=-1;var E_=class{constructor(e,t,r,i,s,o,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=c}},In=class{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new In("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof In&&e.projectId===this.projectId&&e.database===this.database}};function cC(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Zs(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function cA(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Wu(n){return n==null}function vu(n){return n===0&&1/n==-1/0}function uA(n){return typeof n=="number"&&Number.isInteger(n)&&!vu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var b_=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};function lA(){return typeof atob<"u"}var De=class{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(r){try{return atob(r)}catch(i){throw i instanceof DOMException?new b_("Invalid base64 string: "+i):i}}(e);return new De(t)}static fromUint8Array(e){let t=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new De(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){let t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return F(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};De.EMPTY_BYTE_STRING=new De("");var $L=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function vi(n){if(O(!!n),typeof n=="string"){let e=0,t=$L.exec(n);if(O(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ce(n.seconds),nanos:Ce(n.nanos)}}function Ce(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Fs(n){return typeof n=="string"?De.fromBase64String(n):De.fromUint8Array(n)}function Xy(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function hA(n){let e=n.mapValue.fields.__previous_value__;return Xy(e)?hA(e):e}function Eu(n){let e=vi(n.mapValue.fields.__local_write_time__.timestampValue);return new ue(e.seconds,e.nanos)}var pi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Td={nullValue:"NULL_VALUE"};function qs(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Xy(n)?4:dA(n)?9007199254740991:10:R()}function Jn(n,e){if(n===e)return!0;let t=qs(n);if(t!==qs(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Eu(n).isEqual(Eu(e));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;let s=vi(r.timestampValue),o=vi(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(r,i){return Fs(r.bytesValue).isEqual(Fs(i.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Ce(r.geoPointValue.latitude)===Ce(i.geoPointValue.latitude)&&Ce(r.geoPointValue.longitude)===Ce(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Ce(r.integerValue)===Ce(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){let s=Ce(r.doubleValue),o=Ce(i.doubleValue);return s===o?vu(s)===vu(o):isNaN(s)&&isNaN(o)}return!1}(n,e);case 9:return ha(n.arrayValue.values||[],e.arrayValue.values||[],Jn);case 10:return function(r,i){let s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(cC(s)!==cC(o))return!1;for(let a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!Jn(s[a],o[a])))return!1;return!0}(n,e);default:return R()}}function bu(n,e){return(n.values||[]).find(t=>Jn(t,e))!==void 0}function Ei(n,e){if(n===e)return 0;let t=qs(n),r=qs(e);if(t!==r)return F(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return F(n.booleanValue,e.booleanValue);case 2:return function(i,s){let o=Ce(i.integerValue||i.doubleValue),a=Ce(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(n,e);case 3:return uC(n.timestampValue,e.timestampValue);case 4:return uC(Eu(n),Eu(e));case 5:return F(n.stringValue,e.stringValue);case 6:return function(i,s){let o=Fs(i),a=Fs(s);return o.compareTo(a)}(n.bytesValue,e.bytesValue);case 7:return function(i,s){let o=i.split("/"),a=s.split("/");for(let c=0;c<o.length&&c<a.length;c++){let u=F(o[c],a[c]);if(u!==0)return u}return F(o.length,a.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,s){let o=F(Ce(i.latitude),Ce(s.latitude));return o!==0?o:F(Ce(i.longitude),Ce(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,s){let o=i.values||[],a=s.values||[];for(let c=0;c<o.length&&c<a.length;++c){let u=Ei(o[c],a[c]);if(u)return u}return F(o.length,a.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===pi.mapValue&&s===pi.mapValue)return 0;if(i===pi.mapValue)return 1;if(s===pi.mapValue)return-1;let o=i.fields||{},a=Object.keys(o),c=s.fields||{},u=Object.keys(c);a.sort(),u.sort();for(let l=0;l<a.length&&l<u.length;++l){let h=F(a[l],u[l]);if(h!==0)return h;let d=Ei(o[a[l]],c[u[l]]);if(d!==0)return d}return F(a.length,u.length)}(n.mapValue,e.mapValue);default:throw R()}}function uC(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return F(n,e);let t=vi(n),r=vi(e),i=F(t.seconds,r.seconds);return i!==0?i:F(t.nanos,r.nanos)}function pa(n){return I_(n)}function I_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){let i=vi(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Fs(n.bytesValue).toBase64():"referenceValue"in n?(t=n.referenceValue,S.fromName(t).toString()):"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",s=!0;for(let o of r.values||[])s?s=!1:i+=",",i+=I_(o);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){let i=Object.keys(r.fields||{}).sort(),s="{",o=!0;for(let a of i)o?o=!1:s+=",",s+=`${a}:${I_(r.fields[a])}`;return s+"}"}(n.mapValue):R();var e,t}function Vs(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function w_(n){return!!n&&"integerValue"in n}function Iu(n){return!!n&&"arrayValue"in n}function lC(n){return!!n&&"nullValue"in n}function hC(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sd(n){return!!n&&"mapValue"in n}function mu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return Zs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=mu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=mu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dA(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function GL(n){return"nullValue"in n?Td:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Vs(In.empty(),S.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:R()}function WL(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Vs(In.empty(),S.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?pi:R()}function dC(n,e){let t=Ei(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function fC(n,e){let t=Ei(n.value,e.value);return t!==0?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}var Xn=class{constructor(e,t){this.position=e,this.inclusive=t}};function pC(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let s=e[i],o=n.position[i];if(s.field.isKeyField()?r=S.comparator(S.fromName(o.referenceValue),t.key):r=Ei(o,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function mC(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Jn(n.position[t],e.position[t]))return!1;return!0}var kd=class{},G=class extends kd{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new C_(e,t,r):t==="array-contains"?new x_(e,r):t==="in"?new Pd(e,r):t==="not-in"?new D_(e,r):t==="array-contains-any"?new O_(e,r):new G(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new A_(e,r):new R_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Ei(t,this.value)):t!==null&&qs(this.value)===qs(t)&&this.matchesComparison(Ei(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return R()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},te=class extends kd{constructor(e,t){super(),this.filters=e,this.op=t,this.ft=null}static create(e,t){return new te(e,t)}matches(e){return ma(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ft!==null||(this.ft=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){let e=this.dt(t=>t.isInequality());return e!==null?e.field:null}dt(e){for(let t of this.getFlattenedFilters())if(e(t))return t;return null}};function ma(n){return n.op==="and"}function T_(n){return n.op==="or"}function Zy(n){return fA(n)&&ma(n)}function fA(n){for(let e of n.filters)if(e instanceof te)return!1;return!0}function S_(n){if(n instanceof G)return n.field.canonicalString()+n.op.toString()+pa(n.value);if(Zy(n))return n.filters.map(e=>S_(e)).join(",");{let e=n.filters.map(t=>S_(t)).join(",");return`${n.op}(${e})`}}function pA(n,e){return n instanceof G?function(t,r){return r instanceof G&&t.op===r.op&&t.field.isEqual(r.field)&&Jn(t.value,r.value)}(n,e):n instanceof te?function(t,r){return r instanceof te&&t.op===r.op&&t.filters.length===r.filters.length?t.filters.reduce((i,s,o)=>i&&pA(s,r.filters[o]),!0):!1}(n,e):void R()}function mA(n,e){let t=n.filters.concat(e);return te.create(t,n.op)}function gA(n){return n instanceof G?function(e){return`${e.field.canonicalString()} ${e.op} ${pa(e.value)}`}(n):n instanceof te?function(e){return e.op.toString()+" {"+e.getFilters().map(gA).join(" ,")+"}"}(n):"Filter"}var C_=class extends G{constructor(e,t,r){super(e,t,r),this.key=S.fromName(r.referenceValue)}matches(e){let t=S.comparator(e.key,this.key);return this.matchesComparison(t)}},A_=class extends G{constructor(e,t){super(e,"in",t),this.keys=_A("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},R_=class extends G{constructor(e,t){super(e,"not-in",t),this.keys=_A("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function _A(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>S.fromName(r.referenceValue))}var x_=class extends G{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return Iu(t)&&bu(t.arrayValue,this.value)}},Pd=class extends G{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&bu(this.value.arrayValue,t)}},D_=class extends G{constructor(e,t){super(e,"not-in",t)}matches(e){if(bu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!bu(this.value.arrayValue,t)}},O_=class extends G{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!Iu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>bu(this.value.arrayValue,r))}};var mi=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function HL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var _e=class{constructor(e,t){this.comparator=e,this.root=t||ze.EMPTY}insert(e,t){return new _e(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ze.BLACK,null,null))}remove(e){return new _e(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ze.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ua(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ua(this.root,e,this.comparator,!1)}getReverseIterator(){return new ua(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ua(this.root,e,this.comparator,!0)}},ua=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},ze=class{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r!=null?r:ze.RED,this.left=i!=null?i:ze.EMPTY,this.right=s!=null?s:ze.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ze(e!=null?e:this.key,t!=null?t:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ze.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ze.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,ze.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,ze.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw R();let e=this.left.check();if(e!==this.right.check())throw R();return e+(this.isRed()?0:1)}};ze.EMPTY=null,ze.RED=!0,ze.BLACK=!1;ze.EMPTY=new class{constructor(){this.size=0}get key(){throw R()}get value(){throw R()}get color(){throw R()}get left(){throw R()}get right(){throw R()}copy(n,e,t,r,i){return this}insert(n,e,t){return new ze(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var re=class{constructor(e){this.comparator=e,this.data=new _e(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Md(this.data.getIterator())}getIteratorFrom(e){return new Md(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof re)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new re(this.comparator);return t.data=e,t}},Md=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};function ia(n){return n.hasNext()?n.getNext():void 0}var bt=class{constructor(e){this.fields=e,e.sort(ge.comparator)}static empty(){return new bt([])}unionWith(e){let t=new re(ge.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new bt(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ha(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var $e=class{constructor(e){this.value=e}static empty(){return new $e({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Sd(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=mu(t)}setAll(e){let t=ge.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){let c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=mu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){let t=this.field(e.popLast());Sd(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Jn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Sd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Zs(t,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new $e(mu(this.value))}};function yA(n){let e=[];return Zs(n.fields,(t,r)=>{let i=new ge([t]);if(Sd(r)){let s=yA(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new bt(e)}var ce=class{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new ce(e,0,D.min(),D.min(),D.min(),$e.empty(),0)}static newFoundDocument(e,t,r,i){return new ce(e,1,t,D.min(),r,i,0)}static newNoDocument(e,t){return new ce(e,2,t,D.min(),D.min(),$e.empty(),0)}static newUnknownDocument(e,t){return new ce(e,3,t,D.min(),D.min(),$e.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(D.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$e.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$e.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=D.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof ce&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new ce(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var N_=class{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this._t=null}};function k_(n,e=null,t=[],r=[],i=null,s=null,o=null){return new N_(n,e,t,r,i,s,o)}function js(n){let e=C(n);if(e._t===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>S_(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Wu(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>pa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>pa(r)).join(",")),e._t=t}return e._t}function Hu(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!HL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!pA(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mC(n.startAt,e.startAt)&&mC(n.endAt,e.endAt)}function Bd(n){return S.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}function Ld(n,e){return n.filters.filter(t=>t instanceof G&&t.field.isEqual(e))}function gC(n,e,t){let r=Td,i=!0;for(let s of Ld(n,e)){let o=Td,a=!0;switch(s.op){case"<":case"<=":o=GL(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Td}dC({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let o=t.position[s];dC({value:r,inclusive:i},{value:o,inclusive:t.inclusive})<0&&(r=o,i=t.inclusive);break}}return{value:r,inclusive:i}}function _C(n,e,t){let r=pi,i=!0;for(let s of Ld(n,e)){let o=pi,a=!0;switch(s.op){case">=":case">":o=WL(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=pi}fC({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(t!==null){for(let s=0;s<n.orderBy.length;++s)if(n.orderBy[s].field.isEqual(e)){let o=t.position[s];fC({value:r,inclusive:i},{value:o,inclusive:t.inclusive})>0&&(r=o,i=t.inclusive);break}}return{value:r,inclusive:i}}var wn=class{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.wt=null,this.gt=null,this.startAt,this.endAt}};function vA(n,e,t,r,i,s,o,a){return new wn(n,e,t,r,i,s,o,a)}function Ba(n){return new wn(n)}function yC(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function ev(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function ff(n){for(let e of n.filters){let t=e.getFirstInequalityField();if(t!==null)return t}return null}function tv(n){return n.collectionGroup!==null}function Ms(n){let e=C(n);if(e.wt===null){e.wt=[];let t=ff(e),r=ev(e);if(t!==null&&r===null)t.isKeyField()||e.wt.push(new mi(t)),e.wt.push(new mi(ge.keyField(),"asc"));else{let i=!1;for(let s of e.explicitOrderBy)e.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){let s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new mi(ge.keyField(),s))}}}return e.wt}function Lt(n){let e=C(n);if(!e.gt)if(e.limitType==="F")e.gt=k_(e.path,e.collectionGroup,Ms(e),e.filters,e.limit,e.startAt,e.endAt);else{let t=[];for(let s of Ms(e)){let o=s.dir==="desc"?"asc":"desc";t.push(new mi(s.field,o))}let r=e.endAt?new Xn(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new Xn(e.startAt.position,e.startAt.inclusive):null;e.gt=k_(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e.gt}function P_(n,e){e.getFirstInequalityField(),ff(n);let t=n.filters.concat([e]);return new wn(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Ud(n,e,t){return new wn(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Ku(n,e){return Hu(Lt(n),Lt(e))&&n.limitType===e.limitType}function EA(n){return`${js(Lt(n))}|lt:${n.limitType}`}function M_(n){return`Query(target=${function(e){let t=e.path.canonicalString();return e.collectionGroup!==null&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>gA(r)).join(", ")}]`),Wu(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>pa(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>pa(r)).join(",")),`Target(${t})`}(Lt(n))}; limitType=${n.limitType})`}function Yu(n,e){return e.isFoundDocument()&&function(t,r){let i=r.key.path;return t.collectionGroup!==null?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):S.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(let i of Ms(t))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(n,e)&&function(t,r){for(let i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&function(t,r){return!(t.startAt&&!function(i,s,o){let a=pC(i,s,o);return i.inclusive?a<=0:a<0}(t.startAt,Ms(t),r)||t.endAt&&!function(i,s,o){let a=pC(i,s,o);return i.inclusive?a>=0:a>0}(t.endAt,Ms(t),r))}(n,e)}function bA(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function IA(n){return(e,t)=>{let r=!1;for(let i of Ms(n)){let s=KL(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function KL(n,e,t){let r=n.field.isKeyField()?S.comparator(e.key,t.key):function(i,s,o){let a=s.data.field(i),c=o.data.field(i);return a!==null&&c!==null?Ei(a,c):R()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return R()}}function wA(n,e){if(n.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vu(e)?"-0":e}}function TA(n){return{integerValue:""+n}}function SA(n,e){return uA(e)?TA(e):wA(n,e)}var ga=class{constructor(){this._=void 0}};function YL(n,e,t){return n instanceof bi?function(r,i){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(s.fields.__previous_value__=i),{mapValue:s}}(t,e):n instanceof xr?AA(n,e):n instanceof Dr?RA(n,e):function(r,i){let s=CA(r,i),o=vC(s)+vC(r.It);return w_(s)&&w_(r.It)?TA(o):wA(r.Tt,o)}(n,e)}function QL(n,e,t){return n instanceof xr?AA(n,e):n instanceof Dr?RA(n,e):t}function CA(n,e){return n instanceof Ii?w_(t=e)||function(r){return!!r&&"doubleValue"in r}(t)?e:{integerValue:0}:null;var t}var bi=class extends ga{},xr=class extends ga{constructor(e){super(),this.elements=e}};function AA(n,e){let t=xA(e);for(let r of n.elements)t.some(i=>Jn(i,r))||t.push(r);return{arrayValue:{values:t}}}var Dr=class extends ga{constructor(e){super(),this.elements=e}};function RA(n,e){let t=xA(e);for(let r of n.elements)t=t.filter(i=>!Jn(i,r));return{arrayValue:{values:t}}}var Ii=class extends ga{constructor(e,t){super(),this.Tt=e,this.It=t}};function vC(n){return Ce(n.integerValue||n.doubleValue)}function xA(n){return Iu(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}var zs=class{constructor(e,t){this.field=e,this.transform=t}};function JL(n,e){return n.field.isEqual(e.field)&&function(t,r){return t instanceof xr&&r instanceof xr||t instanceof Dr&&r instanceof Dr?ha(t.elements,r.elements,Jn):t instanceof Ii&&r instanceof Ii?Jn(t.It,r.It):t instanceof bi&&r instanceof bi}(n.transform,e.transform)}var B_=class{constructor(e,t){this.version=e,this.transformResults=t}},he=class{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new he}static exists(e){return new he(void 0,e)}static updateTime(e){return new he(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Cd(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var _a=class{};function DA(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Ti(n.key,he.none()):new wi(n.key,n.data,he.none());{let t=n.data,r=$e.empty(),i=new re(ge.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);o===null&&s.length>1&&(s=s.popLast(),o=t.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Tn(n.key,r,new bt(i.toArray()),he.none())}}function XL(n,e,t){n instanceof wi?function(r,i,s){let o=r.value.clone(),a=bC(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(n,e,t):n instanceof Tn?function(r,i,s){if(!Cd(r.precondition,i))return void i.convertToUnknownDocument(s.version);let o=bC(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(OA(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function gu(n,e,t,r){return n instanceof wi?function(i,s,o,a){if(!Cd(i.precondition,s))return o;let c=i.value.clone(),u=IC(i.fieldTransforms,a,s);return c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),null}(n,e,t,r):n instanceof Tn?function(i,s,o,a){if(!Cd(i.precondition,s))return o;let c=IC(i.fieldTransforms,a,s),u=s.data;return u.setAll(OA(i)),u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(l=>l.field))}(n,e,t,r):function(i,s,o){return Cd(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(n,e,t)}function ZL(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),s=CA(r.transform,i||null);s!=null&&(t===null&&(t=$e.empty()),t.set(r.field,s))}return t||null}function EC(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(t,r){return t===void 0&&r===void 0||!(!t||!r)&&ha(t,r,(i,s)=>JL(i,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var wi=class extends _a{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Tn=class extends _a{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function OA(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function bC(n,e,t){let r=new Map;O(n.length===t.length);for(let i=0;i<t.length;i++){let s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,QL(o,a,t[i]))}return r}function IC(n,e,t){let r=new Map;for(let i of n){let s=i.transform,o=t.data.field(i.field);r.set(i.field,YL(s,o,e))}return r}var Ti=class extends _a{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},wu=class extends _a{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var L_=class{constructor(e){this.count=e}};var ke,J;function NA(n){switch(n){default:return R();case y.CANCELLED:case y.UNKNOWN:case y.DEADLINE_EXCEEDED:case y.RESOURCE_EXHAUSTED:case y.INTERNAL:case y.UNAVAILABLE:case y.UNAUTHENTICATED:return!1;case y.INVALID_ARGUMENT:case y.NOT_FOUND:case y.ALREADY_EXISTS:case y.PERMISSION_DENIED:case y.FAILED_PRECONDITION:case y.ABORTED:case y.OUT_OF_RANGE:case y.UNIMPLEMENTED:case y.DATA_LOSS:return!0}}function kA(n){if(n===void 0)return Re("GRPC error has no .code"),y.UNKNOWN;switch(n){case ke.OK:return y.OK;case ke.CANCELLED:return y.CANCELLED;case ke.UNKNOWN:return y.UNKNOWN;case ke.DEADLINE_EXCEEDED:return y.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return y.RESOURCE_EXHAUSTED;case ke.INTERNAL:return y.INTERNAL;case ke.UNAVAILABLE:return y.UNAVAILABLE;case ke.UNAUTHENTICATED:return y.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return y.INVALID_ARGUMENT;case ke.NOT_FOUND:return y.NOT_FOUND;case ke.ALREADY_EXISTS:return y.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return y.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return y.FAILED_PRECONDITION;case ke.ABORTED:return y.ABORTED;case ke.OUT_OF_RANGE:return y.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return y.UNIMPLEMENTED;case ke.DATA_LOSS:return y.DATA_LOSS;default:return R()}}(J=ke||(ke={}))[J.OK=0]="OK",J[J.CANCELLED=1]="CANCELLED",J[J.UNKNOWN=2]="UNKNOWN",J[J.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",J[J.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",J[J.NOT_FOUND=5]="NOT_FOUND",J[J.ALREADY_EXISTS=6]="ALREADY_EXISTS",J[J.PERMISSION_DENIED=7]="PERMISSION_DENIED",J[J.UNAUTHENTICATED=16]="UNAUTHENTICATED",J[J.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",J[J.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",J[J.ABORTED=10]="ABORTED",J[J.OUT_OF_RANGE=11]="OUT_OF_RANGE",J[J.UNIMPLEMENTED=12]="UNIMPLEMENTED",J[J.INTERNAL=13]="INTERNAL",J[J.UNAVAILABLE=14]="UNAVAILABLE",J[J.DATA_LOSS=15]="DATA_LOSS";var Zn=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zs(this.inner,(t,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return cA(this.inner)}size(){return this.innerSize}};var eU=new _e(S.comparator);function Bt(){return eU}var PA=new _e(S.comparator);function fu(...n){let e=PA;for(let t of n)e=e.insert(t.key,t);return e}function MA(n){let e=PA;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Hn(){return _u()}function BA(){return _u()}function _u(){return new Zn(n=>n.toString(),(n,e)=>n.isEqual(e))}var tU=new _e(S.comparator),nU=new re(S.comparator);function q(...n){let e=nU;for(let t of n)e=e.add(t);return e}var rU=new re(F);function pf(){return rU}var $s=class{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Gs.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new $s(D.min(),i,pf(),Bt(),q())}},Gs=class{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Gs(r,t,q(),q(),q())}};var la=class{constructor(e,t,r,i){this.Et=e,this.removedTargetIds=t,this.key=r,this.At=i}},Fd=class{constructor(e,t){this.targetId=e,this.Rt=t}},qd=class{constructor(e,t,r=De.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},Vd=class{constructor(){this.Pt=0,this.vt=TC(),this.bt=De.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.bt}get Dt(){return this.Pt!==0}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.bt=e)}Nt(){let e=q(),t=q(),r=q();return this.vt.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:R()}}),new Gs(this.bt,this.Vt,e,t,r)}kt(){this.St=!1,this.vt=TC()}$t(e,t){this.St=!0,this.vt=this.vt.insert(e,t)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ot(){this.Pt+=1}Ft(){this.Pt-=1}Bt(){this.St=!0,this.Vt=!0}},U_=class{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=Bt(),this.Kt=wC(),this.Gt=new re(F)}Qt(e){for(let t of e.Et)e.At&&e.At.isFoundDocument()?this.jt(t,e.At):this.zt(t,e.key,e.At);for(let t of e.removedTargetIds)this.zt(t,e.key,e.At)}Wt(e){this.forEachTarget(e,t=>{let r=this.Ht(t);switch(e.state){case 0:this.Jt(t)&&r.xt(e.resumeToken);break;case 1:r.Ft(),r.Dt||r.kt(),r.xt(e.resumeToken);break;case 2:r.Ft(),r.Dt||this.removeTarget(t);break;case 3:this.Jt(t)&&(r.Bt(),r.xt(e.resumeToken));break;case 4:this.Jt(t)&&(this.Yt(t),r.xt(e.resumeToken));break;default:R()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.qt.forEach((r,i)=>{this.Jt(i)&&t(i)})}Zt(e){let t=e.targetId,r=e.Rt.count,i=this.Xt(t);if(i){let s=i.target;if(Bd(s))if(r===0){let o=new S(s.path);this.zt(t,o,ce.newNoDocument(o,D.min()))}else O(r===1);else this.te(t)!==r&&(this.Yt(t),this.Gt=this.Gt.add(t))}}ee(e){let t=new Map;this.qt.forEach((s,o)=>{let a=this.Xt(o);if(a){if(s.current&&Bd(a.target)){let c=new S(a.target.path);this.Ut.get(c)!==null||this.ne(o,c)||this.zt(o,c,ce.newNoDocument(c,e))}s.Ct&&(t.set(o,s.Nt()),s.kt())}});let r=q();this.Kt.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{let u=this.Xt(c);return!u||u.purpose===2||(a=!1,!1)}),a&&(r=r.add(s))}),this.Ut.forEach((s,o)=>o.setReadTime(e));let i=new $s(e,t,this.Gt,this.Ut,r);return this.Ut=Bt(),this.Kt=wC(),this.Gt=new re(F),i}jt(e,t){if(!this.Jt(e))return;let r=this.ne(e,t.key)?2:0;this.Ht(e).$t(t.key,r),this.Ut=this.Ut.insert(t.key,t),this.Kt=this.Kt.insert(t.key,this.se(t.key).add(e))}zt(e,t,r){if(!this.Jt(e))return;let i=this.Ht(e);this.ne(e,t)?i.$t(t,1):i.Mt(t),this.Kt=this.Kt.insert(t,this.se(t).delete(e)),r&&(this.Ut=this.Ut.insert(t,r))}removeTarget(e){this.qt.delete(e)}te(e){let t=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Ht(e).Ot()}Ht(e){let t=this.qt.get(e);return t||(t=new Vd,this.qt.set(e,t)),t}se(e){let t=this.Kt.get(e);return t||(t=new re(F),this.Kt=this.Kt.insert(e,t)),t}Jt(e){let t=this.Xt(e)!==null;return t||I("WatchChangeAggregator","Detected inactive target",e),t}Xt(e){let t=this.qt.get(e);return t&&t.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new Vd),this.Lt.getRemoteKeysForTarget(e).forEach(t=>{this.zt(e,t,null)})}ne(e,t){return this.Lt.getRemoteKeysForTarget(e).has(t)}};function wC(){return new _e(S.comparator)}function TC(){return new _e(S.comparator)}var iU=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),sU=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),oU=(()=>({and:"AND",or:"OR"}))(),F_=class{constructor(e,t){this.databaseId=e,this.yt=t}};function ya(n,e){return n.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function LA(n,e){return n.yt?e.toBase64():e.toUint8Array()}function aU(n,e){return ya(n,e.toTimestamp())}function xe(n){return O(!!n),D.fromTimestamp(function(e){let t=vi(e);return new ue(t.seconds,t.nanos)}(n))}function nv(n,e){return function(t){return new H(["projects",t.projectId,"databases",t.database])}(n).child("documents").child(e).canonicalString()}function UA(n){let e=H.fromString(n);return O(HA(e)),e}function Tu(n,e){return nv(n.databaseId,e.path)}function Yn(n,e){let t=UA(e);if(t.get(1)!==n.databaseId.projectId)throw new b(y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new b(y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new S(qA(t))}function q_(n,e){return nv(n.databaseId,e)}function FA(n){let e=UA(n);return e.length===4?H.emptyPath():qA(e)}function Su(n){return new H(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function qA(n){return O(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function SC(n,e,t){return{name:Tu(n,e),fields:t.value.mapValue.fields}}function VA(n,e,t){let r=Yn(n,e.name),i=xe(e.updateTime),s=e.createTime?xe(e.createTime):D.min(),o=new $e({mapValue:{fields:e.fields}}),a=ce.newFoundDocument(r,i,s,o);return t&&a.setHasCommittedMutations(),t?a.setHasCommittedMutations():a}function cU(n,e){return"found"in e?function(t,r){O(!!r.found),r.found.name,r.found.updateTime;let i=Yn(t,r.found.name),s=xe(r.found.updateTime),o=r.found.createTime?xe(r.found.createTime):D.min(),a=new $e({mapValue:{fields:r.found.fields}});return ce.newFoundDocument(i,s,o,a)}(n,e):"missing"in e?function(t,r){O(!!r.missing),O(!!r.readTime);let i=Yn(t,r.missing),s=xe(r.readTime);return ce.newNoDocument(i,s)}(n,e):R()}function uU(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:R()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.yt?(O(u===void 0||typeof u=="string"),De.fromBase64String(u||"")):(O(u===void 0||u instanceof Uint8Array),De.fromUint8Array(u||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){let u=c.code===void 0?y.UNKNOWN:kA(c.code);return new b(u,c.message||"")}(o);t=new qd(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Yn(n,r.document.name),s=xe(r.document.updateTime),o=r.document.createTime?xe(r.document.createTime):D.min(),a=new $e({mapValue:{fields:r.document.fields}}),c=ce.newFoundDocument(i,s,o,a),u=r.targetIds||[],l=r.removedTargetIds||[];t=new la(u,l,c.key,c)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Yn(n,r.document),s=r.readTime?xe(r.readTime):D.min(),o=ce.newNoDocument(i,s),a=r.removedTargetIds||[];t=new la([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Yn(n,r.document),s=r.removedTargetIds||[];t=new la([],s,i,null)}else{if(!("filter"in e))return R();{e.filter;let r=e.filter;r.targetId;let i=r.count||0,s=new L_(i),o=r.targetId;t=new Fd(o,s)}}return t}function Cu(n,e){let t;if(e instanceof wi)t={update:SC(n,e.key,e.value)};else if(e instanceof Ti)t={delete:Tu(n,e.key)};else if(e instanceof Tn)t={update:SC(n,e.key,e.data),updateMask:mU(e.fieldMask)};else{if(!(e instanceof wu))return R();t={verify:Tu(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,s){let o=s.transform;if(o instanceof bi)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof xr)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Dr)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Ii)return{fieldPath:s.field.canonicalString(),increment:o.It};throw R()}(0,r))),e.precondition.isNone||(t.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:aU(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:R()}(n,e.precondition)),t}function V_(n,e){let t=e.currentDocument?function(i){return i.updateTime!==void 0?he.updateTime(xe(i.updateTime)):i.exists!==void 0?he.exists(i.exists):he.none()}(e.currentDocument):he.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,o){let a=null;if("setToServerValue"in o)O(o.setToServerValue==="REQUEST_TIME"),a=new bi;else if("appendMissingElements"in o){let u=o.appendMissingElements.values||[];a=new xr(u)}else if("removeAllFromArray"in o){let u=o.removeAllFromArray.values||[];a=new Dr(u)}else"increment"in o?a=new Ii(s,o.increment):R();let c=ge.fromServerFormat(o.fieldPath);return new zs(c,a)}(n,i)):[];if(e.update){e.update.name;let i=Yn(n,e.update.name),s=new $e({mapValue:{fields:e.update.fields}});if(e.updateMask){let o=function(a){let c=a.fieldPaths||[];return new bt(c.map(u=>ge.fromServerFormat(u)))}(e.updateMask);return new Tn(i,s,o,t,r)}return new wi(i,s,t,r)}if(e.delete){let i=Yn(n,e.delete);return new Ti(i,t)}if(e.verify){let i=Yn(n,e.verify);return new wu(i,t)}return R()}function lU(n,e){return n&&n.length>0?(O(e!==void 0),n.map(t=>function(r,i){let s=r.updateTime?xe(r.updateTime):xe(i);return s.isEqual(D.min())&&(s=xe(i)),new B_(s,r.transformResults||[])}(t,e))):[]}function jA(n,e){return{documents:[q_(n,e.path)]}}function zA(n,e){let t={structuredQuery:{}},r=e.path;e.collectionGroup!==null?(t.parent=q_(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=q_(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);let i=function(c){if(c.length!==0)return WA(te.create(c,"and"))}(e.filters);i&&(t.structuredQuery.where=i);let s=function(c){if(c.length!==0)return c.map(u=>function(l){return{field:oa(l.field),direction:dU(l.dir)}}(u))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let o=function(c,u){return c.yt||Wu(u)?u:{value:u}}(n,e.limit);var a;return o!==null&&(t.structuredQuery.limit=o),e.startAt&&(t.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(t.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),t}function $A(n){let e=FA(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){O(r===1);let l=t.from[0];l.allDescendants?i=l.collectionId:e=e.child(l.collectionId)}let s=[];t.where&&(s=function(l){let h=GA(l);return h instanceof te&&Zy(h)?h.getFilters():[h]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(l=>function(h){return new mi(aa(h.field),function(d){switch(d){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(h.direction))}(l)));let a=null;t.limit&&(a=function(l){let h;return h=typeof l=="object"?l.value:l,Wu(h)?null:h}(t.limit));let c=null;t.startAt&&(c=function(l){let h=!!l.before,d=l.values||[];return new Xn(d,h)}(t.startAt));let u=null;return t.endAt&&(u=function(l){let h=!l.before,d=l.values||[];return new Xn(d,h)}(t.endAt)),vA(e,i,o,s,a,"F",c,u)}function hU(n,e){let t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return R()}}(0,e.purpose);return t==null?null:{"goog-listen-tags":t}}function GA(n){return n.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":let t=aa(e.unaryFilter.field);return G.create(t,"==",{doubleValue:NaN});case"IS_NULL":let r=aa(e.unaryFilter.field);return G.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let i=aa(e.unaryFilter.field);return G.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=aa(e.unaryFilter.field);return G.create(s,"!=",{nullValue:"NULL_VALUE"});default:return R()}}(n):n.fieldFilter!==void 0?function(e){return G.create(aa(e.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return R()}}(e.fieldFilter.op),e.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(e){return te.create(e.compositeFilter.filters.map(t=>GA(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return R()}}(e.compositeFilter.op))}(n):R()}function dU(n){return iU[n]}function fU(n){return sU[n]}function pU(n){return oU[n]}function oa(n){return{fieldPath:n.canonicalString()}}function aa(n){return ge.fromServerFormat(n.fieldPath)}function WA(n){return n instanceof G?function(e){if(e.op==="=="){if(hC(e.value))return{unaryFilter:{field:oa(e.field),op:"IS_NAN"}};if(lC(e.value))return{unaryFilter:{field:oa(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(hC(e.value))return{unaryFilter:{field:oa(e.field),op:"IS_NOT_NAN"}};if(lC(e.value))return{unaryFilter:{field:oa(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:oa(e.field),op:fU(e.op),value:e.value}}}(n):n instanceof te?function(e){let t=e.getFilters().map(r=>WA(r));return t.length===1?t[0]:{compositeFilter:{op:pU(e.op),filters:t}}}(n):R()}function mU(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function HA(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}function Rt(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=CC(e)),e=gU(n.get(t),e);return CC(e)}function gU(n,e){let t=e,r=n.length;for(let i=0;i<r;i++){let s=n.charAt(i);switch(s){case"\0":t+="";break;case"":t+="";break;default:t+=s}}return t}function CC(n){return n+""}function Kn(n){let e=n.length;if(O(e>=2),e===2)return O(n.charAt(0)===""&&n.charAt(1)===""),H.emptyPath();let t=e-2,r=[],i="";for(let s=0;s<e;){let o=n.indexOf("",s);switch((o<0||o>t)&&R(),n.charAt(o+1)){case"":let a=n.substring(s,o),c;i.length===0?c=a:(i+=a,c=i,i=""),r.push(c);break;case"":i+=n.substring(s,o),i+="\0";break;case"":i+=n.substring(s,o+1);break;default:R()}s=o+2}return new H(r)}var AC=["userId","batchId"];function Ad(n,e){return[n,Rt(e)]}function KA(n,e,t){return[n,Rt(e),t]}var _U={},yU=["prefixPath","collectionGroup","readTime","documentId"],vU=["prefixPath","collectionGroup","documentId"],EU=["collectionGroup","readTime","prefixPath","documentId"],bU=["canonicalId","targetId"],IU=["targetId","path"],wU=["path","targetId"],TU=["collectionId","parent"],SU=["indexId","uid"],CU=["uid","sequenceNumber"],AU=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],RU=["indexId","uid","orderedDocumentKey"],xU=["userId","collectionPath","documentId"],DU=["userId","collectionPath","largestBatchId"],OU=["userId","collectionGroup","largestBatchId"],YA=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],NU=[...YA,"documentOverlays"],QA=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],JA=QA,kU=[...JA,"indexConfiguration","indexState","indexEntries"];var Au=class extends Nd{constructor(e,t){super(),this.re=e,this.currentSequenceNumber=t}};function tt(n,e){let t=C(n);return Xt.M(t.re,e)}var Ru=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&XL(s,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=gu(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=gu(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=BA();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;let c=DA(o,a);c!==null&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(D.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),q())}isEqual(e){return this.batchId===e.batchId&&ha(this.mutations,e.mutations,(t,r)=>EC(t,r))&&ha(this.baseMutations,e.baseMutations,(t,r)=>EC(t,r))}},xu=class{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){O(e.mutations.length===r.length);let i=tU,s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new xu(e,t,r,i)}};var Du=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Qn=class{constructor(e,t,r,i,s=D.min(),o=D.min(),a=De.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Qn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Qn(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Qn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}};var jd=class{constructor(e){this.oe=e}};function PU(n,e){let t;if(e.document)t=VA(n.oe,e.document,!!e.hasCommittedMutations);else if(e.noDocument){let r=S.fromSegments(e.noDocument.path),i=Hs(e.noDocument.readTime);t=ce.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return R();{let r=S.fromSegments(e.unknownDocument.path),i=Hs(e.unknownDocument.version);t=ce.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){let i=new ue(r[0],r[1]);return D.fromTimestamp(i)}(e.readTime)),t}function RC(n,e){let t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:zd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(i,s){return{name:Tu(i,s.key),fields:s.data.value.mapValue.fields,updateTime:ya(i,s.version.toTimestamp()),createTime:ya(i,s.createTime.toTimestamp())}}(n.oe,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:Ws(e.version)};else{if(!e.isUnknownDocument())return R();r.unknownDocument={path:t.path.toArray(),version:Ws(e.version)}}return r}function zd(n){let e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function Ws(n){let e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Hs(n){let e=new ue(n.seconds,n.nanoseconds);return D.fromTimestamp(e)}function Ns(n,e){let t=(e.baseMutations||[]).map(s=>V_(n.oe,s));for(let s=0;s<e.mutations.length-1;++s){let o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){let a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}let r=e.mutations.map(s=>V_(n.oe,s)),i=ue.fromMillis(e.localWriteTimeMs);return new Ru(e.batchId,i,t,r)}function pu(n){let e=Hs(n.readTime),t=n.lastLimboFreeSnapshotVersion!==void 0?Hs(n.lastLimboFreeSnapshotVersion):D.min(),r;var i;return n.query.documents!==void 0?(O((i=n.query).documents.length===1),r=Lt(Ba(FA(i.documents[0])))):r=function(s){return Lt($A(s))}(n.query),new Qn(r,n.targetId,0,n.lastListenSequenceNumber,e,t,De.fromBase64String(n.resumeToken))}function XA(n,e){let t=Ws(e.snapshotVersion),r=Ws(e.lastLimboFreeSnapshotVersion),i;i=Bd(e.target)?jA(n.oe,e.target):zA(n.oe,e.target);let s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:js(e.target),readTime:t,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function rv(n){let e=$A({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Ud(e,e.limit,"L"):e}function n_(n,e){return new Du(e.largestBatchId,V_(n.oe,e.overlayMutation))}function xC(n,e){let t=e.path.lastSegment();return[n,Rt(e.path.popLast()),t]}function DC(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:Ws(r.readTime),documentKey:Rt(r.documentKey.path),largestBatchId:r.largestBatchId}}var j_=class{getBundleMetadata(e,t){return OC(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:Hs(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return OC(e).put({bundleId:(r=t).id,createTime:Ws(xe(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return NC(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:rv(i.bundledQuery),readTime:Hs(i.readTime)};var i})}saveNamedQuery(e,t){return NC(e).put(function(r){return{name:r.name,readTime:Ws(xe(r.readTime)),bundledQuery:r.bundledQuery}}(t))}};function OC(n){return tt(n,"bundles")}function NC(n){return tt(n,"namedQueries")}var va=class{constructor(e,t){this.Tt=e,this.userId=t}static ue(e,t){let r=t.uid||"";return new va(e,r)}getOverlay(e,t){return cu(e).get(xC(this.userId,t)).next(r=>r?n_(this.Tt,r):null)}getOverlays(e,t){let r=Hn();return g.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){let i=[];return r.forEach((s,o)=>{let a=new Du(t,o);i.push(this.ce(e,a))}),g.waitFor(i)}removeOverlaysForBatchId(e,t,r){let i=new Set;t.forEach(o=>i.add(Rt(o.getCollectionPath())));let s=[];return i.forEach(o=>{let a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(cu(e).Y("collectionPathOverlayIndex",a))}),g.waitFor(s)}getOverlaysForCollection(e,t,r){let i=Hn(),s=Rt(t),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return cu(e).W("collectionPathOverlayIndex",o).next(a=>{for(let c of a){let u=n_(this.Tt,c);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,t,r,i){let s=Hn(),o,a=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return cu(e).X({index:"collectionGroupOverlayIndex",range:a},(c,u,l)=>{let h=n_(this.Tt,u);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):l.done()}).next(()=>s)}ce(e,t){return cu(e).put(function(r,i,s){let[o,a,c]=xC(i,s.mutation.key);return{userId:i,collectionPath:a,documentId:c,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Cu(r.oe,s.mutation)}}(this.Tt,this.userId,t))}};function cu(n){return tt(n,"documentOverlays")}var Cr=class{constructor(){}ae(e,t){this.he(e,t),t.le()}he(e,t){if("nullValue"in e)this.fe(t,5);else if("booleanValue"in e)this.fe(t,10),t.de(e.booleanValue?1:0);else if("integerValue"in e)this.fe(t,15),t.de(Ce(e.integerValue));else if("doubleValue"in e){let r=Ce(e.doubleValue);isNaN(r)?this.fe(t,13):(this.fe(t,15),vu(r)?t.de(0):t.de(r))}else if("timestampValue"in e){let r=e.timestampValue;this.fe(t,20),typeof r=="string"?t._e(r):(t._e(`${r.seconds||""}`),t.de(r.nanos||0))}else if("stringValue"in e)this.we(e.stringValue,t),this.me(t);else if("bytesValue"in e)this.fe(t,30),t.ge(Fs(e.bytesValue)),this.me(t);else if("referenceValue"in e)this.ye(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.fe(t,45),t.de(r.latitude||0),t.de(r.longitude||0)}else"mapValue"in e?dA(e)?this.fe(t,Number.MAX_SAFE_INTEGER):(this.pe(e.mapValue,t),this.me(t)):"arrayValue"in e?(this.Ie(e.arrayValue,t),this.me(t)):R()}we(e,t){this.fe(t,25),this.Te(e,t)}Te(e,t){t._e(e)}pe(e,t){let r=e.fields||{};this.fe(t,55);for(let i of Object.keys(r))this.we(i,t),this.he(r[i],t)}Ie(e,t){let r=e.values||[];this.fe(t,50);for(let i of r)this.he(i,t)}ye(e,t){this.fe(t,37),S.fromName(e).path.forEach(r=>{this.fe(t,60),this.Te(r,t)})}fe(e,t){e.de(t)}me(e){e.de(2)}};Cr.Ee=new Cr;function MU(n){if(n===0)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function kC(n){let e=64-function(t){let r=0;for(let i=0;i<8;++i){let s=MU(255&t[i]);if(r+=s,s!==8)break}return r}(n);return Math.ceil(e/8)}var z_=class{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ae(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.Re(r.value),r=t.next();this.Pe()}ve(e){let t=e[Symbol.iterator](),r=t.next();for(;!r.done;)this.be(r.value),r=t.next();this.Ve()}Se(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.Re(r);else if(r<2048)this.Re(960|r>>>6),this.Re(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Re(480|r>>>12),this.Re(128|63&r>>>6),this.Re(128|63&r);else{let i=t.codePointAt(0);this.Re(240|i>>>18),this.Re(128|63&i>>>12),this.Re(128|63&i>>>6),this.Re(128|63&i)}}this.Pe()}De(e){for(let t of e){let r=t.charCodeAt(0);if(r<128)this.be(r);else if(r<2048)this.be(960|r>>>6),this.be(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.be(480|r>>>12),this.be(128|63&r>>>6),this.be(128|63&r);else{let i=t.codePointAt(0);this.be(240|i>>>18),this.be(128|63&i>>>12),this.be(128|63&i>>>6),this.be(128|63&i)}}this.Ve()}Ce(e){let t=this.xe(e),r=kC(t);this.Ne(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}ke(e){let t=this.xe(e),r=kC(t);this.Ne(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}$e(){this.Me(255),this.Me(255)}Oe(){this.Fe(255),this.Fe(255)}reset(){this.position=0}seed(e){this.Ne(e.length),this.buffer.set(e,this.position),this.position+=e.length}Be(){return this.buffer.slice(0,this.position)}xe(e){let t=function(i){let s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,i,!1),new Uint8Array(s.buffer)}(e),r=(128&t[0])!=0;t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Re(e){let t=255&e;t===0?(this.Me(0),this.Me(255)):t===255?(this.Me(255),this.Me(0)):this.Me(t)}be(e){let t=255&e;t===0?(this.Fe(0),this.Fe(255)):t===255?(this.Fe(255),this.Fe(0)):this.Fe(e)}Pe(){this.Me(0),this.Me(1)}Ve(){this.Fe(0),this.Fe(1)}Me(e){this.Ne(1),this.buffer[this.position++]=e}Fe(e){this.Ne(1),this.buffer[this.position++]=~e}Ne(e){let t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);let i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}},$_=class{constructor(e){this.Le=e}ge(e){this.Le.Ae(e)}_e(e){this.Le.Se(e)}de(e){this.Le.Ce(e)}le(){this.Le.$e()}},G_=class{constructor(e){this.Le=e}ge(e){this.Le.ve(e)}_e(e){this.Le.De(e)}de(e){this.Le.ke(e)}le(){this.Le.Oe()}},ks=class{constructor(){this.Le=new z_,this.qe=new $_(this.Le),this.Ue=new G_(this.Le)}seed(e){this.Le.seed(e)}Ke(e){return e===0?this.qe:this.Ue}Be(){return this.Le.Be()}reset(){this.Le.reset()}};var Ar=class{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}Ge(){let e=this.directionalValue.length,t=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new Ar(this.indexId,this.documentKey,this.arrayValue,r)}};function li(n,e){let t=n.indexId-e.indexId;return t!==0?t:(t=PC(n.arrayValue,e.arrayValue),t!==0?t:(t=PC(n.directionalValue,e.directionalValue),t!==0?t:S.comparator(n.documentKey,e.documentKey)))}function PC(n,e){for(let t=0;t<n.length&&t<e.length;++t){let r=n[t]-e[t];if(r!==0)return r}return n.length-e.length}var W_=class{constructor(e){this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.Qe=e.orderBy,this.je=[];for(let t of e.filters){let r=t;r.isInequality()?this.ze=r:this.je.push(r)}}We(e){O(e.collectionGroup===this.collectionId);let t=p_(e);if(t!==void 0&&!this.He(t))return!1;let r=Ds(e),i=0,s=0;for(;i<r.length&&this.He(r[i]);++i);if(i===r.length)return!0;if(this.ze!==void 0){let o=r[i];if(!this.Je(this.ze,o)||!this.Ye(this.Qe[s++],o))return!1;++i}for(;i<r.length;++i){let o=r[i];if(s>=this.Qe.length||!this.Ye(this.Qe[s++],o))return!1}return!0}He(e){for(let t of this.je)if(this.Je(t,e))return!0;return!1}Je(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;let r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}Ye(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}};function ZA(n){var e,t;if(O(n instanceof G||n instanceof te),n instanceof G){if(n instanceof Pd){let i=((t=(e=n.value.arrayValue)===null||e===void 0?void 0:e.values)===null||t===void 0?void 0:t.map(s=>G.create(n.field,"==",s)))||[];return te.create(i,"or")}return n}let r=n.filters.map(i=>ZA(i));return te.create(r,n.op)}function BU(n){if(n.getFilters().length===0)return[];let e=Y_(ZA(n));return O(eR(e)),H_(e)||K_(e)?[e]:e.getFilters()}function H_(n){return n instanceof G}function K_(n){return n instanceof te&&Zy(n)}function eR(n){return H_(n)||K_(n)||function(e){if(e instanceof te&&T_(e)){for(let t of e.getFilters())if(!H_(t)&&!K_(t))return!1;return!0}return!1}(n)}function Y_(n){if(O(n instanceof G||n instanceof te),n instanceof G)return n;if(n.filters.length===1)return Y_(n.filters[0]);let e=n.filters.map(r=>Y_(r)),t=te.create(e,n.op);return t=$d(t),eR(t)?t:(O(t instanceof te),O(ma(t)),O(t.filters.length>1),t.filters.reduce((r,i)=>iv(r,i)))}function iv(n,e){let t;return O(n instanceof G||n instanceof te),O(e instanceof G||e instanceof te),t=n instanceof G?e instanceof G?function(r,i){return te.create([r,i],"and")}(n,e):MC(n,e):e instanceof G?MC(e,n):function(r,i){if(O(r.filters.length>0&&i.filters.length>0),ma(r)&&ma(i))return mA(r,i.getFilters());let s=T_(r)?r:i,o=T_(r)?i:r,a=s.filters.map(c=>iv(c,o));return te.create(a,"or")}(n,e),$d(t)}function MC(n,e){if(ma(e))return mA(e,n.getFilters());{let t=e.filters.map(r=>iv(n,r));return te.create(t,"or")}}function $d(n){if(O(n instanceof G||n instanceof te),n instanceof G)return n;let e=n.getFilters();if(e.length===1)return $d(e[0]);if(fA(n))return n;let t=e.map(i=>$d(i)),r=[];return t.forEach(i=>{i instanceof G?r.push(i):i instanceof te&&(i.op===n.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:te.create(r,n.op)}var Q_=class{constructor(){this.Ze=new Ou}addToCollectionParentIndex(e,t){return this.Ze.add(t),g.resolve()}getCollectionParents(e,t){return g.resolve(this.Ze.getEntries(t))}addFieldIndex(e,t){return g.resolve()}deleteFieldIndex(e,t){return g.resolve()}getDocumentsMatchingTarget(e,t){return g.resolve(null)}getIndexType(e,t){return g.resolve(0)}getFieldIndexes(e,t){return g.resolve([])}getNextCollectionGroupToUpdate(e){return g.resolve(null)}getMinOffset(e,t){return g.resolve(xt.min())}getMinOffsetFromCollectionGroup(e,t){return g.resolve(xt.min())}updateCollectionGroup(e,t,r){return g.resolve()}updateIndexEntries(e,t){return g.resolve()}},Ou=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new re(H.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new re(H.comparator)).toArray()}};var vd=new Uint8Array(0),J_=class{constructor(e,t){this.user=e,this.databaseId=t,this.Xe=new Ou,this.tn=new Zn(r=>js(r),(r,i)=>Hu(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Xe.has(t)){let r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.Xe.add(t)});let s={collectionId:r,parent:Rt(i)};return BC(e).put(s)}return g.resolve()}getCollectionParents(e,t){let r=[],i=IDBKeyRange.bound([t,""],[iA(t),""],!1,!0);return BC(e).W(i).next(s=>{for(let o of s){if(o.collectionId!==t)break;r.push(Kn(o.parent))}return r})}addFieldIndex(e,t){let r=Ed(e),i=function(o){return{indexId:o.indexId,collectionGroup:o.collectionGroup,fields:o.fields.map(a=>[a.fieldPath.canonicalString(),a.kind])}}(t);delete i.indexId;let s=r.add(i);if(t.indexState){let o=lu(e);return s.next(a=>{o.put(DC(a,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return s.next()}deleteFieldIndex(e,t){let r=Ed(e),i=lu(e),s=uu(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){let r=uu(e),i=!0,s=new Map;return g.forEach(this.en(t),o=>this.nn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=q(),a=[];return g.forEach(s,(c,u)=>{var l;I("IndexedDbIndexManager",`Using index ${l=c,`id=${l.indexId}|cg=${l.collectionGroup}|f=${l.fields.map(A=>`${A.fieldPath}:${A.kind}`).join(",")}`} to execute ${js(t)}`);let h=function(A,L){let $=p_(L);if($===void 0)return null;for(let K of Ld(A,$.fieldPath))switch(K.op){case"array-contains-any":return K.value.arrayValue.values||[];case"array-contains":return[K.value]}return null}(u,c),d=function(A,L){let $=new Map;for(let K of Ds(L))for(let Ne of Ld(A,K.fieldPath))switch(Ne.op){case"==":case"in":$.set(K.fieldPath.canonicalString(),Ne.value);break;case"not-in":case"!=":return $.set(K.fieldPath.canonicalString(),Ne.value),Array.from($.values())}return null}(u,c),p=function(A,L){let $=[],K=!0;for(let Ne of Ds(L)){let pt=Ne.kind===0?gC(A,Ne.fieldPath,A.startAt):_C(A,Ne.fieldPath,A.startAt);$.push(pt.value),K&&(K=pt.inclusive)}return new Xn($,K)}(u,c),m=function(A,L){let $=[],K=!0;for(let Ne of Ds(L)){let pt=Ne.kind===0?_C(A,Ne.fieldPath,A.endAt):gC(A,Ne.fieldPath,A.endAt);$.push(pt.value),K&&(K=pt.inclusive)}return new Xn($,K)}(u,c),_=this.sn(c,u,p),E=this.sn(c,u,m),N=this.rn(c,u,d),B=this.on(c.indexId,h,_,p.inclusive,E,m.inclusive,N);return g.forEach(B,A=>r.J(A,t.limit).next(L=>{L.forEach($=>{let K=S.fromSegments($.documentKey);o.has(K)||(o=o.add(K),a.push(K))})}))}).next(()=>a)}return g.resolve(null)})}en(e){let t=this.tn.get(e);return t||(e.filters.length===0?t=[e]:t=BU(te.create(e.filters,"and")).map(r=>k_(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.tn.set(e,t),t)}on(e,t,r,i,s,o,a){let c=(t!=null?t.length:1)*Math.max(r.length,s.length),u=c/(t!=null?t.length:1),l=[];for(let h=0;h<c;++h){let d=t?this.un(t[h/u]):vd,p=this.cn(e,d,r[h%u],i),m=this.an(e,d,s[h%u],o),_=a.map(E=>this.cn(e,d,E,!0));l.push(...this.createRange(p,m,_))}return l}cn(e,t,r,i){let s=new Ar(e,S.empty(),t,r);return i?s:s.Ge()}an(e,t,r,i){let s=new Ar(e,S.empty(),t,r);return i?s.Ge():s}nn(e,t){let r=new W_(t),i=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(let a of s)r.We(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,t){let r=2,i=this.en(t);return g.forEach(i,s=>this.nn(e,s).next(o=>{o?r!==0&&o.fields.length<function(a){let c=new re(ge.comparator),u=!1;for(let l of a.filters)for(let h of l.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?u=!0:c=c.add(h.field));for(let l of a.orderBy)l.field.isKeyField()||(c=c.add(l.field));return c.size+(u?1:0)}(s)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(t)&&i.length>1&&r===2?1:r)}hn(e,t){let r=new ks;for(let i of Ds(e)){let s=t.data.field(i.fieldPath);if(s==null)return null;let o=r.Ke(i.kind);Cr.Ee.ae(s,o)}return r.Be()}un(e){let t=new ks;return Cr.Ee.ae(e,t.Ke(0)),t.Be()}ln(e,t){let r=new ks;return Cr.Ee.ae(Vs(this.databaseId,t),r.Ke(function(i){let s=Ds(i);return s.length===0?0:s[s.length-1].kind}(e))),r.Be()}rn(e,t,r){if(r===null)return[];let i=[];i.push(new ks);let s=0;for(let o of Ds(e)){let a=r[s++];for(let c of i)if(this.fn(t,o.fieldPath)&&Iu(a))i=this.dn(i,o,a);else{let u=c.Ke(o.kind);Cr.Ee.ae(a,u)}}return this._n(i)}sn(e,t,r){return this.rn(e,t,r.position)}_n(e){let t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Be();return t}dn(e,t,r){let i=[...e],s=[];for(let o of r.arrayValue.values||[])for(let a of i){let c=new ks;c.seed(a.Be()),Cr.Ee.ae(o,c.Ke(t.kind)),s.push(c)}return s}fn(e,t){return!!e.filters.find(r=>r instanceof G&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,t){let r=Ed(e),i=lu(e);return(t?r.W("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.W()).next(s=>{let o=[];return g.forEach(s,a=>i.get([a.indexId,this.uid]).next(c=>{o.push(function(u,l){let h=l?new da(l.sequenceNumber,new xt(Hs(l.readTime),new S(Kn(l.documentKey)),l.largestBatchId)):da.empty(),d=u.fields.map(([p,m])=>new m_(ge.fromServerFormat(p),m));return new Od(u.indexId,u.collectionGroup,d,h)}(a,c))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>t.length===0?null:(t.sort((r,i)=>{let s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:F(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){let i=Ed(e),s=lu(e);return this.wn(e).next(o=>i.W("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(a=>g.forEach(a,c=>s.put(DC(c.indexId,this.user,o,r)))))}updateIndexEntries(e,t){let r=new Map;return g.forEach(t,(i,s)=>{let o=r.get(i.collectionGroup);return(o?g.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),g.forEach(a,c=>this.mn(e,i,c).next(u=>{let l=this.gn(s,c);return u.isEqual(l)?g.resolve():this.yn(e,s,c,u,l)}))))})}pn(e,t,r,i){return uu(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.ln(r,t.key),documentKey:t.key.path.toArray()})}In(e,t,r,i){return uu(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.ln(r,t.key),t.key.path.toArray()])}mn(e,t,r){let i=uu(e),s=new re(li);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.ln(r,t)])},(o,a)=>{s=s.add(new Ar(r.indexId,t,a.arrayValue,a.directionalValue))}).next(()=>s)}gn(e,t){let r=new re(li),i=this.hn(t,e);if(i==null)return r;let s=p_(t);if(s!=null){let o=e.data.field(s.fieldPath);if(Iu(o))for(let a of o.arrayValue.values||[])r=r.add(new Ar(t.indexId,e.key,this.un(a),i))}else r=r.add(new Ar(t.indexId,e.key,vd,i));return r}yn(e,t,r,i,s){I("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);let o=[];return function(a,c,u,l,h){let d=a.getIterator(),p=c.getIterator(),m=ia(d),_=ia(p);for(;m||_;){let E=!1,N=!1;if(m&&_){let B=u(m,_);B<0?N=!0:B>0&&(E=!0)}else m!=null?N=!0:E=!0;E?(l(_),_=ia(p)):N?(h(m),m=ia(d)):(m=ia(d),_=ia(p))}}(i,s,li,a=>{o.push(this.pn(e,t,r,a))},a=>{o.push(this.In(e,t,r,a))}),g.waitFor(o)}wn(e){let t=1;return lu(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((o,a)=>li(o,a)).filter((o,a,c)=>!a||li(o,c[a-1])!==0);let i=[];i.push(e);for(let o of r){let a=li(o,e),c=li(o,t);if(a===0)i[0]=e.Ge();else if(a>0&&c<0)i.push(o),i.push(o.Ge());else if(c>0)break}i.push(t);let s=[];for(let o=0;o<i.length;o+=2){if(this.Tn(i[o],i[o+1]))return[];let a=[i[o].indexId,this.uid,i[o].arrayValue,i[o].directionalValue,vd,[]],c=[i[o+1].indexId,this.uid,i[o+1].arrayValue,i[o+1].directionalValue,vd,[]];s.push(IDBKeyRange.bound(a,c))}return s}Tn(e,t){return li(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(LC)}getMinOffset(e,t){return g.mapArray(this.en(t),r=>this.nn(e,r).next(i=>i||R())).next(LC)}};function BC(n){return tt(n,"collectionParents")}function uu(n){return tt(n,"indexEntries")}function Ed(n){return tt(n,"indexConfiguration")}function lu(n){return tt(n,"indexState")}function LC(n){O(n.length!==0);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){let i=n[r].indexState.offset;Qy(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new xt(e.readTime,e.documentKey,t)}var UC={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vt=class{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new vt(e,vt.DEFAULT_COLLECTION_PERCENTILE,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};function tR(n,e,t){let r=n.store("mutations"),i=n.store("documentMutations"),s=[],o=IDBKeyRange.only(t.batchId),a=0,c=r.X({range:o},(l,h,d)=>(a++,d.delete()));s.push(c.next(()=>{O(a===1)}));let u=[];for(let l of t.mutations){let h=KA(e,l.key.path,t.batchId);s.push(i.delete(h)),u.push(l.key)}return g.waitFor(s).next(()=>u)}function Gd(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw R();e=n.noDocument}return JSON.stringify(e).length}vt.DEFAULT_COLLECTION_PERCENTILE=10,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,vt.DEFAULT=new vt(41943040,vt.DEFAULT_COLLECTION_PERCENTILE,vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),vt.DISABLED=new vt(-1,0,0);var Ea=class{constructor(e,t,r,i){this.userId=e,this.Tt=t,this.indexManager=r,this.referenceDelegate=i,this.En={}}static ue(e,t,r,i){O(e.uid!=="");let s=e.isAuthenticated()?e.uid:"";return new Ea(s,t,r,i)}checkEmpty(e){let t=!0,r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return hi(e).X({index:"userMutationsIndex",range:r},(i,s,o)=>{t=!1,o.done()}).next(()=>t)}addMutationBatch(e,t,r,i){let s=ca(e),o=hi(e);return o.add({}).next(a=>{O(typeof a=="number");let c=new Ru(a,t,r,i),u=function(d,p,m){let _=m.baseMutations.map(N=>Cu(d.oe,N)),E=m.mutations.map(N=>Cu(d.oe,N));return{userId:p,batchId:m.batchId,localWriteTimeMs:m.localWriteTime.toMillis(),baseMutations:_,mutations:E}}(this.Tt,this.userId,c),l=[],h=new re((d,p)=>F(d.canonicalString(),p.canonicalString()));for(let d of i){let p=KA(this.userId,d.key.path,a);h=h.add(d.key.path.popLast()),l.push(o.put(u)),l.push(s.put(p,_U))}return h.forEach(d=>{l.push(this.indexManager.addToCollectionParentIndex(e,d))}),e.addOnCommittedListener(()=>{this.En[a]=c.keys()}),g.waitFor(l).next(()=>c)})}lookupMutationBatch(e,t){return hi(e).get(t).next(r=>r?(O(r.userId===this.userId),Ns(this.Tt,r)):null)}An(e,t){return this.En[t]?g.resolve(this.En[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){let i=r.keys();return this.En[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),s=null;return hi(e).X({index:"userMutationsIndex",range:i},(o,a,c)=>{a.userId===this.userId&&(O(a.batchId>=r),s=Ns(this.Tt,a)),c.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){let t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),r=-1;return hi(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){let t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return hi(e).W("userMutationsIndex",t).next(r=>r.map(i=>Ns(this.Tt,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){let r=Ad(this.userId,t.path),i=IDBKeyRange.lowerBound(r),s=[];return ca(e).X({range:i},(o,a,c)=>{let[u,l,h]=o,d=Kn(l);if(u===this.userId&&t.path.isEqual(d))return hi(e).get(h).next(p=>{if(!p)throw R();O(p.userId===this.userId),s.push(Ns(this.Tt,p))});c.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new re(F),i=[];return t.forEach(s=>{let o=Ad(this.userId,s.path),a=IDBKeyRange.lowerBound(o),c=ca(e).X({range:a},(u,l,h)=>{let[d,p,m]=u,_=Kn(p);d===this.userId&&s.path.isEqual(_)?r=r.add(m):h.done()});i.push(c)}),g.waitFor(i).next(()=>this.Rn(e,r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=Ad(this.userId,r),o=IDBKeyRange.lowerBound(s),a=new re(F);return ca(e).X({range:o},(c,u,l)=>{let[h,d,p]=c,m=Kn(d);h===this.userId&&r.isPrefixOf(m)?m.length===i&&(a=a.add(p)):l.done()}).next(()=>this.Rn(e,a))}Rn(e,t){let r=[],i=[];return t.forEach(s=>{i.push(hi(e).get(s).next(o=>{if(o===null)throw R();O(o.userId===this.userId),r.push(Ns(this.Tt,o))}))}),g.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return tR(e.re,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Pn(t.batchId)}),g.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Pn(e){delete this.En[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return g.resolve();let r=IDBKeyRange.lowerBound([this.userId]),i=[];return ca(e).X({range:r},(s,o,a)=>{if(s[0]===this.userId){let c=Kn(s[1]);i.push(c)}else a.done()}).next(()=>{O(i.length===0)})})}containsKey(e,t){return nR(e,this.userId,t)}vn(e){return rR(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}};function nR(n,e,t){let r=Ad(e,t.path),i=r[1],s=IDBKeyRange.lowerBound(r),o=!1;return ca(n).X({range:s,Z:!0},(a,c,u)=>{let[l,h,d]=a;l===e&&h===i&&(o=!0),u.done()}).next(()=>o)}function hi(n){return tt(n,"mutations")}function ca(n){return tt(n,"documentMutations")}function rR(n){return tt(n,"mutationQueues")}var Or=class{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Vn(){return new Or(0)}static Sn(){return new Or(-1)}};var X_=class{constructor(e,t){this.referenceDelegate=e,this.Tt=t}allocateTargetId(e){return this.Dn(e).next(t=>{let r=new Or(t.highestTargetId);return t.highestTargetId=r.next(),this.Cn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Dn(e).next(t=>D.fromTimestamp(new ue(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Dn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Dn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.Cn(e,i)))}addTargetData(e,t){return this.xn(e,t).next(()=>this.Dn(e).next(r=>(r.targetCount+=1,this.Nn(t,r),this.Cn(e,r))))}updateTargetData(e,t){return this.xn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>sa(e).delete(t.targetId)).next(()=>this.Dn(e)).next(r=>(O(r.targetCount>0),r.targetCount-=1,this.Cn(e,r)))}removeTargets(e,t,r){let i=0,s=[];return sa(e).X((o,a)=>{let c=pu(a);c.sequenceNumber<=t&&r.get(c.targetId)===null&&(i++,s.push(this.removeTargetData(e,c)))}).next(()=>g.waitFor(s)).next(()=>i)}forEachTarget(e,t){return sa(e).X((r,i)=>{let s=pu(i);t(s)})}Dn(e){return FC(e).get("targetGlobalKey").next(t=>(O(t!==null),t))}Cn(e,t){return FC(e).put("targetGlobalKey",t)}xn(e,t){return sa(e).put(XA(this.Tt,t))}Nn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Dn(e).next(t=>t.targetCount)}getTargetData(e,t){let r=js(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),s=null;return sa(e).X({range:i,index:"queryTargetsIndex"},(o,a,c)=>{let u=pu(a);Hu(t,u.target)&&(s=u,c.done())}).next(()=>s)}addMatchingKeys(e,t,r){let i=[],s=di(e);return t.forEach(o=>{let a=Rt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),g.waitFor(i)}removeMatchingKeys(e,t,r){let i=di(e);return g.forEach(t,s=>{let o=Rt(s.path);return g.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,t){let r=di(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){let r=IDBKeyRange.bound([t],[t+1],!1,!0),i=di(e),s=q();return i.X({range:r,Z:!0},(o,a,c)=>{let u=Kn(o[1]),l=new S(u);s=s.add(l)}).next(()=>s)}containsKey(e,t){let r=Rt(t.path),i=IDBKeyRange.bound([r],[iA(r)],!1,!0),s=0;return di(e).X({index:"documentTargetsIndex",Z:!0,range:i},([o,a],c,u)=>{o!==0&&(s++,u.done())}).next(()=>s>0)}ie(e,t){return sa(e).get(t).next(r=>r?pu(r):null)}};function sa(n){return tt(n,"targets")}function FC(n){return tt(n,"targetGlobal")}function di(n){return tt(n,"targetDocuments")}function qC([n,e],[t,r]){let i=F(n,t);return i===0?F(e,r):i}var Z_=class{constructor(e){this.kn=e,this.buffer=new re(qC),this.$n=0}Mn(){return++this.$n}On(e){let t=[e,this.Mn()];if(this.buffer.size<this.kn)this.buffer=this.buffer.add(t);else{let r=this.buffer.last();qC(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}},ey=class{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Fn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Bn(6e4)}stop(){this.Fn&&(this.Fn.cancel(),this.Fn=null)}get started(){return this.Fn!==null}Bn(e){I("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Fn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Fn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ri(t)?I("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await Ai(t)}await this.Bn(3e5)})}},ty=class{constructor(e,t){this.Ln=e,this.params=t}calculateTargetCount(e,t){return this.Ln.qn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return g.resolve(Et.at);let r=new Z_(t);return this.Ln.forEachTarget(e,i=>r.On(i.sequenceNumber)).next(()=>this.Ln.Un(e,i=>r.On(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Ln.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Ln.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(I("LruGarbageCollector","Garbage collection skipped; disabled"),g.resolve(UC)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(I("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),UC):this.Kn(e,t))}getCacheSize(e){return this.Ln.getCacheSize(e)}Kn(e,t){let r,i,s,o,a,c,u,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(I("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,t))).next(h=>(s=h,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),o_()<=W.DEBUG&&I("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-l}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(c-a)+`ms
	Removed ${h} documents in `+(u-c)+`ms
Total Duration: ${u-l}ms`),g.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}};var ny=class{constructor(e,t){this.db=e,this.garbageCollector=function(r,i){return new ty(r,i)}(this,t)}qn(e){let t=this.Gn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Gn(e){let t=0;return this.Un(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Un(e,t){return this.Qn(e,(r,i)=>t(i))}addReference(e,t,r){return bd(e,r)}removeReference(e,t,r){return bd(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return bd(e,t)}jn(e,t){return function(r,i){let s=!1;return rR(r).tt(o=>nR(r,o,i).next(a=>(a&&(s=!0),g.resolve(!a)))).next(()=>s)}(e,t)}removeOrphanedDocuments(e,t){let r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],s=0;return this.Qn(e,(o,a)=>{if(a<=t){let c=this.jn(e,o).next(u=>{if(!u)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,D.min()),di(e).delete([0,Rt(o.path)])))});i.push(c)}}).next(()=>g.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,t){let r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return bd(e,t)}Qn(e,t){let r=di(e),i,s=Et.at;return r.X({index:"documentTargetsIndex"},([o,a],{path:c,sequenceNumber:u})=>{o===0?(s!==Et.at&&t(new S(Kn(i)),s),s=u,i=c):s=Et.at}).next(()=>{s!==Et.at&&t(new S(Kn(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}};function bd(n,e){return di(n).put(function(t,r){return{targetId:0,path:Rt(t.path),sequenceNumber:r}}(e,n.currentSequenceNumber))}var Wd=class{constructor(){this.changes=new Zn(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,ce.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?g.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var ry=class{constructor(e){this.Tt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return xs(e).put(r)}removeEntry(e,t,r){return xs(e).delete(function(i,s){let o=i.path.toArray();return[o.slice(0,o.length-2),o[o.length-2],zd(s),o[o.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.zn(e,r)))}getEntry(e,t){let r=ce.newInvalidDocument(t);return xs(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(hu(t))},(i,s)=>{r=this.Wn(t,s)}).next(()=>r)}Hn(e,t){let r={size:0,document:ce.newInvalidDocument(t)};return xs(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(hu(t))},(i,s)=>{r={document:this.Wn(t,s),size:Gd(s)}}).next(()=>r)}getEntries(e,t){let r=Bt();return this.Jn(e,t,(i,s)=>{let o=this.Wn(i,s);r=r.insert(i,o)}).next(()=>r)}Yn(e,t){let r=Bt(),i=new _e(S.comparator);return this.Jn(e,t,(s,o)=>{let a=this.Wn(s,o);r=r.insert(s,a),i=i.insert(s,Gd(o))}).next(()=>({documents:r,Zn:i}))}Jn(e,t,r){if(t.isEmpty())return g.resolve();let i=new re(zC);t.forEach(c=>i=i.add(c));let s=IDBKeyRange.bound(hu(i.first()),hu(i.last())),o=i.getIterator(),a=o.getNext();return xs(e).X({index:"documentKeyIndex",range:s},(c,u,l)=>{let h=S.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&zC(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,u),a=o.hasNext()?o.getNext():null),a?l.j(hu(a)):l.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){let s=t.path,o=[s.popLast().toArray(),s.lastSegment(),zd(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],a=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return xs(e).W(IDBKeyRange.bound(o,a,!0)).next(c=>{let u=Bt();for(let l of c){let h=this.Wn(S.fromSegments(l.prefixPath.concat(l.collectionGroup,l.documentId)),l);h.isFoundDocument()&&(Yu(t,h)||i.has(h.key))&&(u=u.insert(h.key,h))}return u})}getAllFromCollectionGroup(e,t,r,i){let s=Bt(),o=jC(t,r),a=jC(t,xt.max());return xs(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,a,!0)},(c,u,l)=>{let h=this.Wn(S.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);s=s.insert(h.key,h),s.size===i&&l.done()}).next(()=>s)}newChangeBuffer(e){return new iy(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return VC(e).get("remoteDocumentGlobalKey").next(t=>(O(!!t),t))}zn(e,t){return VC(e).put("remoteDocumentGlobalKey",t)}Wn(e,t){if(t){let r=PU(this.Tt,t);if(!(r.isNoDocument()&&r.version.isEqual(D.min())))return r}return ce.newInvalidDocument(e)}};function iR(n){return new ry(n)}var iy=class extends Wd{constructor(e,t){super(),this.Xn=e,this.trackRemovals=t,this.ts=new Zn(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){let t=[],r=0,i=new re((s,o)=>F(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{let a=this.ts.get(s);if(t.push(this.Xn.removeEntry(e,s,a.readTime)),o.isValidDocument()){let c=RC(this.Xn.Tt,o);i=i.add(s.path.popLast());let u=Gd(c);r+=u-a.size,t.push(this.Xn.addEntry(e,s,c))}else if(r-=a.size,this.trackRemovals){let c=RC(this.Xn.Tt,o.convertToNoDocument(D.min()));t.push(this.Xn.addEntry(e,s,c))}}),i.forEach(s=>{t.push(this.Xn.indexManager.addToCollectionParentIndex(e,s))}),t.push(this.Xn.updateMetadata(e,r)),g.waitFor(t)}getFromCache(e,t){return this.Xn.Hn(e,t).next(r=>(this.ts.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.Xn.Yn(e,t).next(({documents:r,Zn:i})=>(i.forEach((s,o)=>{this.ts.set(s,{size:o,readTime:r.get(s).readTime})}),r))}};function VC(n){return tt(n,"remoteDocumentGlobal")}function xs(n){return tt(n,"remoteDocumentsV14")}function hu(n){let e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function jC(n,e){let t=e.documentKey.path.toArray();return[n,zd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function zC(n,e){let t=n.path.toArray(),r=e.path.toArray(),i=0;for(let s=0;s<t.length-2&&s<r.length-2;++s)if(i=F(t[s],r[s]),i)return i;return i=F(t.length,r.length),i||(i=F(t[t.length-2],r[r.length-2]),i||F(t[t.length-1],r[r.length-1]))}var sy=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Hd=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&gu(r.mutation,i,bt.empty(),ue.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,q()).next(()=>r))}getLocalViewOfDocuments(e,t,r=q()){let i=Hn();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=fu();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){let r=Hn();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,q()))}populateOverlays(e,t,r){let i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Bt(),o=_u(),a=_u();return t.forEach((c,u)=>{let l=r.get(u.key);i.has(u.key)&&(l===void 0||l.mutation instanceof Tn)?s=s.insert(u.key,u):l!==void 0?(o.set(u.key,l.mutation.getFieldMask()),gu(l.mutation,u,l.mutation.getFieldMask(),ue.now())):o.set(u.key,bt.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,l)=>o.set(u,l)),t.forEach((u,l)=>{var h;return a.set(u,new sy(l,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,t){let r=_u(),i=new _e((o,a)=>o-a),s=q();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(let a of o)a.keys().forEach(c=>{let u=t.get(c);if(u===null)return;let l=r.get(c)||bt.empty();l=a.applyToLocalView(u,l),r.set(c,l);let h=(i.get(a.batchId)||q()).add(c);i=i.insert(a.batchId,h)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let c=a.getNext(),u=c.key,l=c.value,h=BA();l.forEach(d=>{if(!s.has(d)){let p=DA(t.get(d),r.get(d));p!==null&&h.set(d,p),s=s.add(d)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return g.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return function(i){return S.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):tv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):g.resolve(Hn()),a=-1,c=s;return o.next(u=>g.forEach(u,(l,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(l)?g.resolve():this.remoteDocumentCache.getEntry(e,l).next(d=>{c=c.insert(l,d)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,q())).next(l=>({batchId:a,changes:MA(l)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new S(t)).next(r=>{let i=fu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){let i=t.collectionGroup,s=fu();return this.indexManager.getCollectionParents(e,i).next(o=>g.forEach(o,a=>{let c=function(u,l){return new wn(l,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r).next(u=>{u.forEach((l,h)=>{s=s.insert(l,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(s=>{i.forEach((a,c)=>{let u=c.getKey();s.get(u)===null&&(s=s.insert(u,ce.newInvalidDocument(u)))});let o=fu();return s.forEach((a,c)=>{let u=i.get(a);u!==void 0&&gu(u.mutation,c,bt.empty(),ue.now()),Yu(t,c)&&(o=o.insert(a,c))}),o})}};var oy=class{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,t){return g.resolve(this.es.get(t))}saveBundleMetadata(e,t){var r;return this.es.set(t.id,{id:(r=t).id,version:r.version,createTime:xe(r.createTime)}),g.resolve()}getNamedQuery(e,t){return g.resolve(this.ns.get(t))}saveNamedQuery(e,t){return this.ns.set(t.name,function(r){return{name:r.name,query:rv(r.bundledQuery),readTime:xe(r.readTime)}}(t)),g.resolve()}};var ay=class{constructor(){this.overlays=new _e(S.comparator),this.ss=new Map}getOverlay(e,t){return g.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Hn();return g.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ce(e,t,s)}),g.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.ss.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ss.delete(r)),g.resolve()}getOverlaysForCollection(e,t,r){let i=Hn(),s=t.length+1,o=new S(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return g.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new _e((u,l)=>u-l),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let l=s.get(u.largestBatchId);l===null&&(l=Hn(),s=s.insert(u.largestBatchId,l)),l.set(u.getKey(),u)}}let a=Hn(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,l)=>a.set(u,l)),!(a.size()>=i)););return g.resolve(a)}ce(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.ss.get(i.largestBatchId).delete(r.key);this.ss.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Du(t,r));let s=this.ss.get(t);s===void 0&&(s=q(),this.ss.set(t,s)),this.ss.set(t,s.add(r.key))}};var Nu=class{constructor(){this.rs=new re(Pe.os),this.us=new re(Pe.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,t){let r=new Pe(e,t);this.rs=this.rs.add(r),this.us=this.us.add(r)}hs(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.ls(new Pe(e,t))}fs(e,t){e.forEach(r=>this.removeReference(r,t))}ds(e){let t=new S(new H([])),r=new Pe(t,e),i=new Pe(t,e+1),s=[];return this.us.forEachInRange([r,i],o=>{this.ls(o),s.push(o.key)}),s}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){let t=new S(new H([])),r=new Pe(t,e),i=new Pe(t,e+1),s=q();return this.us.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let t=new Pe(e,0),r=this.rs.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},Pe=class{constructor(e,t){this.key=e,this.gs=t}static os(e,t){return S.comparator(e.key,t.key)||F(e.gs,t.gs)}static cs(e,t){return F(e.gs,t.gs)||S.comparator(e.key,t.key)}};var cy=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ys=1,this.ps=new re(Pe.os)}checkEmpty(e){return g.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let s=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new Ru(s,t,r,i);this.mutationQueue.push(o);for(let a of i)this.ps=this.ps.add(new Pe(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return g.resolve(o)}lookupMutationBatch(e,t){return g.resolve(this.Is(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.Ts(r),s=i<0?0:i;return g.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return g.resolve(this.mutationQueue.length===0?-1:this.ys-1)}getAllMutationBatches(e){return g.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new Pe(t,0),i=new Pe(t,Number.POSITIVE_INFINITY),s=[];return this.ps.forEachInRange([r,i],o=>{let a=this.Is(o.gs);s.push(a)}),g.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new re(F);return t.forEach(i=>{let s=new Pe(i,0),o=new Pe(i,Number.POSITIVE_INFINITY);this.ps.forEachInRange([s,o],a=>{r=r.add(a.gs)})}),g.resolve(this.Es(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,s=r;S.isDocumentKey(s)||(s=s.child(""));let o=new Pe(new S(s),0),a=new re(F);return this.ps.forEachWhile(c=>{let u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.gs)),!0)},o),g.resolve(this.Es(a))}Es(e){let t=[];return e.forEach(r=>{let i=this.Is(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){O(this.As(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.ps;return g.forEach(t.mutations,i=>{let s=new Pe(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.ps=r})}Pn(e){}containsKey(e,t){let r=new Pe(t,0),i=this.ps.firstAfterOrEqual(r);return g.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,g.resolve()}As(e,t){return this.Ts(e)}Ts(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Is(e){let t=this.Ts(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var uy=class{constructor(e){this.Rs=e,this.docs=new _e(S.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Rs(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return g.resolve(r?r.document.mutableCopy():ce.newInvalidDocument(t))}getEntries(e,t){let r=Bt();return t.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():ce.newInvalidDocument(i))}),g.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Bt(),o=t.path,a=new S(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){let{key:u,value:{document:l}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Qy(oA(l),r)<=0||(i.has(l.key)||Yu(t,l))&&(s=s.insert(l.key,l.mutableCopy()))}return g.resolve(s)}getAllFromCollectionGroup(e,t,r,i){R()}Ps(e,t){return g.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ly(this)}getSize(e){return g.resolve(this.size)}},ly=class extends Wd{constructor(e){super(),this.Xn=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Xn.addEntry(e,i)):this.Xn.removeEntry(r)}),g.waitFor(t)}getFromCache(e,t){return this.Xn.getEntry(e,t)}getAllFromCache(e,t){return this.Xn.getEntries(e,t)}};var hy=class{constructor(e){this.persistence=e,this.vs=new Zn(t=>js(t),Hu),this.lastRemoteSnapshotVersion=D.min(),this.highestTargetId=0,this.bs=0,this.Vs=new Nu,this.targetCount=0,this.Ss=Or.Vn()}forEachTarget(e,t){return this.vs.forEach((r,i)=>t(i)),g.resolve()}getLastRemoteSnapshotVersion(e){return g.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return g.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),g.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),g.resolve()}xn(e){this.vs.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.Ss=new Or(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.xn(t),this.targetCount+=1,g.resolve()}updateTargetData(e,t){return this.xn(t),g.resolve()}removeTargetData(e,t){return this.vs.delete(t.target),this.Vs.ds(t.targetId),this.targetCount-=1,g.resolve()}removeTargets(e,t,r){let i=0,s=[];return this.vs.forEach((o,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.vs.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),g.waitFor(s).next(()=>i)}getTargetCount(e){return g.resolve(this.targetCount)}getTargetData(e,t){let r=this.vs.get(t)||null;return g.resolve(r)}addMatchingKeys(e,t,r){return this.Vs.hs(t,r),g.resolve()}removeMatchingKeys(e,t,r){this.Vs.fs(t,r);let i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),g.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Vs.ds(t),g.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Vs.ws(t);return g.resolve(r)}containsKey(e,t){return g.resolve(this.Vs.containsKey(t))}};var Kd=class{constructor(e,t){this.Ds={},this.overlays={},this.Cs=new Et(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new hy(this),this.indexManager=new Q_,this.remoteDocumentCache=function(r){return new uy(r)}(r=>this.referenceDelegate.ks(r)),this.Tt=new jd(t),this.$s=new oy(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ay,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ds[e.toKey()];return r||(r=new cy(t,this.referenceDelegate),this.Ds[e.toKey()]=r),r}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$s}runTransaction(e,t,r){I("MemoryPersistence","Starting transaction:",e);let i=new dy(this.Cs.next());return this.referenceDelegate.Ms(),r(i).next(s=>this.referenceDelegate.Os(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Fs(e,t){return g.or(Object.values(this.Ds).map(r=>()=>r.containsKey(e,t)))}},dy=class extends Nd{constructor(e){super(),this.currentSequenceNumber=e}},ba=class{constructor(e){this.persistence=e,this.Bs=new Nu,this.Ls=null}static qs(e){return new ba(e)}get Us(){if(this.Ls)return this.Ls;throw R()}addReference(e,t,r){return this.Bs.addReference(r,t),this.Us.delete(r.toString()),g.resolve()}removeReference(e,t,r){return this.Bs.removeReference(r,t),this.Us.add(r.toString()),g.resolve()}markPotentiallyOrphaned(e,t){return this.Us.add(t.toString()),g.resolve()}removeTarget(e,t){this.Bs.ds(t.targetId).forEach(i=>this.Us.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Us.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Ms(){this.Ls=new Set}Os(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return g.forEach(this.Us,r=>{let i=S.fromPath(r);return this.Ks(e,i).next(s=>{s||t.removeEntry(i,D.min())})}).next(()=>(this.Ls=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ks(e,t).next(r=>{r?this.Us.delete(t.toString()):this.Us.add(t.toString())})}ks(e){return 0}Ks(e,t){return g.or([()=>g.resolve(this.Bs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Fs(e,t)])}};var fy=class{constructor(e){this.Tt=e}F(e,t,r,i){let s=new fa("createOrUpgrade",t);r<1&&i>=1&&(function(a){a.createObjectStore("owner")}(e),function(a){a.createObjectStore("mutationQueues",{keyPath:"userId"}),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",AC,{unique:!0}),a.createObjectStore("documentMutations")}(e),$C(e),function(a){a.createObjectStore("remoteDocuments")}(e));let o=g.resolve();return r<3&&i>=3&&(r!==0&&(function(a){a.deleteObjectStore("targetDocuments"),a.deleteObjectStore("targets"),a.deleteObjectStore("targetGlobal")}(e),$C(e)),o=o.next(()=>function(a){let c=a.store("targetGlobal"),u={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:D.min().toTimestamp(),targetCount:0};return c.put("targetGlobalKey",u)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(a,c){return c.store("mutations").W().next(u=>{a.deleteObjectStore("mutations"),a.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",AC,{unique:!0});let l=c.store("mutations"),h=u.map(d=>l.put(d));return g.waitFor(h)})}(e,s))),o=o.next(()=>{(function(a){a.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.Gs(s))),r<6&&i>=6&&(o=o.next(()=>(function(a){a.createObjectStore("remoteDocumentGlobal")}(e),this.Qs(s)))),r<7&&i>=7&&(o=o.next(()=>this.js(s))),r<8&&i>=8&&(o=o.next(()=>this.zs(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(a){a.objectStoreNames.contains("remoteDocumentChanges")&&a.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.Ws(s))),r<11&&i>=11&&(o=o.next(()=>{(function(a){a.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(a){a.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(a){let c=a.createObjectStore("documentOverlays",{keyPath:xU});c.createIndex("collectionPathOverlayIndex",DU,{unique:!1}),c.createIndex("collectionGroupOverlayIndex",OU,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(a){let c=a.createObjectStore("remoteDocumentsV14",{keyPath:yU});c.createIndex("documentKeyIndex",vU),c.createIndex("collectionGroupIndex",EU)}(e)).next(()=>this.Hs(e,s)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(o=o.next(()=>this.Js(e,s))),r<15&&i>=15&&(o=o.next(()=>function(a){a.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),a.createObjectStore("indexState",{keyPath:SU}).createIndex("sequenceNumberIndex",CU,{unique:!1}),a.createObjectStore("indexEntries",{keyPath:AU}).createIndex("documentKeyIndex",RU,{unique:!1})}(e))),o}Qs(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=Gd(i)}).next(()=>{let r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Gs(e){let t=e.store("mutationQueues"),r=e.store("mutations");return t.W().next(i=>g.forEach(i,s=>{let o=IDBKeyRange.bound([s.userId,-1],[s.userId,s.lastAcknowledgedBatchId]);return r.W("userMutationsIndex",o).next(a=>g.forEach(a,c=>{O(c.userId===s.userId);let u=Ns(this.Tt,c);return tR(e,s.userId,u).next(()=>{})}))}))}js(e){let t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{let s=[];return r.X((o,a)=>{let c=new H(o),u=function(l){return[0,Rt(l)]}(c);s.push(t.get(u).next(l=>l?g.resolve():(h=>t.put({targetId:0,path:Rt(h),sequenceNumber:i.highestListenSequenceNumber}))(c)))}).next(()=>g.waitFor(s))})}zs(e,t){e.createObjectStore("collectionParents",{keyPath:TU});let r=t.store("collectionParents"),i=new Ou,s=o=>{if(i.add(o)){let a=o.lastSegment(),c=o.popLast();return r.put({collectionId:a,parent:Rt(c)})}};return t.store("remoteDocuments").X({Z:!0},(o,a)=>{let c=new H(o);return s(c.popLast())}).next(()=>t.store("documentMutations").X({Z:!0},([o,a,c],u)=>{let l=Kn(a);return s(l.popLast())}))}Ws(e){let t=e.store("targets");return t.X((r,i)=>{let s=pu(i),o=XA(this.Tt,s);return t.put(o)})}Hs(e,t){let r=t.store("remoteDocuments"),i=[];return r.X((s,o)=>{let a=t.store("remoteDocumentsV14"),c=(u=o,u.document?new S(H.fromString(u.document.name).popFirst(5)):u.noDocument?S.fromSegments(u.noDocument.path):u.unknownDocument?S.fromSegments(u.unknownDocument.path):R()).path.toArray();var u;let l={prefixPath:c.slice(0,c.length-2),collectionGroup:c[c.length-2],documentId:c[c.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(l))}).next(()=>g.waitFor(i))}Js(e,t){let r=t.store("mutations"),i=iR(this.Tt),s=new Kd(ba.qs,this.Tt.oe);return r.W().next(o=>{let a=new Map;return o.forEach(c=>{var u;let l=(u=a.get(c.userId))!==null&&u!==void 0?u:q();Ns(this.Tt,c).keys().forEach(h=>l=l.add(h)),a.set(c.userId,l)}),g.forEach(a,(c,u)=>{let l=new Me(u),h=va.ue(this.Tt,l),d=s.getIndexManager(l),p=Ea.ue(l,this.Tt,d,s.referenceDelegate);return new Hd(i,p,h,d).recalculateAndSaveOverlaysForDocumentKeys(new Au(t,Et.at),c).next()})})}};function $C(n){n.createObjectStore("targetDocuments",{keyPath:IU}).createIndex("documentTargetsIndex",wU,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",bU,{unique:!0}),n.createObjectStore("targetGlobal")}var r_="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",ku=class{constructor(e,t,r,i,s,o,a,c,u,l,h=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ys=s,this.window=o,this.document=a,this.Zs=u,this.Xs=l,this.ti=h,this.Cs=null,this.xs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ei=null,this.inForeground=!1,this.ni=null,this.si=null,this.ii=Number.NEGATIVE_INFINITY,this.ri=d=>Promise.resolve(),!ku.C())throw new b(y.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new ny(this,i),this.oi=t+"main",this.Tt=new jd(c),this.ui=new Xt(this.oi,this.ti,new fy(this.Tt)),this.Ns=new X_(this.referenceDelegate,this.Tt),this.remoteDocumentCache=iR(this.Tt),this.$s=new j_,this.window&&this.window.localStorage?this.ci=this.window.localStorage:(this.ci=null,l===!1&&Re("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new b(y.FAILED_PRECONDITION,r_);return this.hi(),this.li(),this.fi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ns.getHighestSequenceNumber(e))}).then(e=>{this.Cs=new Et(e,this.Zs)}).then(()=>{this.xs=!0}).catch(e=>(this.ui&&this.ui.close(),Promise.reject(e)))}di(e){return this.ri=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.ui.L(async t=>{t.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ys.enqueueAndForget(async()=>{this.started&&await this.ai()}))}ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>Id(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this._i(e).next(t=>{t||(this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)))})}).next(()=>this.wi(e)).next(t=>this.isPrimary&&!t?this.mi(e).next(()=>!1):!!t&&this.gi(e).next(()=>!0))).catch(e=>{if(Ri(e))return I("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return I("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Ys.enqueueRetryable(()=>this.ri(e)),this.isPrimary=e})}_i(e){return du(e).get("owner").next(t=>g.resolve(this.yi(t)))}pi(e){return Id(e).delete(this.clientId)}async Ii(){if(this.isPrimary&&!this.Ti(this.ii,18e5)){this.ii=Date.now();let e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{let r=tt(t,"clientMetadata");return r.W().next(i=>{let s=this.Ei(i,18e5),o=i.filter(a=>s.indexOf(a)===-1);return g.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.ci)for(let t of e)this.ci.removeItem(this.Ai(t.clientId))}}fi(){this.si=this.Ys.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ai().then(()=>this.Ii()).then(()=>this.fi()))}yi(e){return!!e&&e.ownerId===this.clientId}wi(e){return this.Xs?g.resolve(!0):du(e).get("owner").next(t=>{if(t!==null&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)){if(this.yi(t)&&this.networkEnabled)return!0;if(!this.yi(t)){if(!t.allowTabSynchronization)throw new b(y.FAILED_PRECONDITION,r_);return!1}}return!(!this.networkEnabled||!this.inForeground)||Id(e).W().next(r=>this.Ei(r,5e3).find(i=>{if(this.clientId!==i.clientId){let s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(t=>(this.isPrimary!==t&&I("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}async shutdown(){this.xs=!1,this.Pi(),this.si&&(this.si.cancel(),this.si=null),this.vi(),this.bi(),await this.ui.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{let t=new Au(e,Et.at);return this.mi(t).next(()=>this.pi(t))}),this.ui.close(),this.Vi()}Ei(e,t){return e.filter(r=>this.Ti(r.updateTimeMs,t)&&!this.Ri(r.clientId))}Si(){return this.runTransaction("getActiveClients","readonly",e=>Id(e).W().next(t=>this.Ei(t,18e5).map(r=>r.clientId)))}get started(){return this.xs}getMutationQueue(e,t){return Ea.ue(e,this.Tt,t,this.referenceDelegate)}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new J_(e,this.Tt.oe.databaseId)}getDocumentOverlayCache(e){return va.ue(this.Tt,e)}getBundleCache(){return this.$s}runTransaction(e,t,r){I("IndexedDbPersistence","Starting transaction:",e);let i=t==="readonly"?"readonly":"readwrite",s=(o=this.ti)===15?kU:o===14?JA:o===13?QA:o===12?NU:o===11?YA:void R();var o;let a;return this.ui.runTransaction(e,i,s,c=>(a=new Au(c,this.Cs?this.Cs.next():Et.at),t==="readwrite-primary"?this._i(a).next(u=>!!u||this.wi(a)).next(u=>{if(!u)throw Re(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ys.enqueueRetryable(()=>this.ri(!1)),new b(y.FAILED_PRECONDITION,aA);return r(a)}).next(u=>this.gi(a).next(()=>u)):this.Di(a).next(()=>r(a)))).then(c=>(a.raiseOnCommittedEvent(),c))}Di(e){return du(e).get("owner").next(t=>{if(t!==null&&this.Ti(t.leaseTimestampMs,5e3)&&!this.Ri(t.ownerId)&&!this.yi(t)&&!(this.Xs||this.allowTabSynchronization&&t.allowTabSynchronization))throw new b(y.FAILED_PRECONDITION,r_)})}gi(e){let t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return du(e).put("owner",t)}static C(){return Xt.C()}mi(e){let t=du(e);return t.get("owner").next(r=>this.yi(r)?(I("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):g.resolve())}Ti(e,t){let r=Date.now();return!(e<r-t)&&(!(e>r)||(Re(`Detected an update time that is in the future: ${e} > ${r}`),!1))}hi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.ni=()=>{this.Ys.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.ai()))},this.document.addEventListener("visibilitychange",this.ni),this.inForeground=this.document.visibilityState==="visible")}vi(){this.ni&&(this.document.removeEventListener("visibilitychange",this.ni),this.ni=null)}li(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.ei=()=>{this.Pi();let t=/(?:Version|Mobile)\/1[456]/;FT()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.Ys.enterRestrictedMode(!0),this.Ys.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ei))}bi(){this.ei&&(this.window.removeEventListener("pagehide",this.ei),this.ei=null)}Ri(e){var t;try{let r=((t=this.ci)===null||t===void 0?void 0:t.getItem(this.Ai(e)))!==null;return I("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Re("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Pi(){if(this.ci)try{this.ci.setItem(this.Ai(this.clientId),String(Date.now()))}catch(e){Re("Failed to set zombie client id.",e)}}Vi(){if(this.ci)try{this.ci.removeItem(this.Ai(this.clientId))}catch(e){}}Ai(e){return`firestore_zombie_${this.persistenceKey}_${e}`}};function du(n){return tt(n,"owner")}function Id(n){return tt(n,"clientMetadata")}function sv(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}var Pu=class{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Ci=r,this.xi=i}static Ni(e,t){let r=q(),i=q();for(let s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Pu(e,t.fromCache,r,i)}};var Yd=class{constructor(){this.ki=!1}initialize(e,t){this.$i=e,this.indexManager=t,this.ki=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Mi(e,t).next(s=>s||this.Oi(e,t,i,r)).next(s=>s||this.Fi(e,t))}Mi(e,t){if(yC(t))return g.resolve(null);let r=Lt(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Ud(t,null,"F"),r=Lt(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=q(...s);return this.$i.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{let u=this.Bi(t,a);return this.Li(t,u,o,c.readTime)?this.Mi(e,Ud(t,null,"F")):this.qi(e,u,t,c)}))})))}Oi(e,t,r,i){return yC(t)||i.isEqual(D.min())?this.Fi(e,t):this.$i.getDocuments(e,r).next(s=>{let o=this.Bi(t,s);return this.Li(t,o,r,i)?this.Fi(e,t):(o_()<=W.DEBUG&&I("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),M_(t)),this.qi(e,o,t,sA(i,-1)))})}Bi(e,t){let r=new re(IA(e));return t.forEach((i,s)=>{Yu(e,s)&&(r=r.add(s))}),r}Li(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Fi(e,t){return o_()<=W.DEBUG&&I("QueryEngine","Using full collection scan to execute query:",M_(t)),this.$i.getDocumentsMatchingQuery(e,t,xt.min())}qi(e,t,r,i){return this.$i.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}};var py=class{constructor(e,t,r,i){this.persistence=e,this.Ui=t,this.Tt=i,this.Ki=new _e(F),this.Gi=new Zn(s=>js(s),Hu),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.$s=e.getBundleCache(),this.zi(r)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hd(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ki))}};function sR(n,e,t,r){return new py(n,e,t,r)}async function oR(n,e){let t=C(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.zi(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],c=q();for(let u of i){o.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}for(let u of s){a.push(u.batchId);for(let l of u.mutations)c=c.add(l.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Wi:u,removedBatchIds:o,addedBatchIds:a}))})})}function LU(n,e){let t=C(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=t.ji.newChangeBuffer({trackRemovals:!0});return function(o,a,c,u){let l=c.batch,h=l.keys(),d=g.resolve();return h.forEach(p=>{d=d.next(()=>u.getEntry(a,p)).next(m=>{let _=c.docVersions.get(p);O(_!==null),m.version.compareTo(_)<0&&(l.applyToRemoteDocument(m,c),m.isValidDocument()&&(m.setReadTime(c.commitVersion),u.addEntry(m)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(a,l))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=q();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(a=a.add(o.batch.mutations[c].key));return a}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function aR(n){let e=C(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ns.getLastRemoteSnapshotVersion(t))}function UU(n,e){let t=C(n),r=e.snapshotVersion,i=t.Ki;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=t.ji.newChangeBuffer({trackRemovals:!0});i=t.Ki;let a=[];e.targetChanges.forEach((l,h)=>{let d=i.get(h);if(!d)return;a.push(t.Ns.removeMatchingKeys(s,l.removedDocuments,h).next(()=>t.Ns.addMatchingKeys(s,l.addedDocuments,h)));let p=d.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.has(h)?p=p.withResumeToken(De.EMPTY_BYTE_STRING,D.min()).withLastLimboFreeSnapshotVersion(D.min()):l.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(l.resumeToken,r)),i=i.insert(h,p),function(m,_,E){return m.resumeToken.approximateByteSize()===0||_.snapshotVersion.toMicroseconds()-m.snapshotVersion.toMicroseconds()>=3e8?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0}(d,p,l)&&a.push(t.Ns.updateTargetData(s,p))});let c=Bt(),u=q();if(e.documentUpdates.forEach(l=>{e.resolvedLimboDocuments.has(l)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,l))}),a.push(cR(s,o,e.documentUpdates).next(l=>{c=l.Hi,u=l.Ji})),!r.isEqual(D.min())){let l=t.Ns.getLastRemoteSnapshotVersion(s).next(h=>t.Ns.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(l)}return g.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(t.Ki=i,s))}function cR(n,e,t){let r=q(),i=q();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Bt();return t.forEach((a,c)=>{let u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(D.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||c.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):I("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Hi:o,Ji:i}})}function FU(n,e){let t=C(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ia(n,e){let t=C(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ns.getTargetData(r,e).next(s=>s?(i=s,g.resolve(i)):t.Ns.allocateTargetId(r).next(o=>(i=new Qn(e,o,0,r.currentSequenceNumber),t.Ns.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.Ki.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ki=t.Ki.insert(r.targetId,r),t.Gi.set(e,r.targetId)),r})}async function wa(n,e,t){let r=C(n),i=r.Ki.get(e),s=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Ri(o))throw o;I("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ki=r.Ki.remove(e),r.Gi.delete(i.target)}function Qd(n,e,t){let r=C(n),i=D.min(),s=q();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,c,u){let l=C(a),h=l.Gi.get(u);return h!==void 0?g.resolve(l.Ki.get(h)):l.Ns.getTargetData(c,u)}(r,o,Lt(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ns.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.Ui.getDocumentsMatchingQuery(o,e,t?i:D.min(),t?s:q())).next(a=>(hR(r,bA(e),a),{documents:a,Yi:s})))}function uR(n,e){let t=C(n),r=C(t.Ns),i=t.Ki.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",s=>r.ie(s,e).next(o=>o?o.target:null))}function lR(n,e){let t=C(n),r=t.Qi.get(e)||D.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.ji.getAllFromCollectionGroup(i,e,sA(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(hR(t,e,i),i))}function hR(n,e,t){let r=n.Qi.get(e)||D.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.Qi.set(e,r)}async function qU(n,e,t,r){let i=C(n),s=q(),o=Bt();for(let u of t){let l=e.Zi(u.metadata.name);u.document&&(s=s.add(l));let h=e.Xi(u);h.setReadTime(e.tr(u.metadata.readTime)),o=o.insert(l,h)}let a=i.ji.newChangeBuffer({trackRemovals:!0}),c=await Ia(i,function(u){return Lt(Ba(H.fromString(`__bundle__/docs/${u}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>cR(u,a,o).next(l=>(a.apply(u),l)).next(l=>i.Ns.removeMatchingKeysForTargetId(u,c.targetId).next(()=>i.Ns.addMatchingKeys(u,s,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,l.Hi,l.Ji)).next(()=>l.Hi)))}async function VU(n,e,t=q()){let r=await Ia(n,Lt(rv(e.bundledQuery))),i=C(n);return i.persistence.runTransaction("Save named query","readwrite",s=>{let o=xe(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.$s.saveNamedQuery(s,e);let a=r.withResumeToken(De.EMPTY_BYTE_STRING,o);return i.Ki=i.Ki.insert(a.targetId,a),i.Ns.updateTargetData(s,a).next(()=>i.Ns.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.Ns.addMatchingKeys(s,t,r.targetId)).next(()=>i.$s.saveNamedQuery(s,e))})}function GC(n,e){return`firestore_clients_${n}_${e}`}function WC(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function i_(n,e){return`firestore_targets_${n}_${e}`}var Ta=class{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static er(e,t,r){let i=JSON.parse(r),s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new b(i.error.code,i.error.message))),o?new Ta(e,t,i.state,s):(Re("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}nr(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Bs=class{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static er(e,t){let r=JSON.parse(t),i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new b(r.error.code,r.error.message))),s?new Bs(e,r.state,i):(Re("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}nr(){let e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}},Sa=class{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static er(e,t){let r=JSON.parse(t),i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=pf();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=uA(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new Sa(e,s):(Re("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}},Mu=class{constructor(e,t){this.clientId=e,this.onlineState=t}static er(e){let t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new Mu(t.clientId,t.onlineState):(Re("SharedClientState",`Failed to parse online state: ${e}`),null)}},Bu=class{constructor(){this.activeTargetIds=pf()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}},yu=class{constructor(e,t,r,i,s){this.window=e,this.Ys=t,this.persistenceKey=r,this.rr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ur=this.cr.bind(this),this.ar=new _e(F),this.started=!1,this.hr=[];let o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.lr=GC(this.persistenceKey,this.rr),this.dr=function(a){return`firestore_sequence_number_${a}`}(this.persistenceKey),this.ar=this.ar.insert(this.rr,new Bu),this._r=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.wr=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.mr=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.gr=function(a){return`firestore_online_state_${a}`}(this.persistenceKey),this.yr=function(a){return`firestore_bundle_loaded_v2_${a}`}(this.persistenceKey),this.window.addEventListener("storage",this.ur)}static C(e){return!(!e||!e.localStorage)}async start(){let e=await this.syncEngine.Si();for(let r of e){if(r===this.rr)continue;let i=this.getItem(GC(this.persistenceKey,r));if(i){let s=Sa.er(r,i);s&&(this.ar=this.ar.insert(s.clientId,s))}}this.pr();let t=this.storage.getItem(this.gr);if(t){let r=this.Ir(t);r&&this.Tr(r)}for(let r of this.hr)this.cr(r);this.hr=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.dr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Er(this.ar)}isActiveQueryTarget(e){let t=!1;return this.ar.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Ar(e,"pending")}updateMutationState(e,t,r){this.Ar(e,t,r),this.Rr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){let r=this.storage.getItem(i_(this.persistenceKey,e));if(r){let i=Bs.er(e,r);i&&(t=i.state)}}return this.Pr.sr(e),this.pr(),t}removeLocalQueryTarget(e){this.Pr.ir(e),this.pr()}isLocalQueryTarget(e){return this.Pr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(i_(this.persistenceKey,e))}updateQueryState(e,t,r){this.vr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Rr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.br(e)}notifyBundleLoaded(e){this.Vr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ur),this.removeItem(this.lr),this.started=!1)}getItem(e){let t=this.storage.getItem(e);return I("SharedClientState","READ",e,t),t}setItem(e,t){I("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){I("SharedClientState","REMOVE",e),this.storage.removeItem(e)}cr(e){let t=e;if(t.storageArea===this.storage){if(I("SharedClientState","EVENT",t.key,t.newValue),t.key===this.lr)return void Re("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ys.enqueueRetryable(async()=>{if(this.started){if(t.key!==null){if(this._r.test(t.key)){if(t.newValue==null){let r=this.Sr(t.key);return this.Dr(r,null)}{let r=this.Cr(t.key,t.newValue);if(r)return this.Dr(r.clientId,r)}}else if(this.wr.test(t.key)){if(t.newValue!==null){let r=this.Nr(t.key,t.newValue);if(r)return this.kr(r)}}else if(this.mr.test(t.key)){if(t.newValue!==null){let r=this.$r(t.key,t.newValue);if(r)return this.Mr(r)}}else if(t.key===this.gr){if(t.newValue!==null){let r=this.Ir(t.newValue);if(r)return this.Tr(r)}}else if(t.key===this.dr){let r=function(i){let s=Et.at;if(i!=null)try{let o=JSON.parse(i);O(typeof o=="number"),s=o}catch(o){Re("SharedClientState","Failed to read sequence number from WebStorage",o)}return s}(t.newValue);r!==Et.at&&this.sequenceNumberHandler(r)}else if(t.key===this.yr){let r=this.Or(t.newValue);await Promise.all(r.map(i=>this.syncEngine.Fr(i)))}}}else this.hr.push(t)})}}get Pr(){return this.ar.get(this.rr)}pr(){this.setItem(this.lr,this.Pr.nr())}Ar(e,t,r){let i=new Ta(this.currentUser,e,t,r),s=WC(this.persistenceKey,this.currentUser,e);this.setItem(s,i.nr())}Rr(e){let t=WC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}br(e){let t={clientId:this.rr,onlineState:e};this.storage.setItem(this.gr,JSON.stringify(t))}vr(e,t,r){let i=i_(this.persistenceKey,e),s=new Bs(e,t,r);this.setItem(i,s.nr())}Vr(e){let t=JSON.stringify(Array.from(e));this.setItem(this.yr,t)}Sr(e){let t=this._r.exec(e);return t?t[1]:null}Cr(e,t){let r=this.Sr(e);return Sa.er(r,t)}Nr(e,t){let r=this.wr.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return Ta.er(new Me(s),i,t)}$r(e,t){let r=this.mr.exec(e),i=Number(r[1]);return Bs.er(i,t)}Ir(e){return Mu.er(e)}Or(e){return JSON.parse(e)}async kr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Br(e.batchId,e.state,e.error);I("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Mr(e){return this.syncEngine.Lr(e.targetId,e.state,e.error)}Dr(e,t){let r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Er(this.ar),s=this.Er(r),o=[],a=[];return s.forEach(c=>{i.has(c)||o.push(c)}),i.forEach(c=>{s.has(c)||a.push(c)}),this.syncEngine.qr(o,a).then(()=>{this.ar=r})}Tr(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Er(e){let t=pf();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}},Jd=class{constructor(){this.Ur=new Bu,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,t,r){this.Kr[e]=t}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Bu,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var my=class{Gr(e){}shutdown(){}};var Xd=class{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){I("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.Hr)e(0)}Wr(){I("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.Hr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var wd=null;function s_(){return wd===null?wd=268435456+Math.round(2147483648*Math.random()):wd++,"0x"+wd.toString(16)}var jU={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var gy=class{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}};var yt="WebChannelConnection",_y=class extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let t=e.ssl?"https":"http";this.co=t+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,t,r,i,s){let o=s_(),a=this.fo(e,t);I("RestConnection",`Sending RPC '${e}' ${o}:`,a,r);let c={};return this._o(c,i,s),this.wo(e,a,c,r).then(u=>(I("RestConnection",`Received RPC '${e}' ${o}: `,u),u),u=>{throw Ls("RestConnection",`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}mo(e,t,r,i,s,o){return this.lo(e,t,r,i,s)}_o(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Ma,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}fo(e,t){let r=jU[e];return`${this.co}/v1/${t}:${r}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,t,r,i){let s=s_();return new Promise((o,a)=>{let c=new sC;c.setWithCredentials(!0),c.listenOnce(nC.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case yd.NO_ERROR:let l=c.getResponseJson();I(yt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(l)),o(l);break;case yd.TIMEOUT:I(yt,`RPC '${e}' ${s} timed out`),a(new b(y.DEADLINE_EXCEEDED,"Request time out"));break;case yd.HTTP_ERROR:let h=c.getStatus();if(I(yt,`RPC '${e}' ${s} failed with status:`,h,"response text:",c.getResponseText()),h>0){let d=c.getResponseJson();Array.isArray(d)&&(d=d[0]);let p=d==null?void 0:d.error;if(p&&p.status&&p.message){let m=function(_){let E=_.toLowerCase().replace(/_/g,"-");return Object.values(y).indexOf(E)>=0?E:y.UNKNOWN}(p.status);a(new b(m,p.message))}else a(new b(y.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new b(y.UNAVAILABLE,"Connection failed."));break;default:R()}}finally{I(yt,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);I(yt,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",u,r,15)})}yo(e,t,r){let i=s_(),s=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eC(),a=tC(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(c.xmlHttpFactory=new iC({})),this._o(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;let u=s.join("");I(yt,`Creating RPC '${e}' stream ${i}: ${u}`,c);let l=o.createWebChannel(u,c),h=!1,d=!1,p=new gy({Yr:_=>{d?I(yt,`Not sending because RPC '${e}' stream ${i} is closed:`,_):(h||(I(yt,`Opening RPC '${e}' stream ${i} transport.`),l.open(),h=!0),I(yt,`RPC '${e}' stream ${i} sending:`,_),l.send(_))},Zr:()=>l.close()}),m=(_,E,N)=>{_.listen(E,B=>{try{N(B)}catch(A){setTimeout(()=>{throw A},0)}})};return m(l,au.EventType.OPEN,()=>{d||I(yt,`RPC '${e}' stream ${i} transport opened.`)}),m(l,au.EventType.CLOSE,()=>{d||(d=!0,I(yt,`RPC '${e}' stream ${i} transport closed`),p.oo())}),m(l,au.EventType.ERROR,_=>{d||(d=!0,Ls(yt,`RPC '${e}' stream ${i} transport errored:`,_),p.oo(new b(y.UNAVAILABLE,"The operation could not be completed")))}),m(l,au.EventType.MESSAGE,_=>{var E;if(!d){let N=_.data[0];O(!!N);let B=N,A=B.error||((E=B[0])===null||E===void 0?void 0:E.error);if(A){I(yt,`RPC '${e}' stream ${i} received error:`,A);let L=A.status,$=function(Ne){let pt=ke[Ne];if(pt!==void 0)return kA(pt)}(L),K=A.message;$===void 0&&($=y.INTERNAL,K="Unknown error status: "+L+" with message "+A.message),d=!0,p.oo(new b($,K)),l.close()}else I(yt,`RPC '${e}' stream ${i} received:`,N),p.uo(N)}}),m(a,rC.STAT_EVENT,_=>{_.stat===t_.PROXY?I(yt,`RPC '${e}' stream ${i} detected buffering proxy`):_.stat===t_.NOPROXY&&I(yt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.ro()},0),p}};function dR(){return typeof window<"u"?window:null}function Rd(){return typeof document<"u"?document:null}function Qu(n){return new F_(n,!0)}var Lu=class{constructor(e,t,r=1e3,i=1.5,s=6e4){this.Ys=e,this.timerId=t,this.po=r,this.Io=i,this.To=s,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}Po(){this.Eo=this.To}vo(e){this.cancel();let t=Math.floor(this.Eo+this.bo()),r=Math.max(0,Date.now()-this.Ro),i=Math.max(0,t-r);i>0&&I("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Eo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,i,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){this.Ao!==null&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){this.Ao!==null&&(this.Ao.cancel(),this.Ao=null)}bo(){return(Math.random()-.5)*this.Eo}};var Zd=class{constructor(e,t,r,i,s,o,a,c){this.Ys=e,this.So=r,this.Do=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new Lu(e,t)}$o(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Oo()}async stop(){this.$o()&&await this.close(0)}Fo(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&this.xo===null&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}async Lo(){if(this.Mo())return this.close(0)}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}async close(e,t){this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,e!==4?this.ko.reset():t&&t.code===y.RESOURCE_EXHAUSTED?(Re(t.toString()),Re("Using maximum backoff delay to prevent overloading the backend."),this.ko.Po()):t&&t.code===y.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Go(),this.stream.close(),this.stream=null),this.state=e,await this.listener.no(t)}Go(){}auth(){this.state=1;let e=this.Qo(this.Co),t=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Co===t&&this.jo(r,i)},r=>{e(()=>{let i=new b(y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.zo(i)})})}jo(e,t){let r=this.Qo(this.Co);this.stream=this.Wo(e,t),this.stream.Xr(()=>{r(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(i=>{r(()=>this.zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){this.state=5,this.ko.vo(async()=>{this.state=0,this.start()})}zo(e){return I("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return t=>{this.Ys.enqueueAndForget(()=>this.Co===e?t():(I("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},yy=class extends Zd{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.Tt=s}Wo(e,t){return this.connection.yo("Listen",e,t)}onMessage(e){this.ko.reset();let t=uU(this.Tt,e),r=function(i){if(!("targetChange"in i))return D.min();let s=i.targetChange;return s.targetIds&&s.targetIds.length?D.min():s.readTime?xe(s.readTime):D.min()}(e);return this.listener.Ho(t,r)}Jo(e){let t={};t.database=Su(this.Tt),t.addTarget=function(i,s){let o,a=s.target;return o=Bd(a)?{documents:jA(i,a)}:{query:zA(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0?o.resumeToken=LA(i,s.resumeToken):s.snapshotVersion.compareTo(D.min())>0&&(o.readTime=ya(i,s.snapshotVersion.toTimestamp())),o}(this.Tt,e);let r=hU(this.Tt,e);r&&(t.labels=r),this.qo(t)}Yo(e){let t={};t.database=Su(this.Tt),t.removeTarget=e,this.qo(t)}},vy=class extends Zd{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.Tt=s,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,t){return this.connection.yo("Write",e,t)}onMessage(e){if(O(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();let t=lU(e.writeResults,e.commitTime),r=xe(e.commitTime);return this.listener.eu(r,t)}return O(!e.writeResults||e.writeResults.length===0),this.Zo=!0,this.listener.nu()}su(){let e={};e.database=Su(this.Tt),this.qo(e)}tu(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>Cu(this.Tt,r))};this.qo(t)}};var Ey=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.Tt=i,this.iu=!1}ru(){if(this.iu)throw new b(y.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,t,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.lo(e,t,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new b(y.UNKNOWN,i.toString())})}mo(e,t,r,i){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.mo(e,t,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new b(y.UNKNOWN,s.toString())})}terminate(){this.iu=!0}};var by=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){this.ou===0&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){this.state==="Online"?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,e==="Online"&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(Re(t),this.cu=!1):I("OnlineStateTracker",t)}du(){this.uu!==null&&(this.uu.cancel(),this.uu=null)}};var Iy=class{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=s,this.yu.Gr(o=>{r.enqueueAndForget(async()=>{xi(this)&&(I("RemoteStore","Restarting streams for network reachability change."),await async function(a){let c=C(a);c.mu.add(4),await La(c),c.pu.set("Unknown"),c.mu.delete(4),await Ju(c)}(this))})}),this.pu=new by(r,i)}};async function Ju(n){if(xi(n))for(let e of n.gu)await e(!0)}async function La(n){for(let e of n.gu)await e(!1)}function mf(n,e){let t=C(n);t.wu.has(e.targetId)||(t.wu.set(e.targetId,e),cv(t)?av(t):Fa(t).Mo()&&ov(t,e))}function Uu(n,e){let t=C(n),r=Fa(t);t.wu.delete(e),r.Mo()&&fR(t,e),t.wu.size===0&&(r.Mo()?r.Bo():xi(t)&&t.pu.set("Unknown"))}function ov(n,e){n.Iu.Ot(e.targetId),Fa(n).Jo(e)}function fR(n,e){n.Iu.Ot(e),Fa(n).Yo(e)}function av(n){n.Iu=new U_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>n.wu.get(e)||null}),Fa(n).start(),n.pu.au()}function cv(n){return xi(n)&&!Fa(n).$o()&&n.wu.size>0}function xi(n){return C(n).mu.size===0}function pR(n){n.Iu=void 0}async function zU(n){n.wu.forEach((e,t)=>{ov(n,e)})}async function $U(n,e){pR(n),cv(n)?(n.pu.fu(e),av(n)):n.pu.set("Unknown")}async function GU(n,e,t){if(n.pu.set("Online"),e instanceof qd&&e.state===2&&e.cause)try{await async function(r,i){let s=i.cause;for(let o of i.targetIds)r.wu.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.wu.delete(o),r.Iu.removeTarget(o))}(n,e)}catch(r){I("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ef(n,r)}else if(e instanceof la?n.Iu.Qt(e):e instanceof Fd?n.Iu.Zt(e):n.Iu.Wt(e),!t.isEqual(D.min()))try{let r=await aR(n.localStore);t.compareTo(r)>=0&&await function(i,s){let o=i.Iu.ee(s);return o.targetChanges.forEach((a,c)=>{if(a.resumeToken.approximateByteSize()>0){let u=i.wu.get(c);u&&i.wu.set(c,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach(a=>{let c=i.wu.get(a);if(!c)return;i.wu.set(a,c.withResumeToken(De.EMPTY_BYTE_STRING,c.snapshotVersion)),fR(i,a);let u=new Qn(c.target,a,1,c.sequenceNumber);ov(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(n,t)}catch(r){I("RemoteStore","Failed to raise snapshot:",r),await ef(n,r)}}async function ef(n,e,t){if(!Ri(e))throw e;n.mu.add(1),await La(n),n.pu.set("Offline"),t||(t=()=>aR(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{I("RemoteStore","Retrying IndexedDB access"),await t(),n.mu.delete(1),await Ju(n)})}function mR(n,e){return e().catch(t=>ef(n,t,e))}async function Ua(n){let e=C(n),t=Si(e),r=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;WU(e);)try{let i=await FU(e.localStore,r);if(i===null){e._u.length===0&&t.Bo();break}r=i.batchId,HU(e,i)}catch(i){await ef(e,i)}gR(e)&&_R(e)}function WU(n){return xi(n)&&n._u.length<10}function HU(n,e){n._u.push(e);let t=Si(n);t.Mo()&&t.Xo&&t.tu(e.mutations)}function gR(n){return xi(n)&&!Si(n).$o()&&n._u.length>0}function _R(n){Si(n).start()}async function KU(n){Si(n).su()}async function YU(n){let e=Si(n);for(let t of n._u)e.tu(t.mutations)}async function QU(n,e,t){let r=n._u.shift(),i=xu.from(r,e,t);await mR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await Ua(n)}async function JU(n,e){e&&Si(n).Xo&&await async function(t,r){if(i=r.code,NA(i)&&i!==y.ABORTED){let s=t._u.shift();Si(t).Fo(),await mR(t,()=>t.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Ua(t)}var i}(n,e),gR(n)&&_R(n)}async function HC(n,e){let t=C(n);t.asyncQueue.verifyOperationInProgress(),I("RemoteStore","RemoteStore received new credentials");let r=xi(t);t.mu.add(3),await La(t),r&&t.pu.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.mu.delete(3),await Ju(t)}async function wy(n,e){let t=C(n);e?(t.mu.delete(2),await Ju(t)):e||(t.mu.add(2),await La(t),t.pu.set("Unknown"))}function Fa(n){return n.Tu||(n.Tu=function(e,t,r){let i=C(e);return i.ru(),new yy(t,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(n.datastore,n.asyncQueue,{Xr:zU.bind(null,n),no:$U.bind(null,n),Ho:GU.bind(null,n)}),n.gu.push(async e=>{e?(n.Tu.Fo(),cv(n)?av(n):n.pu.set("Unknown")):(await n.Tu.stop(),pR(n))})),n.Tu}function Si(n){return n.Eu||(n.Eu=function(e,t,r){let i=C(e);return i.ru(),new vy(t,i.connection,i.authCredentials,i.appCheckCredentials,i.Tt,r)}(n.datastore,n.asyncQueue,{Xr:KU.bind(null,n),no:JU.bind(null,n),nu:YU.bind(null,n),eu:QU.bind(null,n)}),n.gu.push(async e=>{e?(n.Eu.Fo(),await Ua(n)):(await n.Eu.stop(),n._u.length>0&&(I("RemoteStore",`Stopping write stream with ${n._u.length} pending writes`),n._u=[]))})),n.Eu}var Fu=class{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Be,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,t,r,i,s){let o=Date.now()+r,a=new Fu(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new b(y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function qa(n,e){if(Re("AsyncQueue",`${e}: ${n}`),Ri(n))return new b(y.UNAVAILABLE,`${e}: ${n}`);throw n}var gi=class{constructor(e){this.comparator=e?(t,r)=>e(t,r)||S.comparator(t.key,r.key):(t,r)=>S.comparator(t.key,r.key),this.keyedMap=fu(),this.sortedSet=new _e(this.comparator)}static emptySet(e){return new gi(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof gi)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new gi;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var tf=class{constructor(){this.Au=new _e(S.comparator)}track(e){let t=e.doc.key,r=this.Au.get(t);r?e.type!==0&&r.type===3?this.Au=this.Au.insert(t,e):e.type===3&&r.type!==1?this.Au=this.Au.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Au=this.Au.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Au=this.Au.remove(t):e.type===1&&r.type===2?this.Au=this.Au.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Au=this.Au.insert(t,{type:2,doc:e.doc}):R():this.Au=this.Au.insert(t,e)}Ru(){let e=[];return this.Au.inorderTraversal((t,r)=>{e.push(r)}),e}},Ci=class{constructor(e,t,r,i,s,o,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){let o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new Ci(e,t,gi.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ku(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var Ty=class{constructor(){this.Pu=void 0,this.listeners=[]}},Sy=class{constructor(){this.queries=new Zn(e=>EA(e),Ku),this.onlineState="Unknown",this.vu=new Set}};async function uv(n,e){let t=C(n),r=e.query,i=!1,s=t.queries.get(r);if(s||(i=!0,s=new Ty),i)try{s.Pu=await t.onListen(r)}catch(o){let a=qa(o,`Initialization of query '${M_(e.query)}' failed`);return void e.onError(a)}t.queries.set(r,s),s.listeners.push(e),e.bu(t.onlineState),s.Pu&&e.Vu(s.Pu)&&hv(t)}async function lv(n,e){let t=C(n),r=e.query,i=!1,s=t.queries.get(r);if(s){let o=s.listeners.indexOf(e);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return t.queries.delete(r),t.onUnlisten(r)}function XU(n,e){let t=C(n),r=!1;for(let i of e){let s=i.query,o=t.queries.get(s);if(o){for(let a of o.listeners)a.Vu(i)&&(r=!0);o.Pu=i}}r&&hv(t)}function ZU(n,e,t){let r=C(n),i=r.queries.get(e);if(i)for(let s of i.listeners)s.onError(t);r.queries.delete(e)}function hv(n){n.vu.forEach(e=>{e.next()})}var qu=class{constructor(e,t,r){this.query=e,this.Su=t,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=r||{}}Vu(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new Ci(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Du?this.xu(e)&&(this.Su.next(e),t=!0):this.Nu(e,this.onlineState)&&(this.ku(e),t=!0),this.Cu=e,t}onError(e){this.Su.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),t=!0),t}Nu(e,t){if(!e.fromCache)return!0;let r=t!=="Offline";return(!this.options.$u||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}xu(e){if(e.docChanges.length>0)return!0;let t=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ku(e){e=Ci.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}};var Cy=class{constructor(e,t){this.Mu=e,this.byteLength=t}Ou(){return"metadata"in this.Mu}};var nf=class{constructor(e){this.Tt=e}Zi(e){return Yn(this.Tt,e)}Xi(e){return e.metadata.exists?VA(this.Tt,e.document,!1):ce.newNoDocument(this.Zi(e.metadata.name),this.tr(e.metadata.readTime))}tr(e){return xe(e)}},Ay=class{constructor(e,t,r){this.Fu=e,this.localStore=t,this.Tt=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=yR(e)}Bu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Mu.namedQuery)this.queries.push(e.Mu.namedQuery);else if(e.Mu.documentMetadata){this.documents.push({metadata:e.Mu.documentMetadata}),e.Mu.documentMetadata.exists||++t;let r=H.fromString(e.Mu.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Mu.document&&(this.documents[this.documents.length-1].document=e.Mu.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}Lu(e){let t=new Map,r=new nf(this.Tt);for(let i of e)if(i.metadata.queries){let s=r.Zi(i.metadata.name);for(let o of i.metadata.queries){let a=(t.get(o)||q()).add(s);t.set(o,a)}}return t}async complete(){let e=await qU(this.localStore,new nf(this.Tt),this.documents,this.Fu.id),t=this.Lu(this.documents);for(let r of this.queries)await VU(this.localStore,r,t.get(r.name));return this.progress.taskState="Success",{progress:this.progress,qu:this.collectionGroups,Uu:e}}};function yR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}var rf=class{constructor(e){this.key=e}},sf=class{constructor(e){this.key=e}},of=class{constructor(e,t){this.query=e,this.Ku=t,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=q(),this.mutatedKeys=q(),this.ju=IA(e),this.zu=new gi(this.ju)}get Wu(){return this.Ku}Hu(e,t){let r=t?t.Ju:new tf,i=t?t.zu:this.zu,s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1,c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((l,h)=>{let d=i.get(l),p=Yu(this.query,h)?h:null,m=!!d&&this.mutatedKeys.has(d.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),E=!1;d&&p?d.data.isEqual(p.data)?m!==_&&(r.track({type:3,doc:p}),E=!0):this.Yu(d,p)||(r.track({type:2,doc:p}),E=!0,(c&&this.ju(p,c)>0||u&&this.ju(p,u)<0)&&(a=!0)):!d&&p?(r.track({type:0,doc:p}),E=!0):d&&!p&&(r.track({type:1,doc:d}),E=!0,(c||u)&&(a=!0)),E&&(p?(o=o.add(p),s=_?s.add(l):s.delete(l)):(o=o.delete(l),s=s.delete(l)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let l=this.query.limitType==="F"?o.last():o.first();o=o.delete(l.key),s=s.delete(l.key),r.track({type:1,doc:l})}return{zu:o,Ju:r,Li:a,mutatedKeys:s}}Yu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){let i=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;let s=e.Ju.Ru();s.sort((u,l)=>function(h,d){let p=m=>{switch(m){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return R()}};return p(h)-p(d)}(u.type,l.type)||this.ju(u.doc,l.doc)),this.Zu(r);let o=t?this.Xu():[],a=this.Qu.size===0&&this.current?1:0,c=a!==this.Gu;return this.Gu=a,s.length!==0||c?{snapshot:new Ci(this.query,e.zu,i,s,e.mutatedKeys,a===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}bu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new tf,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(t=>this.Ku=this.Ku.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ku=this.Ku.delete(t)),this.current=e.current)}Xu(){if(!this.current)return[];let e=this.Qu;this.Qu=q(),this.zu.forEach(r=>{this.ec(r.key)&&(this.Qu=this.Qu.add(r.key))});let t=[];return e.forEach(r=>{this.Qu.has(r)||t.push(new sf(r))}),this.Qu.forEach(r=>{e.has(r)||t.push(new rf(r))}),t}nc(e){this.Ku=e.Yi,this.Qu=q();let t=this.Hu(e.documents);return this.applyChanges(t,!0)}sc(){return Ci.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,this.Gu===0,this.hasCachedResults)}},Ry=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},xy=class{constructor(e){this.key=e,this.ic=!1}},Dy=class{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new Zn(a=>EA(a),Ku),this.uc=new Map,this.cc=new Set,this.ac=new _e(S.comparator),this.hc=new Map,this.lc=new Nu,this.fc={},this.dc=new Map,this._c=Or.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return this.wc===!0}};async function eF(n,e){let t=gv(n),r,i,s=t.oc.get(e);if(s)r=s.targetId,t.sharedClientState.addLocalQueryTarget(r),i=s.view.sc();else{let o=await Ia(t.localStore,Lt(e));t.isPrimaryClient&&mf(t.remoteStore,o);let a=t.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await dv(t,e,r,a==="current",o.resumeToken)}return i}async function dv(n,e,t,r,i){n.mc=(h,d,p)=>async function(m,_,E,N){let B=_.view.Hu(E);B.Li&&(B=await Qd(m.localStore,_.query,!1).then(({documents:$})=>_.view.Hu($,B)));let A=N&&N.targetChanges.get(_.targetId),L=_.view.applyChanges(B,m.isPrimaryClient,A);return Oy(m,_.targetId,L.tc),L.snapshot}(n,h,d,p);let s=await Qd(n.localStore,e,!0),o=new of(e,s.Yi),a=o.Hu(s.documents),c=Gs.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),u=o.applyChanges(a,n.isPrimaryClient,c);Oy(n,t,u.tc);let l=new Ry(e,t,o);return n.oc.set(e,l),n.uc.has(t)?n.uc.get(t).push(e):n.uc.set(t,[e]),u.snapshot}async function tF(n,e){let t=C(n),r=t.oc.get(e),i=t.uc.get(r.targetId);if(i.length>1)return t.uc.set(r.targetId,i.filter(s=>!Ku(s,e))),void t.oc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||await wa(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Uu(t.remoteStore,r.targetId),Ca(t,r.targetId)}).catch(Ai)):(Ca(t,r.targetId),await wa(t.localStore,r.targetId,!0))}async function nF(n,e,t){let r=_v(n);try{let i=await function(s,o){let a=C(s),c=ue.now(),u=o.reduce((d,p)=>d.add(p.key),q()),l,h;return a.persistence.runTransaction("Locally write mutations","readwrite",d=>{let p=Bt(),m=q();return a.ji.getEntries(d,u).next(_=>{p=_,p.forEach((E,N)=>{N.isValidDocument()||(m=m.add(E))})}).next(()=>a.localDocuments.getOverlayedDocuments(d,p)).next(_=>{l=_;let E=[];for(let N of o){let B=ZL(N,l.get(N.key).overlayedDocument);B!=null&&E.push(new Tn(N.key,B,yA(B.value.mapValue),he.exists(!0)))}return a.mutationQueue.addMutationBatch(d,c,E,o)}).next(_=>{h=_;let E=_.applyToLocalDocumentSet(l,m);return a.documentOverlayCache.saveOverlays(d,_.batchId,E)})}).then(()=>({batchId:h.batchId,changes:MA(l)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let c=s.fc[s.currentUser.toKey()];c||(c=new _e(F)),c=c.insert(o,a),s.fc[s.currentUser.toKey()]=c}(r,i.batchId,t),await Pr(r,i.changes),await Ua(r.remoteStore)}catch(i){let s=qa(i,"Failed to persist write");t.reject(s)}}async function vR(n,e){let t=C(n);try{let r=await UU(t.localStore,e);e.targetChanges.forEach((i,s)=>{let o=t.hc.get(s);o&&(O(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ic=!0:i.modifiedDocuments.size>0?O(o.ic):i.removedDocuments.size>0&&(O(o.ic),o.ic=!1))}),await Pr(t,r,e)}catch(r){await Ai(r)}}function KC(n,e,t){let r=C(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.oc.forEach((s,o)=>{let a=o.view.bu(e);a.snapshot&&i.push(a.snapshot)}),function(s,o){let a=C(s);a.onlineState=o;let c=!1;a.queries.forEach((u,l)=>{for(let h of l.listeners)h.bu(o)&&(c=!0)}),c&&hv(a)}(r.eventManager,e),i.length&&r.rc.Ho(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function rF(n,e,t){let r=C(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.hc.get(e),s=i&&i.key;if(s){let o=new _e(S.comparator);o=o.insert(s,ce.newNoDocument(s,D.min()));let a=q().add(s),c=new $s(D.min(),new Map,new re(F),o,a);await vR(r,c),r.ac=r.ac.remove(s),r.hc.delete(e),mv(r)}else await wa(r.localStore,e,!1).then(()=>Ca(r,e,t)).catch(Ai)}async function iF(n,e){let t=C(n),r=e.batch.batchId;try{let i=await LU(t.localStore,e);pv(t,r,null),fv(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Pr(t,i)}catch(i){await Ai(i)}}async function sF(n,e,t){let r=C(n);try{let i=await function(s,o){let a=C(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return a.mutationQueue.lookupMutationBatch(c,o).next(l=>(O(l!==null),u=l.keys(),a.mutationQueue.removeMutationBatch(c,l))).next(()=>a.mutationQueue.performConsistencyCheck(c)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>a.localDocuments.getDocuments(c,u))})}(r.localStore,e);pv(r,e,t),fv(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Pr(r,i)}catch(i){await Ai(i)}}async function oF(n,e){let t=C(n);xi(t.remoteStore)||I("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{let r=await function(s){let o=C(s);return o.persistence.runTransaction("Get highest unacknowledged batch id","readonly",a=>o.mutationQueue.getHighestUnacknowledgedBatchId(a))}(t.localStore);if(r===-1)return void e.resolve();let i=t.dc.get(r)||[];i.push(e),t.dc.set(r,i)}catch(r){let i=qa(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function fv(n,e){(n.dc.get(e)||[]).forEach(t=>{t.resolve()}),n.dc.delete(e)}function pv(n,e,t){let r=C(n),i=r.fc[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.fc[r.currentUser.toKey()]=i}}function Ca(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.uc.get(e))n.oc.delete(r),t&&n.rc.gc(r,t);n.uc.delete(e),n.isPrimaryClient&&n.lc.ds(e).forEach(r=>{n.lc.containsKey(r)||ER(n,r)})}function ER(n,e){n.cc.delete(e.path.canonicalString());let t=n.ac.get(e);t!==null&&(Uu(n.remoteStore,t),n.ac=n.ac.remove(e),n.hc.delete(t),mv(n))}function Oy(n,e,t){for(let r of t)r instanceof rf?(n.lc.addReference(r.key,e),aF(n,r)):r instanceof sf?(I("SyncEngine","Document no longer in limbo: "+r.key),n.lc.removeReference(r.key,e),n.lc.containsKey(r.key)||ER(n,r.key)):R()}function aF(n,e){let t=e.key,r=t.path.canonicalString();n.ac.get(t)||n.cc.has(r)||(I("SyncEngine","New document in limbo: "+t),n.cc.add(r),mv(n))}function mv(n){for(;n.cc.size>0&&n.ac.size<n.maxConcurrentLimboResolutions;){let e=n.cc.values().next().value;n.cc.delete(e);let t=new S(H.fromString(e)),r=n._c.next();n.hc.set(r,new xy(t)),n.ac=n.ac.insert(t,r),mf(n.remoteStore,new Qn(Lt(Ba(t.path)),r,2,Et.at))}}async function Pr(n,e,t){let r=C(n),i=[],s=[],o=[];r.oc.isEmpty()||(r.oc.forEach((a,c)=>{o.push(r.mc(c,e,t).then(u=>{if((u||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(c.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);let l=Pu.Ni(c.targetId,u);s.push(l)}}))}),await Promise.all(o),r.rc.Ho(i),await async function(a,c){let u=C(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",l=>g.forEach(c,h=>g.forEach(h.Ci,d=>u.persistence.referenceDelegate.addReference(l,h.targetId,d)).next(()=>g.forEach(h.xi,d=>u.persistence.referenceDelegate.removeReference(l,h.targetId,d)))))}catch(l){if(!Ri(l))throw l;I("LocalStore","Failed to update sequence numbers: "+l)}for(let l of c){let h=l.targetId;if(!l.fromCache){let d=u.Ki.get(h),p=d.snapshotVersion,m=d.withLastLimboFreeSnapshotVersion(p);u.Ki=u.Ki.insert(h,m)}}}(r.localStore,s))}async function cF(n,e){let t=C(n);if(!t.currentUser.isEqual(e)){I("SyncEngine","User change. New user:",e.toKey());let r=await oR(t.localStore,e);t.currentUser=e,function(i,s){i.dc.forEach(o=>{o.forEach(a=>{a.reject(new b(y.CANCELLED,s))})}),i.dc.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Pr(t,r.Wi)}}function uF(n,e){let t=C(n),r=t.hc.get(e);if(r&&r.ic)return q().add(r.key);{let i=q(),s=t.uc.get(e);if(!s)return i;for(let o of s){let a=t.oc.get(o);i=i.unionWith(a.view.Wu)}return i}}async function lF(n,e){let t=C(n),r=await Qd(t.localStore,e.query,!0),i=e.view.nc(r);return t.isPrimaryClient&&Oy(t,e.targetId,i.tc),i}async function hF(n,e){let t=C(n);return lR(t.localStore,e).then(r=>Pr(t,r))}async function dF(n,e,t,r){let i=C(n),s=await function(o,a){let c=C(o),u=C(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",l=>u.An(l,a).next(h=>h?c.localDocuments.getDocuments(l,h):g.resolve(null)))}(i.localStore,e);s!==null?(t==="pending"?await Ua(i.remoteStore):t==="acknowledged"||t==="rejected"?(pv(i,e,r||null),fv(i,e),function(o,a){C(C(o).mutationQueue).Pn(a)}(i.localStore,e)):R(),await Pr(i,s)):I("SyncEngine","Cannot apply mutation batch with id: "+e)}async function fF(n,e){let t=C(n);if(gv(t),_v(t),e===!0&&t.wc!==!0){let r=t.sharedClientState.getAllActiveQueryTargets(),i=await YC(t,r.toArray());t.wc=!0,await wy(t.remoteStore,!0);for(let s of i)mf(t.remoteStore,s)}else if(e===!1&&t.wc!==!1){let r=[],i=Promise.resolve();t.uc.forEach((s,o)=>{t.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Ca(t,o),wa(t.localStore,o,!0))),Uu(t.remoteStore,o)}),await i,await YC(t,r),function(s){let o=C(s);o.hc.forEach((a,c)=>{Uu(o.remoteStore,c)}),o.lc._s(),o.hc=new Map,o.ac=new _e(S.comparator)}(t),t.wc=!1,await wy(t.remoteStore,!1)}}async function YC(n,e,t){let r=C(n),i=[],s=[];for(let o of e){let a,c=r.uc.get(o);if(c&&c.length!==0){a=await Ia(r.localStore,Lt(c[0]));for(let u of c){let l=r.oc.get(u),h=await lF(r,l);h.snapshot&&s.push(h.snapshot)}}else{let u=await uR(r.localStore,o);a=await Ia(r.localStore,u),await dv(r,bR(u),o,!1,a.resumeToken)}i.push(a)}return r.rc.Ho(s),i}function bR(n){return vA(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function pF(n){let e=C(n);return C(C(e.localStore).persistence).Si()}async function mF(n,e,t,r){let i=C(n);if(i.wc)return void I("SyncEngine","Ignoring unexpected query state notification.");let s=i.uc.get(e);if(s&&s.length>0)switch(t){case"current":case"not-current":{let o=await lR(i.localStore,bA(s[0])),a=$s.createSynthesizedRemoteEventForCurrentChange(e,t==="current",De.EMPTY_BYTE_STRING);await Pr(i,o,a);break}case"rejected":await wa(i.localStore,e,!0),Ca(i,e,r);break;default:R()}}async function gF(n,e,t){let r=gv(n);if(r.wc){for(let i of e){if(r.uc.has(i)){I("SyncEngine","Adding an already active target "+i);continue}let s=await uR(r.localStore,i),o=await Ia(r.localStore,s);await dv(r,bR(s),o.targetId,!1,o.resumeToken),mf(r.remoteStore,o)}for(let i of t)r.uc.has(i)&&await wa(r.localStore,i,!1).then(()=>{Uu(r.remoteStore,i),Ca(r,i)}).catch(Ai)}}function gv(n){let e=C(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uF.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=rF.bind(null,e),e.rc.Ho=XU.bind(null,e.eventManager),e.rc.gc=ZU.bind(null,e.eventManager),e}function _v(n){let e=C(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=iF.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sF.bind(null,e),e}function _F(n,e,t){let r=C(n);(async function(i,s,o){try{let a=await s.getMetadata();if(await function(h,d){let p=C(h),m=xe(d.createTime);return p.persistence.runTransaction("hasNewerBundle","readonly",_=>p.$s.getBundleMetadata(_,d.id)).then(_=>!!_&&_.createTime.compareTo(m)>=0)}(i.localStore,a))return await s.close(),o._completeWith(function(h){return{taskState:"Success",documentsLoaded:h.totalDocuments,bytesLoaded:h.totalBytes,totalDocuments:h.totalDocuments,totalBytes:h.totalBytes}}(a)),Promise.resolve(new Set);o._updateProgress(yR(a));let c=new Ay(a,i.localStore,s.Tt),u=await s.yc();for(;u;){let h=await c.Bu(u);h&&o._updateProgress(h),u=await s.yc()}let l=await c.complete();return await Pr(i,l.Uu,void 0),await function(h,d){let p=C(h);return p.persistence.runTransaction("Save bundle","readwrite",m=>p.$s.saveBundleMetadata(m,d))}(i.localStore,a),o._completeWith(l.progress),Promise.resolve(l.qu)}catch(a){return Ls("SyncEngine",`Loading bundle failed with ${a}`),o._failWith(a),Promise.resolve(new Set)}})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}var af=class{constructor(){this.synchronizeTabs=!1}async initialize(e){this.Tt=Qu(e.databaseInfo.databaseId),this.sharedClientState=this.Ic(e),this.persistence=this.Tc(e),await this.persistence.start(),this.localStore=this.Ec(e),this.gcScheduler=this.Ac(e,this.localStore),this.indexBackfillerScheduler=this.Rc(e,this.localStore)}Ac(e,t){return null}Rc(e,t){return null}Ec(e){return sR(this.persistence,new Yd,e.initialUser,this.Tt)}Tc(e){return new Kd(ba.qs,this.Tt)}Ic(e){return new Jd}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},cf=class extends af{constructor(e,t,r){super(),this.Pc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Pc.initialize(this,e),await _v(this.Pc.syncEngine),await Ua(this.Pc.remoteStore),await this.persistence.di(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}Ec(e){return sR(this.persistence,new Yd,e.initialUser,this.Tt)}Ac(e,t){let r=this.persistence.referenceDelegate.garbageCollector;return new ey(r,e.asyncQueue,t)}Rc(e,t){let r=new v_(t,this.persistence);return new y_(e.asyncQueue,r)}Tc(e){let t=sv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?vt.withCacheSize(this.cacheSizeBytes):vt.DEFAULT;return new ku(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,dR(),Rd(),this.Tt,this.sharedClientState,!!this.forceOwnership)}Ic(e){return new Jd}},Ny=class extends cf{constructor(e,t){super(e,t,!1),this.Pc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);let t=this.Pc.syncEngine;this.sharedClientState instanceof yu&&(this.sharedClientState.syncEngine={Br:dF.bind(null,t),Lr:mF.bind(null,t),qr:gF.bind(null,t),Si:pF.bind(null,t),Fr:hF.bind(null,t)},await this.sharedClientState.start()),await this.persistence.di(async r=>{await fF(this.Pc.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Ic(e){let t=dR();if(!yu.C(t))throw new b(y.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");let r=sv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new yu(t,e.asyncQueue,r,e.clientId,e.initialUser)}},Vu=class{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>KC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cF.bind(null,this.syncEngine),await wy(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Sy}createDatastore(e){let t=Qu(e.databaseInfo.databaseId),r=(i=e.databaseInfo,new _y(i));var i;return function(s,o,a,c){return new Ey(s,o,a,c)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,s=a=>KC(this.syncEngine,a,0),o=Xd.C()?new Xd:new my,new Iy(t,r,i,s,o);var t,r,i,s,o}createSyncEngine(e,t){return function(r,i,s,o,a,c,u){let l=new Dy(r,i,s,o,a,c);return u&&(l.wc=!0),l}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){let t=C(e);I("RemoteStore","RemoteStore shutting down."),t.mu.add(5),await La(t),t.yu.shutdown(),t.pu.set("Unknown")}(this.remoteStore)}};function QC(n,e=10240){let t=0;return{async read(){if(t<n.byteLength){let r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}var Aa=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):Re("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}};var ky=class{constructor(e,t){this.Vc=e,this.Tt=t,this.metadata=new Be,this.buffer=new Uint8Array,this.Sc=new TextDecoder("utf-8"),this.Dc().then(r=>{r&&r.Ou()?this.metadata.resolve(r.Mu.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.Mu)}`))},r=>this.metadata.reject(r))}close(){return this.Vc.cancel()}async getMetadata(){return this.metadata.promise}async yc(){return await this.getMetadata(),this.Dc()}async Dc(){let e=await this.Cc();if(e===null)return null;let t=this.Sc.decode(e),r=Number(t);isNaN(r)&&this.xc(`length string (${t}) is not valid number`);let i=await this.Nc(r);return new Cy(JSON.parse(i),e.length+r)}kc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}async Cc(){for(;this.kc()<0&&!await this.$c(););if(this.buffer.length===0)return null;let e=this.kc();e<0&&this.xc("Reached the end of bundle when a length string is expected.");let t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Nc(e){for(;this.buffer.length<e;)await this.$c()&&this.xc("Reached the end of bundle when more is expected.");let t=this.Sc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}xc(e){throw this.Vc.cancel(),new Error(`Invalid bundle format: ${e}`)}async $c(){let e=await this.Vc.read();if(!e.done){let t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}};var Py=class{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new b(y.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");let t=await async function(r,i){let s=C(r),o=Su(s.Tt)+"/documents",a={documents:i.map(h=>Tu(s.Tt,h))},c=await s.mo("BatchGetDocuments",o,a,i.length),u=new Map;c.forEach(h=>{let d=cU(s.Tt,h);u.set(d.key.toString(),d)});let l=[];return i.forEach(h=>{let d=u.get(h.toString());O(!!d),l.push(d)}),l}(this.datastore,e);return t.forEach(r=>this.recordVersion(r)),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new Ti(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;let e=this.readVersions;this.mutations.forEach(t=>{e.delete(t.key.toString())}),e.forEach((t,r)=>{let i=S.fromPath(r);this.mutations.push(new wu(i,this.precondition(i)))}),await async function(t,r){let i=C(t),s=Su(i.Tt)+"/documents",o={writes:r.map(a=>Cu(i.Tt,a))};await i.lo("Commit",s,o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw R();t=D.min()}let r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new b(y.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){let t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(D.min())?he.exists(!1):he.updateTime(t):he.none()}preconditionForUpdate(e){let t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(D.min()))throw new b(y.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return he.updateTime(t)}return he.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}};var My=class{constructor(e,t,r,i,s){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=s,this.Mc=r.maxAttempts,this.ko=new Lu(this.asyncQueue,"transaction_retry")}run(){this.Mc-=1,this.Oc()}Oc(){this.ko.vo(async()=>{let e=new Py(this.datastore),t=this.Fc(e);t&&t.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Bc(i)}))}).catch(r=>{this.Bc(r)})})}Fc(e){try{let t=this.updateFunction(e);return!Wu(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Bc(e){this.Mc>0&&this.Lc(e)?(this.Mc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Oc(),Promise.resolve()))):this.deferred.reject(e)}Lc(e){if(e.name==="FirebaseError"){let t=e.code;return t==="aborted"||t==="failed-precondition"||t==="already-exists"||!NA(t)}return!1}};var By=class{constructor(e,t,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Me.UNAUTHENTICATED,this.clientId=Dd.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{I("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(I("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new b(y.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Be;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=qa(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}};async function IR(n,e){n.asyncQueue.verifyOperationInProgress(),I("FirestoreClient","Initializing OfflineComponentProvider");let t=await n.getConfiguration();await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await oR(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}async function wR(n,e){n.asyncQueue.verifyOperationInProgress();let t=await yv(n);I("FirestoreClient","Initializing OnlineComponentProvider");let r=await n.getConfiguration();await e.initialize(t,r),n.setCredentialChangeListener(i=>HC(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,s)=>HC(e.remoteStore,s)),n.onlineComponents=e}async function yv(n){return n.offlineComponents||(I("FirestoreClient","Using default OfflineComponentProvider"),await IR(n,new af)),n.offlineComponents}async function gf(n){return n.onlineComponents||(I("FirestoreClient","Using default OnlineComponentProvider"),await wR(n,new Vu)),n.onlineComponents}function TR(n){return yv(n).then(e=>e.persistence)}function vv(n){return yv(n).then(e=>e.localStore)}function SR(n){return gf(n).then(e=>e.remoteStore)}function Ev(n){return gf(n).then(e=>e.syncEngine)}function yF(n){return gf(n).then(e=>e.datastore)}async function Ra(n){let e=await gf(n),t=e.eventManager;return t.onListen=eF.bind(null,e.syncEngine),t.onUnlisten=tF.bind(null,e.syncEngine),t}function vF(n){return n.asyncQueue.enqueue(async()=>{let e=await TR(n),t=await SR(n);return e.setNetworkEnabled(!0),function(r){let i=C(r);return i.mu.delete(0),Ju(i)}(t)})}function EF(n){return n.asyncQueue.enqueue(async()=>{let e=await TR(n),t=await SR(n);return e.setNetworkEnabled(!1),async function(r){let i=C(r);i.mu.add(0),await La(i),i.pu.set("Offline")}(t)})}function bF(n,e){let t=new Be;return n.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{let o=await function(a,c){let u=C(a);return u.persistence.runTransaction("read document","readonly",l=>u.localDocuments.getDocument(l,c))}(r,i);o.isFoundDocument()?s.resolve(o):o.isNoDocument()?s.resolve(null):s.reject(new b(y.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(o){let a=qa(o,`Failed to get document '${i} from cache`);s.reject(a)}}(await vv(n),e,t)),t.promise}function CR(n,e,t={}){let r=new Be;return n.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,c){let u=new Aa({next:h=>{s.enqueueAndForget(()=>lv(i,l));let d=h.docs.has(o);!d&&h.fromCache?c.reject(new b(y.UNAVAILABLE,"Failed to get document because the client is offline.")):d&&h.fromCache&&a&&a.source==="server"?c.reject(new b(y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(h)},error:h=>c.reject(h)}),l=new qu(Ba(o.path),u,{includeMetadataChanges:!0,$u:!0});return uv(i,l)}(await Ra(n),n.asyncQueue,e,t,r)),r.promise}function IF(n,e){let t=new Be;return n.asyncQueue.enqueueAndForget(async()=>async function(r,i,s){try{let o=await Qd(r,i,!0),a=new of(i,o.Yi),c=a.Hu(o.documents),u=a.applyChanges(c,!1);s.resolve(u.snapshot)}catch(o){let a=qa(o,`Failed to execute query '${i} against cache`);s.reject(a)}}(await vv(n),e,t)),t.promise}function AR(n,e,t={}){let r=new Be;return n.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,c){let u=new Aa({next:h=>{s.enqueueAndForget(()=>lv(i,l)),h.fromCache&&a.source==="server"?c.reject(new b(y.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(h)},error:h=>c.reject(h)}),l=new qu(o,u,{includeMetadataChanges:!0,$u:!0});return uv(i,l)}(await Ra(n),n.asyncQueue,e,t,r)),r.promise}function wF(n,e){let t=new Aa(e);return n.asyncQueue.enqueueAndForget(async()=>function(r,i){C(r).vu.add(i),i.next()}(await Ra(n),t)),()=>{t.bc(),n.asyncQueue.enqueueAndForget(async()=>function(r,i){C(r).vu.delete(i)}(await Ra(n),t))}}function TF(n,e,t,r){let i=function(s,o){let a;return a=typeof s=="string"?new TextEncoder().encode(s):s,function(c,u){return new ky(c,u)}(function(c,u){if(c instanceof Uint8Array)return QC(c,u);if(c instanceof ArrayBuffer)return QC(new Uint8Array(c),u);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(a),o)}(t,Qu(e));n.asyncQueue.enqueueAndForget(async()=>{_F(await Ev(n),i,r)})}function SF(n,e){return n.asyncQueue.enqueue(async()=>function(t,r){let i=C(t);return i.persistence.runTransaction("Get named query","readonly",s=>i.$s.getNamedQuery(s,r))}(await vv(n),e))}var JC=new Map;function bv(n,e,t){if(!t)throw new b(y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Iv(n,e,t,r){if(e===!0&&r===!0)throw new b(y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function XC(n){if(!S.isDocumentKey(n))throw new b(y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function ZC(n){if(S.isDocumentKey(n))throw new b(y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function _f(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(t){return t.constructor?t.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":R()}function X(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new b(y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=_f(n);throw new b(y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function RR(n,e){if(e<=0)throw new b(y.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}var uf=class{constructor(e){var t;if(e.host===void 0){if(e.ssl!==void 0)throw new b(y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new b(y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Iv("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}};var Ks=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new uf({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new b(y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new b(y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new uf(e),e.credentials!==void 0&&(this._authCredentials=function(t){if(!t)return new a_;switch(t.type){case"gapi":let r=t.client;return new h_(r,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new b(y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){let t=JC.get(e);t&&(I("ComponentProvider","Removing Datastore"),JC.delete(e),t.terminate())}(this),Promise.resolve()}};function xR(n,e,t,r={}){var i;let s=(n=X(n,Ks))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==e&&Ls("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},s),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Me.MOCK_USER;else{o=UT(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let c=r.mockUserToken.sub||r.mockUserToken.user_id;if(!c)throw new b(y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Me(c)}n._authCredentials=new c_(new xd(o,a))}}var oe=class{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new hn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new oe(this.firestore,e,this._key)}},Ge=class{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ge(this.firestore,e,this._query)}},hn=class extends Ge{constructor(e,t,r){super(e,t,Ba(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new oe(this.firestore,null,new S(e))}withConverter(e){return new hn(this.firestore,e,this._path)}};function wv(n,e,...t){if(n=je(n),bv("collection","path",e),n instanceof Ks){let r=H.fromString(e,...t);return ZC(r),new hn(n,null,r)}{if(!(n instanceof oe||n instanceof hn))throw new b(y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(H.fromString(e,...t));return ZC(r),new hn(n.firestore,null,r)}}function DR(n,e){if(n=X(n,Ks),bv("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new b(y.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Ge(n,null,function(t){return new wn(H.emptyPath(),t)}(e))}function Xu(n,e,...t){if(n=je(n),arguments.length===1&&(e=Dd.R()),bv("doc","path",e),n instanceof Ks){let r=H.fromString(e,...t);return XC(r),new oe(n,null,new S(r))}{if(!(n instanceof oe||n instanceof hn))throw new b(y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(H.fromString(e,...t));return XC(r),new oe(n.firestore,n instanceof hn?n.converter:null,new S(r))}}function Tv(n,e){return n=je(n),e=je(e),(n instanceof oe||n instanceof hn)&&(e instanceof oe||e instanceof hn)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function Sv(n,e){return n=je(n),e=je(e),n instanceof Ge&&e instanceof Ge&&n.firestore===e.firestore&&Ku(n._query,e._query)&&n.converter===e.converter}var Ly=class{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new Lu(this,"async_queue_retry"),this.Hc=()=>{let t=Rd();t&&I("AsyncQueue","Visibility state changed to "+t.visibilityState),this.ko.Vo()};let e=Rd();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;let t=Rd();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});let t=new Be;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}async Zc(){if(this.Uc.length!==0){try{await this.Uc[0](),this.Uc.shift(),this.ko.reset()}catch(e){if(!Ri(e))throw e;I("AsyncQueue","Operation failed with retryable error: "+e)}this.Uc.length>0&&this.ko.vo(()=>this.Zc())}}Yc(e){let t=this.qc.then(()=>(this.jc=!0,e().catch(r=>{this.Qc=r,this.jc=!1;let i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw Re("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.jc=!1,r))));return this.qc=t,t}enqueueAfterDelay(e,t,r){this.Jc(),this.Wc.indexOf(e)>-1&&(t=0);let i=Fu.createAndSchedule(this,e,t,r,s=>this.Xc(s));return this.Gc.push(i),i}Jc(){this.Qc&&R()}verifyOperationInProgress(){}async ta(){let e;do e=this.qc,await e;while(e!==this.qc)}ea(e){for(let t of this.Gc)if(t.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Gc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){let t=this.Gc.indexOf(e);this.Gc.splice(t,1)}};function Uy(n){return function(e,t){if(typeof e!="object"||e===null)return!1;let r=e;for(let i of t)if(i in r&&typeof r[i]=="function")return!0;return!1}(n,["next","error","complete"])}var Fy=class{constructor(){this._progressObserver={},this._taskCompletionResolver=new Be,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}};var OR=-1,ye=class extends Ks{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Ly,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||NR(this),this._firestoreClient.terminate()}};function We(n){return n._firestoreClient||NR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function NR(n){var e;let t=n._freezeSettings(),r=function(i,s,o,a){return new E_(i,s,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,t);n._firestoreClient=new By(n._authCredentials,n._appCheckCredentials,n._queue,r)}function kR(n,e){jR(n=X(n,ye));let t=We(n),r=n._freezeSettings(),i=new Vu;return MR(t,i,new cf(i,r.cacheSizeBytes,e==null?void 0:e.forceOwnership))}function PR(n){jR(n=X(n,ye));let e=We(n),t=n._freezeSettings(),r=new Vu;return MR(e,r,new Ny(r,t.cacheSizeBytes))}function MR(n,e,t){let r=new Be;return n.asyncQueue.enqueue(async()=>{try{await IR(n,t),await wR(n,e),r.resolve()}catch(i){let s=i;if(!function(o){return o.name==="FirebaseError"?o.code===y.FAILED_PRECONDITION||o.code===y.UNIMPLEMENTED:typeof DOMException<"u"&&o instanceof DOMException?o.code===22||o.code===20||o.code===11:!0}(s))throw s;Ls("Error enabling offline persistence. Falling back to persistence disabled: "+s),r.reject(s)}}).then(()=>r.promise)}function BR(n){if(n._initialized&&!n._terminated)throw new b(y.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");let e=new Be;return n._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(t){if(!Xt.C())return Promise.resolve();let r=t+"main";await Xt.delete(r)}(sv(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}}),e.promise}function LR(n){return function(e){let t=new Be;return e.asyncQueue.enqueueAndForget(async()=>oF(await Ev(e),t)),t.promise}(We(n=X(n,ye)))}function UR(n){return vF(We(n=X(n,ye)))}function FR(n){return EF(We(n=X(n,ye)))}function qR(n,e){let t=We(n=X(n,ye)),r=new Fy;return TF(t,n._databaseId,e,r),r}function VR(n,e){return SF(We(n=X(n,ye)),e).then(t=>t?new Ge(n,null,t.query):null)}function jR(n){if(n._initialized||n._terminated)throw new b(y.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var Zt=class{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Zt(De.fromBase64String(e))}catch(t){throw new b(y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Zt(De.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Sn=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new b(y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Nr=class{constructor(e){this._methodName=e}};var Ys=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new b(y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new b(y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return F(this._lat,e._lat)||F(this._long,e._long)}};var CF=/^__.*__$/,qy=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Tn(e,this.data,this.fieldMask,t,this.fieldTransforms):new wi(e,this.data,t,this.fieldTransforms)}},lf=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new Tn(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function zR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw R()}}var xa=class{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.Tt=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ia(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new xa(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.oa({path:r,ca:!1});return i.aa(e),i}ha(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.oa({path:r,ca:!1});return i.ia(),i}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return hf(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(e.length===0)throw this.fa("Document fields must not be empty");if(zR(this.ra)&&CF.test(e))throw this.fa('Document fields cannot begin and end with "__"')}},Vy=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.Tt=r||Qu(e)}wa(e,t,r,i=!1){return new xa({ra:e,methodName:t,_a:r,path:ge.emptyPath(),ca:!1,da:i},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}};function eo(n){let e=n._freezeSettings(),t=Qu(n._databaseId);return new Vy(n._databaseId,!!e.ignoreUndefinedProperties,t)}function yf(n,e,t,r,i,s={}){let o=n.wa(s.merge||s.mergeFields?2:0,e,t,i);Rv("Data must be an object, but it was:",o,r);let a=WR(r,o),c,u;if(s.merge)c=new bt(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let l=[];for(let h of s.mergeFields){let d=Gy(e,h,t);if(!o.contains(d))throw new b(y.INVALID_ARGUMENT,`Field '${d}' is specified in your field mask but missing from your input data.`);KR(l,d)||l.push(d)}c=new bt(l),u=o.fieldTransforms.filter(h=>c.covers(h.field))}else c=null,u=o.fieldTransforms;return new qy(new $e(a),c,u)}var Qs=class extends Nr{_toFieldTransform(e){if(e.ra!==2)throw e.ra===1?e.fa(`${this._methodName}() can only appear at the top level of your update data`):e.fa(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Qs}};function $R(n,e,t){return new xa({ra:3,_a:e.settings._a,methodName:n._methodName,ca:t},e.databaseId,e.Tt,e.ignoreUndefinedProperties)}var ju=class extends Nr{_toFieldTransform(e){return new zs(e.path,new bi)}isEqual(e){return e instanceof ju}},jy=class extends Nr{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){let t=$R(this,e,!0),r=this.ma.map(s=>to(s,t)),i=new xr(r);return new zs(e.path,i)}isEqual(e){return this===e}},zy=class extends Nr{constructor(e,t){super(e),this.ma=t}_toFieldTransform(e){let t=$R(this,e,!0),r=this.ma.map(s=>to(s,t)),i=new Dr(r);return new zs(e.path,i)}isEqual(e){return this===e}},$y=class extends Nr{constructor(e,t){super(e),this.ga=t}_toFieldTransform(e){let t=new Ii(e.Tt,SA(e.Tt,this.ga));return new zs(e.path,t)}isEqual(e){return this===e}};function Cv(n,e,t,r){let i=n.wa(1,e,t);Rv("Data must be an object, but it was:",i,r);let s=[],o=$e.empty();Zs(r,(c,u)=>{let l=xv(e,c,t);u=je(u);let h=i.ha(l);if(u instanceof Qs)s.push(l);else{let d=to(u,h);d!=null&&(s.push(l),o.set(l,d))}});let a=new bt(s);return new lf(o,a,i.fieldTransforms)}function Av(n,e,t,r,i,s){let o=n.wa(1,e,t),a=[Gy(e,r,t)],c=[i];if(s.length%2!=0)throw new b(y.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(Gy(e,s[d])),c.push(s[d+1]);let u=[],l=$e.empty();for(let d=a.length-1;d>=0;--d)if(!KR(u,a[d])){let p=a[d],m=c[d];m=je(m);let _=o.ha(p);if(m instanceof Qs)u.push(p);else{let E=to(m,_);E!=null&&(u.push(p),l.set(p,E))}}let h=new bt(u);return new lf(l,h,o.fieldTransforms)}function GR(n,e,t,r=!1){return to(t,n.wa(r?4:3,e))}function to(n,e){if(HR(n=je(n)))return Rv("Unsupported field value:",e,n),WR(n,e);if(n instanceof Nr)return function(t,r){if(!zR(r.ra))throw r.fa(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.fa(`${t._methodName}() is not currently supported inside arrays`);let i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ca&&e.ra!==4)throw e.fa("Nested arrays are not supported");return function(t,r){let i=[],s=0;for(let o of t){let a=to(o,r.la(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if((t=je(t))===null)return{nullValue:"NULL_VALUE"};if(typeof t=="number")return SA(r.Tt,t);if(typeof t=="boolean")return{booleanValue:t};if(typeof t=="string")return{stringValue:t};if(t instanceof Date){let i=ue.fromDate(t);return{timestampValue:ya(r.Tt,i)}}if(t instanceof ue){let i=new ue(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:ya(r.Tt,i)}}if(t instanceof Ys)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Zt)return{bytesValue:LA(r.Tt,t._byteString)};if(t instanceof oe){let i=r.databaseId,s=t.firestore._databaseId;if(!s.isEqual(i))throw r.fa(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:nv(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.fa(`Unsupported field value: ${_f(t)}`)}(n,e)}function WR(n,e){let t={};return cA(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zs(n,(r,i)=>{let s=to(i,e.ua(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function HR(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ue||n instanceof Ys||n instanceof Zt||n instanceof oe||n instanceof Nr)}function Rv(n,e,t){if(!HR(t)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(t)){let r=_f(t);throw r==="an object"?e.fa(n+" a custom object"):e.fa(n+" "+r)}}function Gy(n,e,t){if((e=je(e))instanceof Sn)return e._internalPath;if(typeof e=="string")return xv(n,e);throw hf("Field path arguments must be of type string or ",n,!1,void 0,t)}var AF=new RegExp("[~\\*/\\[\\]]");function xv(n,e,t){if(e.search(AF)>=0)throw hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Sn(...e.split("."))._internalPath}catch(r){throw hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function hf(n,e,t,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new b(y.INVALID_ARGUMENT,a+n+c)}function KR(n,e){return n.some(t=>t.isEqual(e))}var Js=class{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new Wy(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(vf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},Wy=class extends Js{data(){return super.data()}};function vf(n,e){return typeof e=="string"?xv(n,e):e instanceof Sn?e._internalPath:e._delegate._internalPath}function YR(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new b(y.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var zu=class{},Xs=class extends zu{};function Mr(n,e,...t){let r=[];e instanceof zu&&r.push(e),r=r.concat(t),function(i){let s=i.filter(a=>a instanceof $u).length,o=i.filter(a=>a instanceof Da).length;if(s>1||s>0&&o>0)throw new b(y.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Da=class extends Xs{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new Da(e,t,r)}_apply(e){let t=this._parse(e);return sx(e._query,t),new Ge(e.firestore,e.converter,P_(e._query,t))}_parse(e){let t=eo(e.firestore);return function(i,s,o,a,c,u,l){let h;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new b(y.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){tA(l,u);let d=[];for(let p of l)d.push(eA(a,i,p));h={arrayValue:{values:d}}}else h=eA(a,i,l)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||tA(l,u),h=GR(o,s,l,u==="in"||u==="not-in");return G.create(c,u,h)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function QR(n,e,t){let r=e,i=vf("where",n);return Da._create(i,r,t)}var $u=class extends zu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new $u(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:te.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(r,i){let s=r,o=i.getFlattenedFilters();for(let a of o)sx(s,a),s=P_(s,a)}(e._query,t),new Ge(e.firestore,e.converter,P_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var Gu=class extends Xs{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Gu(e,t)}_apply(e){let t=function(r,i,s){if(r.startAt!==null)throw new b(y.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new b(y.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");let o=new mi(i,s);return function(a,c){if(ev(a)===null){let u=ff(a);u!==null&&ox(a,u,c.field)}}(r,o),o}(e._query,this._field,this._direction);return new Ge(e.firestore,e.converter,function(r,i){let s=r.explicitOrderBy.concat([i]);return new wn(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}};function JR(n,e="asc"){let t=e,r=vf("orderBy",n);return Gu._create(r,t)}var Oa=class extends Xs{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new Oa(e,t,r)}_apply(e){return new Ge(e.firestore,e.converter,Ud(e._query,this._limit,this._limitType))}};function XR(n){return RR("limit",n),Oa._create("limit",n,"F")}function ZR(n){return RR("limitToLast",n),Oa._create("limitToLast",n,"L")}var Na=class extends Xs{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new Na(e,t,r)}_apply(e){let t=ix(e,this.type,this._docOrFields,this._inclusive);return new Ge(e.firestore,e.converter,function(r,i){return new wn(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)}(e._query,t))}};function ex(...n){return Na._create("startAt",n,!0)}function tx(...n){return Na._create("startAfter",n,!1)}var ka=class extends Xs{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new ka(e,t,r)}_apply(e){let t=ix(e,this.type,this._docOrFields,this._inclusive);return new Ge(e.firestore,e.converter,function(r,i){return new wn(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)}(e._query,t))}};function nx(...n){return ka._create("endBefore",n,!1)}function rx(...n){return ka._create("endAt",n,!0)}function ix(n,e,t,r){if(t[0]=je(t[0]),t[0]instanceof Js)return function(i,s,o,a,c){if(!a)throw new b(y.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);let u=[];for(let l of Ms(i))if(l.field.isKeyField())u.push(Vs(s,a.key));else{let h=a.data.field(l.field);if(Xy(h))throw new b(y.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+l.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){let d=l.field.canonicalString();throw new b(y.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${d}' (used as the orderBy) does not exist.`)}u.push(h)}return new Xn(u,c)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{let i=eo(n.firestore);return function(s,o,a,c,u,l){let h=s.explicitOrderBy;if(u.length>h.length)throw new b(y.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);let d=[];for(let p=0;p<u.length;p++){let m=u[p];if(h[p].field.isKeyField()){if(typeof m!="string")throw new b(y.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof m}`);if(!tv(s)&&m.indexOf("/")!==-1)throw new b(y.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${m}' contains a slash.`);let _=s.path.child(H.fromString(m));if(!S.isDocumentKey(_))throw new b(y.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${_}' is not because it contains an odd number of segments.`);let E=new S(_);d.push(Vs(o,E))}else{let _=GR(a,c,m);d.push(_)}}return new Xn(d,l)}(n._query,n.firestore._databaseId,i,e,t,r)}}function eA(n,e,t){if(typeof(t=je(t))=="string"){if(t==="")throw new b(y.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!tv(e)&&t.indexOf("/")!==-1)throw new b(y.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(H.fromString(t));if(!S.isDocumentKey(r))throw new b(y.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Vs(n,new S(r))}if(t instanceof oe)return Vs(n,t._key);throw new b(y.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_f(t)}.`)}function tA(n,e){if(!Array.isArray(n)||n.length===0)throw new b(y.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function sx(n,e){if(e.isInequality()){let r=ff(n),i=e.field;if(r!==null&&!r.isEqual(i))throw new b(y.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);let s=ev(n);s!==null&&ox(n,i,s)}let t=function(r,i){for(let s of r)for(let o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new b(y.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new b(y.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function ox(n,e,t){if(!t.isEqual(e))throw new b(y.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}var Pa=class{convertValue(e,t="none"){switch(qs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ce(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw R()}}convertObject(e,t){let r={};return Zs(e.fields,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertGeoPoint(e){return new Ys(Ce(e.latitude),Ce(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=hA(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Eu(e));default:return null}}convertTimestamp(e){let t=vi(e);return new ue(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=H.fromString(e);O(HA(r));let i=new In(r.get(1),r.get(3)),s=new S(r.popFirst(5));return i.isEqual(t)||Re(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}};function Ef(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Hy=class extends Pa{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zt(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new oe(this.firestore,null,t)}};var Rr=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},dn=class extends Js{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new _i(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(vf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},_i=class extends dn{data(e={}){return super.data(e)}},Cn=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Rr(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new _i(this._firestore,this._userDataWriter,r.key,r,new Rr(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new b(y.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{let a=new _i(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Rr(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{let a=new _i(r._firestore,r._userDataWriter,o.doc.key,o.doc,new Rr(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter),c=-1,u=-1;return o.type!==0&&(c=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:RF(o.type),doc:a,oldIndex:c,newIndex:u}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function RF(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return R()}}function Dv(n,e){return n instanceof dn&&e instanceof dn?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(n._document===null?e._document===null:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof Cn&&e instanceof Cn&&n._firestore===e._firestore&&Sv(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}function ax(n){n=X(n,oe);let e=X(n.firestore,ye);return CR(We(e),n._key).then(t=>Pv(e,n,t))}var kr=class extends Pa{constructor(e){super(),this.firestore=e}convertBytes(e){return new Zt(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new oe(this.firestore,null,t)}};function cx(n){n=X(n,oe);let e=X(n.firestore,ye),t=We(e),r=new kr(e);return bF(t,n._key).then(i=>new dn(e,r,n._key,i,new Rr(i!==null&&i.hasLocalMutations,!0),n.converter))}function ux(n){n=X(n,oe);let e=X(n.firestore,ye);return CR(We(e),n._key,{source:"server"}).then(t=>Pv(e,n,t))}function lx(n){n=X(n,Ge);let e=X(n.firestore,ye),t=We(e),r=new kr(e);return YR(n._query),AR(t,n._query).then(i=>new Cn(e,r,n,i))}function hx(n){n=X(n,Ge);let e=X(n.firestore,ye),t=We(e),r=new kr(e);return IF(t,n._query).then(i=>new Cn(e,r,n,i))}function dx(n){n=X(n,Ge);let e=X(n.firestore,ye),t=We(e),r=new kr(e);return AR(t,n._query,{source:"server"}).then(i=>new Cn(e,r,n,i))}function Ov(n,e,t){n=X(n,oe);let r=X(n.firestore,ye),i=Ef(n.converter,e,t);return Va(r,[yf(eo(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,he.none())])}function Nv(n,e,t,...r){n=X(n,oe);let i=X(n.firestore,ye),s=eo(i),o;return o=typeof(e=je(e))=="string"||e instanceof Sn?Av(s,"updateDoc",n._key,e,t,r):Cv(s,"updateDoc",n._key,e),Va(i,[o.toMutation(n._key,he.exists(!0))])}function fx(n){return Va(X(n.firestore,ye),[new Ti(n._key,he.none())])}function px(n,e){let t=X(n.firestore,ye),r=Xu(n),i=Ef(n.converter,e);return Va(t,[yf(eo(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,he.exists(!1))]).then(()=>r)}function kv(n,...e){var t,r,i;n=je(n);let s={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||Uy(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges};if(Uy(e[o])){let h=e[o];e[o]=(t=h.next)===null||t===void 0?void 0:t.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let c,u,l;if(n instanceof oe)u=X(n.firestore,ye),l=Ba(n._key.path),c={next:h=>{e[o]&&e[o](Pv(u,n,h))},error:e[o+1],complete:e[o+2]};else{let h=X(n,Ge);u=X(h.firestore,ye),l=h._query;let d=new kr(u);c={next:p=>{e[o]&&e[o](new Cn(u,d,h,p))},error:e[o+1],complete:e[o+2]},YR(n._query)}return function(h,d,p,m){let _=new Aa(m),E=new qu(d,_,p);return h.asyncQueue.enqueueAndForget(async()=>uv(await Ra(h),E)),()=>{_.bc(),h.asyncQueue.enqueueAndForget(async()=>lv(await Ra(h),E))}}(We(u),l,a,c)}function mx(n,e){return wF(We(n=X(n,ye)),Uy(e)?e:{next:e})}function Va(n,e){return function(t,r){let i=new Be;return t.asyncQueue.enqueueAndForget(async()=>nF(await Ev(t),r,i)),i.promise}(We(n),e)}function Pv(n,e,t){let r=t.docs.get(e._key),i=new kr(n);return new dn(n,i,e._key,r,new Rr(t.hasPendingWrites,t.fromCache),e.converter)}var xF={maxAttempts:5};var df=class{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=eo(e)}set(e,t,r){this._verifyNotCommitted();let i=fi(e,this._firestore),s=Ef(i.converter,t,r),o=yf(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,he.none())),this}update(e,t,r,...i){this._verifyNotCommitted();let s=fi(e,this._firestore),o;return o=typeof(t=je(t))=="string"||t instanceof Sn?Av(this._dataReader,"WriteBatch.update",s._key,t,r,i):Cv(this._dataReader,"WriteBatch.update",s._key,t),this._mutations.push(o.toMutation(s._key,he.exists(!0))),this}delete(e){this._verifyNotCommitted();let t=fi(e,this._firestore);return this._mutations=this._mutations.concat(new Ti(t._key,he.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new b(y.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function fi(n,e){if((n=je(n)).firestore!==e)throw new b(y.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}var Ky=class extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=eo(e)}get(e){let t=fi(e,this._firestore),r=new Hy(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||i.length!==1)return R();let s=i[0];if(s.isFoundDocument())return new Js(this._firestore,r,s.key,s,t.converter);if(s.isNoDocument())return new Js(this._firestore,r,t._key,null,t.converter);throw R()})}set(e,t,r){let i=fi(e,this._firestore),s=Ef(i.converter,t,r),o=yf(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,t,r,...i){let s=fi(e,this._firestore),o;return o=typeof(t=je(t))=="string"||t instanceof Sn?Av(this._dataReader,"Transaction.update",s._key,t,r,i):Cv(this._dataReader,"Transaction.update",s._key,t),this._transaction.update(s._key,o),this}delete(e){let t=fi(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){let t=fi(e,this._firestore),r=new kr(this._firestore);return super.get(e).then(i=>new dn(this._firestore,r,t._key,i._document,new Rr(!1,!1),t.converter))}};function gx(n,e,t){n=X(n,ye);let r=Object.assign(Object.assign({},xF),t);return function(i){if(i.maxAttempts<1)throw new b(y.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,s,o){let a=new Be;return i.asyncQueue.enqueueAndForget(async()=>{let c=await yF(i);new My(i.asyncQueue,c,o,s,a).run()}),a.promise}(We(n),i=>e(new Ky(n,i)),r)}function _x(){return new Qs("deleteField")}function yx(){return new ju("serverTimestamp")}function vx(...n){return new jy("arrayUnion",n)}function Ex(...n){return new zy("arrayRemove",n)}function bx(n){return new $y("increment",n)}(function(n,e=!0){(function(t){Ma=t})(Mt),Ie(new jh("firestore",(t,{instanceIdentifier:r,options:i})=>{let s=t.getProvider("app").getImmediate(),o=new ye(new u_(t.getProvider("auth-internal")),new f_(t.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new b(y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new In(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),ie(oC,"3.9.0",n),ie(oC,"3.9.0","esm2017")})();f();f();f();f();f();f();var Ix=Object.prototype.toString;function Mv(n){switch(Ix.call(n)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return fn(n,Error)}}function ja(n,e){return Ix.call(n)===`[object ${e}]`}function DF(n){return ja(n,"ErrorEvent")}function OF(n){return ja(n,"DOMError")}function NF(n){return ja(n,"DOMException")}function An(n){return ja(n,"String")}function bf(n){return n===null||typeof n!="object"&&typeof n!="function"}function Br(n){return ja(n,"Object")}function Bv(n){return typeof Event<"u"&&fn(n,Event)}function Lv(n){return typeof Element<"u"&&fn(n,Element)}function Zu(n){return ja(n,"RegExp")}function He(n){return Boolean(n&&n.then&&typeof n.then=="function")}function Uv(n){return Br(n)&&"nativeEvent"in n&&"preventDefault"in n&&"stopPropagation"in n}function el(n){return typeof n=="number"&&n!==n}function fn(n,e){try{return n instanceof e}catch(t){return!1}}f();function If(n){return n&&n.Math==Math?n:void 0}var nt=typeof globalThis=="object"&&If(globalThis)||typeof window=="object"&&If(window)||typeof self=="object"&&If(self)||typeof window=="object"&&If(window)||function(){return this}()||{};function Rn(){return nt}function no(n,e,t){let r=t||nt,i=r.__SENTRY__=r.__SENTRY__||{};return i[n]||(i[n]=e())}var wf=Rn(),kF=80;function ro(n,e={}){try{let t=n,r=5,i=[],s=0,o=0,a=" > ",c=a.length,u,l=Array.isArray(e)?e:e.keyAttrs,h=!Array.isArray(e)&&e.maxStringLength||kF;for(;t&&s++<r&&(u=PF(t,l),!(u==="html"||s>1&&o+i.length*c+u.length>=h));)i.push(u),o+=u.length,t=t.parentNode;return i.reverse().join(a)}catch(t){return"<unknown>"}}function PF(n,e){let t=n,r=[],i,s,o,a,c;if(!t||!t.tagName)return"";r.push(t.tagName.toLowerCase());let u=e&&e.length?e.filter(h=>t.getAttribute(h)).map(h=>[h,t.getAttribute(h)]):null;if(u&&u.length)u.forEach(h=>{r.push(`[${h[0]}="${h[1]}"]`)});else if(t.id&&r.push(`#${t.id}`),i=t.className,i&&An(i))for(s=i.split(/\s+/),c=0;c<s.length;c++)r.push(`.${s[c]}`);let l=["aria-label","type","name","title","alt"];for(c=0;c<l.length;c++)o=l[c],a=t.getAttribute(o),a&&r.push(`[${o}="${a}"]`);return r.join("")}function MF(){try{return wf.document.location.href}catch(n){return""}}function Fv(n){return wf.document&&wf.document.querySelector?wf.document.querySelector(n):null}f();f();var we=class extends Error{constructor(e,t="warn"){super(e),this.message=e,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=t}};var BF=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function LF(n){return n==="http"||n==="https"}function io(n,e=!1){let{host:t,path:r,pass:i,port:s,projectId:o,protocol:a,publicKey:c}=n;return`${a}://${c}${e&&i?`:${i}`:""}@${t}${s?`:${s}`:""}/${r&&`${r}/`}${o}`}function wx(n){let e=BF.exec(n);if(!e)throw new we(`Invalid Sentry Dsn: ${n}`);let[t,r,i="",s,o="",a]=e.slice(1),c="",u=a,l=u.split("/");if(l.length>1&&(c=l.slice(0,-1).join("/"),u=l.pop()),u){let h=u.match(/^\d+/);h&&(u=h[0])}return Tx({host:s,pass:i,path:c,projectId:u,port:o,protocol:t,publicKey:r})}function Tx(n){return{protocol:n.protocol,publicKey:n.publicKey||"",pass:n.pass||"",host:n.host,port:n.port||"",path:n.path||"",projectId:n.projectId}}function UF(n){if(!(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__))return;let{port:e,projectId:t,protocol:r}=n;if(["protocol","publicKey","host","projectId"].forEach(s=>{if(!n[s])throw new we(`Invalid Sentry Dsn: ${s} missing`)}),!t.match(/^\d+$/))throw new we(`Invalid Sentry Dsn: Invalid projectId ${t}`);if(!LF(r))throw new we(`Invalid Sentry Dsn: Invalid protocol ${r}`);if(e&&isNaN(parseInt(e,10)))throw new we(`Invalid Sentry Dsn: Invalid port ${e}`);return!0}function tl(n){let e=typeof n=="string"?wx(n):Tx(n);return UF(e),e}f();f();var FF="Sentry Logger ",za=["debug","info","warn","error","log","assert","trace"];function Tf(n){if(!("console"in nt))return n();let e=nt.console,t={};za.forEach(r=>{let i=e[r]&&e[r].__sentry_original__;r in e&&i&&(t[r]=e[r],e[r]=i)});try{return n()}finally{Object.keys(t).forEach(r=>{e[r]=t[r]})}}function Sx(){let n=!1,e={enable:()=>{n=!0},disable:()=>{n=!1}};return typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?za.forEach(t=>{e[t]=(...r)=>{n&&Tf(()=>{nt.console[t](`${FF}[${t}]:`,...r)})}}):za.forEach(t=>{e[t]=()=>{}}),e}var v;typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?v=no("logger",Sx):v=Sx();f();f();function Di(n,e=0){return typeof n!="string"||e===0||n.length<=e?n:`${n.slice(0,e)}...`}function qF(n,e){if(!Array.isArray(n))return"";let t=[];for(let r=0;r<n.length;r++){let i=n[r];try{t.push(String(i))}catch(s){t.push("[value cannot be serialized]")}}return t.join(e)}function Cx(n,e,t=!1){return An(n)?Zu(e)?e.test(n):An(e)?t?n===e:n.includes(e):!1:!1}function Oi(n,e=[],t=!1){return e.some(r=>Cx(n,r,t))}function ve(n,e,t){if(!(e in n))return;let r=n[e],i=t(r);if(typeof i=="function")try{xx(i,r)}catch(s){}n[e]=i}function Sf(n,e,t){Object.defineProperty(n,e,{value:t,writable:!0,configurable:!0})}function xx(n,e){let t=e.prototype||{};n.prototype=e.prototype=t,Sf(n,"__sentry_original__",e)}function Vv(n){return n.__sentry_original__}function jv(n){return Object.keys(n).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(n[e])}`).join("&")}function Cf(n){if(Mv(n))return{message:n.message,name:n.name,stack:n.stack,...Rx(n)};if(Bv(n)){let e={type:n.type,target:Ax(n.target),currentTarget:Ax(n.currentTarget),...Rx(n)};return typeof CustomEvent<"u"&&fn(n,CustomEvent)&&(e.detail=n.detail),e}else return n}function Ax(n){try{return Lv(n)?ro(n):Object.prototype.toString.call(n)}catch(e){return"<unknown>"}}function Rx(n){if(typeof n=="object"&&n!==null){let e={};for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t]);return e}else return{}}function VF(n,e=40){let t=Object.keys(Cf(n));if(t.sort(),!t.length)return"[object has no keys]";if(t[0].length>=e)return Di(t[0],e);for(let r=t.length;r>0;r--){let i=t.slice(0,r).join(", ");if(!(i.length>e))return r===t.length?i:Di(i,e)}return""}function en(n){return qv(n,new Map)}function qv(n,e){if(Br(n)){let t=e.get(n);if(t!==void 0)return t;let r={};e.set(n,r);for(let i of Object.keys(n))typeof n[i]<"u"&&(r[i]=qv(n[i],e));return r}if(Array.isArray(n)){let t=e.get(n);if(t!==void 0)return t;let r=[];return e.set(n,r),n.forEach(i=>{r.push(qv(i,e))}),r}return n}f();var Ox=50,Dx=/\(error: (.*)\)/;function Nx(...n){let e=n.sort((t,r)=>t[0]-r[0]).map(t=>t[1]);return(t,r=0)=>{let i=[],s=t.split(`
`);for(let o=r;o<s.length;o++){let a=s[o];if(a.length>1024)continue;let c=Dx.test(a)?a.replace(Dx,"$1"):a;for(let u of e){let l=u(c);if(l){i.push(l);break}}if(i.length>=Ox)break}return kx(i)}}function jF(n){return Array.isArray(n)?Nx(...n):n}function kx(n){if(!n.length)return[];let e=n.slice(0,Ox),t=e[e.length-1].function;t&&/sentryWrapped/.test(t)&&e.pop(),e.reverse();let r=e[e.length-1].function;return r&&/captureMessage|captureException/.test(r)&&e.pop(),e.map(i=>({...i,filename:i.filename||e[e.length-1].filename,function:i.function||"?"}))}var zv="<anonymous>";function nl(n){try{return!n||typeof n!="function"?zv:n.name||zv}catch(e){return zv}}f();var $v=Rn();function Px(){if(!("fetch"in $v))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch(n){return!1}}function Gv(n){return n&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(n.toString())}function Wv(){if(!Px())return!1;if(Gv($v.fetch))return!0;let n=!1,e=$v.document;if(e&&typeof e.createElement=="function")try{let t=e.createElement("iframe");t.hidden=!0,e.head.appendChild(t),t.contentWindow&&t.contentWindow.fetch&&(n=Gv(t.contentWindow.fetch)),e.head.removeChild(t)}catch(t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",t)}return n}f();var Af=Rn();function Mx(){let n=Af.chrome,e=n&&n.app&&n.app.runtime,t="history"in Af&&!!Af.history.pushState&&!!Af.history.replaceState;return!e&&t}var Ee=Rn(),rl={},Bx={};function zF(n){if(!Bx[n])switch(Bx[n]=!0,n){case"console":$F();break;case"dom":ZF();break;case"xhr":KF();break;case"fetch":GF();break;case"history":YF();break;case"error":e2();break;case"unhandledrejection":t2();break;default:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("unknown instrumentation type:",n);return}}function Lr(n,e){rl[n]=rl[n]||[],rl[n].push(e),zF(n)}function xn(n,e){if(!(!n||!rl[n]))for(let t of rl[n]||[])try{t(e)}catch(r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error(`Error while triggering instrumentation handler.
Type: ${n}
Name: ${nl(t)}
Error:`,r)}}function $F(){"console"in Ee&&za.forEach(function(n){n in Ee.console&&ve(Ee.console,n,function(e){return function(...t){xn("console",{args:t,level:n}),e&&e.apply(Ee.console,t)}})})}function GF(){Wv()&&ve(Ee,"fetch",function(n){return function(...e){let t={args:e,fetchData:{method:WF(e),url:HF(e)},startTimestamp:Date.now()};return xn("fetch",{...t}),n.apply(Ee,e).then(r=>(xn("fetch",{...t,endTimestamp:Date.now(),response:r}),r),r=>{throw xn("fetch",{...t,endTimestamp:Date.now(),error:r}),r})}})}function WF(n=[]){return"Request"in Ee&&fn(n[0],Request)&&n[0].method?String(n[0].method).toUpperCase():n[1]&&n[1].method?String(n[1].method).toUpperCase():"GET"}function HF(n=[]){return typeof n[0]=="string"?n[0]:"Request"in Ee&&fn(n[0],Request)?n[0].url:String(n[0])}function KF(){if(!("XMLHttpRequest"in Ee))return;let n=XMLHttpRequest.prototype;ve(n,"open",function(e){return function(...t){let r=t[1],i=this.__sentry_xhr__={method:An(t[0])?t[0].toUpperCase():t[0],url:t[1]};An(r)&&i.method==="POST"&&r.match(/sentry_key/)&&(this.__sentry_own_request__=!0);let s=()=>{let o=this.__sentry_xhr__;if(o&&this.readyState===4){try{o.status_code=this.status}catch(a){}xn("xhr",{args:t,endTimestamp:Date.now(),startTimestamp:Date.now(),xhr:this})}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?ve(this,"onreadystatechange",function(o){return function(...a){return s(),o.apply(this,a)}}):this.addEventListener("readystatechange",s),e.apply(this,t)}}),ve(n,"send",function(e){return function(...t){return this.__sentry_xhr__&&t[0]!==void 0&&(this.__sentry_xhr__.body=t[0]),xn("xhr",{args:t,startTimestamp:Date.now(),xhr:this}),e.apply(this,t)}})}var Rf;function YF(){if(!Mx())return;let n=Ee.onpopstate;Ee.onpopstate=function(...t){let r=Ee.location.href,i=Rf;if(Rf=r,xn("history",{from:i,to:r}),n)try{return n.apply(this,t)}catch(s){}};function e(t){return function(...r){let i=r.length>2?r[2]:void 0;if(i){let s=Rf,o=String(i);Rf=o,xn("history",{from:s,to:o})}return t.apply(this,r)}}ve(Ee.history,"pushState",e),ve(Ee.history,"replaceState",e)}var QF=1e3,xf,Df;function JF(n,e){if(!n||n.type!==e.type)return!0;try{if(n.target!==e.target)return!0}catch(t){}return!1}function XF(n){if(n.type!=="keypress")return!1;try{let e=n.target;if(!e||!e.tagName)return!0;if(e.tagName==="INPUT"||e.tagName==="TEXTAREA"||e.isContentEditable)return!1}catch(e){}return!0}function Lx(n,e=!1){return t=>{if(!t||Df===t||XF(t))return;let r=t.type==="keypress"?"input":t.type;xf===void 0?(n({event:t,name:r,global:e}),Df=t):JF(Df,t)&&(n({event:t,name:r,global:e}),Df=t),clearTimeout(xf),xf=Ee.setTimeout(()=>{xf=void 0},QF)}}function ZF(){if(!("document"in Ee))return;let n=xn.bind(null,"dom"),e=Lx(n,!0);Ee.document.addEventListener("click",e,!1),Ee.document.addEventListener("keypress",e,!1),["EventTarget","Node"].forEach(t=>{let r=Ee[t]&&Ee[t].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(ve(r,"addEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__=c.__sentry_instrumentation_handlers__||{},l=u[s]=u[s]||{refCount:0};if(!l.handler){let h=Lx(n);l.handler=h,i.call(this,s,h,a)}l.refCount++}catch(c){}return i.call(this,s,o,a)}}),ve(r,"removeEventListener",function(i){return function(s,o,a){if(s==="click"||s=="keypress")try{let c=this,u=c.__sentry_instrumentation_handlers__||{},l=u[s];l&&(l.refCount--,l.refCount<=0&&(i.call(this,s,l.handler,a),l.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete c.__sentry_instrumentation_handlers__)}catch(c){}return i.call(this,s,o,a)}}))})}var Hv=null;function e2(){Hv=Ee.onerror,Ee.onerror=function(n,e,t,r,i){return xn("error",{column:r,error:i,line:t,msg:n,url:e}),Hv?Hv.apply(this,arguments):!1}}var Kv=null;function t2(){Kv=Ee.onunhandledrejection,Ee.onunhandledrejection=function(n){return xn("unhandledrejection",n),Kv?Kv.apply(this,arguments):!0}}f();function Ux(){let n=typeof WeakSet=="function",e=n?new WeakSet:[];function t(i){if(n)return e.has(i)?!0:(e.add(i),!1);for(let s=0;s<e.length;s++)if(e[s]===i)return!0;return e.push(i),!1}function r(i){if(n)e.delete(i);else for(let s=0;s<e.length;s++)if(e[s]===i){e.splice(s,1);break}}return[t,r]}f();function tn(){let n=nt,e=n.crypto||n.msCrypto;if(e&&e.randomUUID)return e.randomUUID().replace(/-/g,"");let t=e&&e.getRandomValues?()=>e.getRandomValues(new Uint8Array(1))[0]:()=>Math.random()*16;return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,r=>(r^(t()&15)>>r/4).toString(16))}function Fx(n){return n.exception&&n.exception.values?n.exception.values[0]:void 0}function Ur(n){let{message:e,event_id:t}=n;if(e)return e;let r=Fx(n);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||t||"<unknown>":t||"<unknown>"}function n2(n,e,t){let r=n.exception=n.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=e||""),s.type||(s.type=t||"Error")}function r2(n,e){let t=Fx(n);if(!t)return;let r={type:"generic",handled:!0},i=t.mechanism;if(t.mechanism={...r,...i,...e},e&&"data"in e){let s={...i&&i.data,...e.data};t.mechanism.data=s}}function Of(n){if(n&&n.__sentry_captured__)return!0;try{Sf(n,"__sentry_captured__",!0)}catch(e){}return!1}function Ni(n){return Array.isArray(n)?n:[n]}f();f();function Yv(){return typeof __SENTRY_BROWSER_BUNDLE__<"u"&&!!__SENTRY_BROWSER_BUNDLE__}function i2(){return"npm"}function so(){return!Yv()&&Object.prototype.toString.call(typeof process<"u"?process:0)==="[object process]"}function Dn(n,e){return n.require(e)}function Ut(n){let e;try{e=Dn(module,n)}catch(t){}try{let{cwd:t}=Dn(module,"process");e=Dn(module,`${t()}/node_modules/${n}`)}catch(t){}return e}f();function On(n,e=1/0,t=1/0){try{return Nf("",n,e,t)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function qx(n,e=3,t=100*1024){let r=On(n,e);return c2(r)>t?qx(n,e-1,t):r}function Nf(n,e,t=1/0,r=1/0,i=Ux()){let[s,o]=i;if(e===null||["number","boolean","string"].includes(typeof e)&&!el(e))return e;let a=s2(n,e);if(!a.startsWith("[object "))return a;if(e.__sentry_skip_normalization__)return e;let c=t;if(typeof e.__sentry_override_normalization_depth__=="number"&&(c=e.__sentry_override_normalization_depth__),c===0)return a.replace("object ","");if(s(e))return"[Circular ~]";let u=e;if(u&&typeof u.toJSON=="function")try{let p=u.toJSON();return Nf("",p,c-1,r,i)}catch(p){}let l=Array.isArray(e)?[]:{},h=0,d=Cf(e);for(let p in d){if(!Object.prototype.hasOwnProperty.call(d,p))continue;if(h>=r){l[p]="[MaxProperties ~]";break}let m=d[p];l[p]=Nf(p,m,c-1,r,i),h++}return o(e),l}function s2(n,e){try{return n==="domain"&&e&&typeof e=="object"&&e._events?"[Domain]":n==="domainEmitter"?"[DomainEmitter]":typeof window<"u"&&e===window?"[Global]":typeof window<"u"&&e===window?"[Window]":typeof document<"u"&&e===document?"[Document]":Uv(e)?"[SyntheticEvent]":typeof e=="number"&&e!==e?"[NaN]":e===void 0?"[undefined]":typeof e=="function"?`[Function: ${nl(e)}]`:typeof e=="symbol"?`[${String(e)}]`:typeof e=="bigint"?`[BigInt: ${String(e)}]`:`[object ${o2(e)}]`}catch(t){return`**non-serializable** (${t})`}}function o2(n){let e=Object.getPrototypeOf(n);return e?e.constructor.name:"null prototype"}function a2(n){return~-encodeURI(n).split(/%..|./).length}function c2(n){return a2(JSON.stringify(n))}f();f();var Fr;(function(n){n[n.PENDING=0]="PENDING";let t=1;n[n.RESOLVED=t]="RESOLVED";let r=2;n[n.REJECTED=r]="REJECTED"})(Fr||(Fr={}));function er(n){return new Le(e=>{e(n)})}function $a(n){return new Le((e,t)=>{t(n)})}var Le=class{__init(){this._state=Fr.PENDING}__init2(){this._handlers=[]}constructor(e){Le.prototype.__init.call(this),Le.prototype.__init2.call(this),Le.prototype.__init3.call(this),Le.prototype.__init4.call(this),Le.prototype.__init5.call(this),Le.prototype.__init6.call(this);try{e(this._resolve,this._reject)}catch(t){this._reject(t)}}then(e,t){return new Le((r,i)=>{this._handlers.push([!1,s=>{if(!e)r(s);else try{r(e(s))}catch(o){i(o)}},s=>{if(!t)i(s);else try{r(t(s))}catch(o){i(o)}}]),this._executeHandlers()})}catch(e){return this.then(t=>t,e)}finally(e){return new Le((t,r)=>{let i,s;return this.then(o=>{s=!1,i=o,e&&e()},o=>{s=!0,i=o,e&&e()}).then(()=>{if(s){r(i);return}t(i)})})}__init3(){this._resolve=e=>{this._setResult(Fr.RESOLVED,e)}}__init4(){this._reject=e=>{this._setResult(Fr.REJECTED,e)}}__init5(){this._setResult=(e,t)=>{if(this._state===Fr.PENDING){if(He(t)){t.then(this._resolve,this._reject);return}this._state=e,this._value=t,this._executeHandlers()}}}__init6(){this._executeHandlers=()=>{if(this._state===Fr.PENDING)return;let e=this._handlers.slice();this._handlers=[],e.forEach(t=>{t[0]||(this._state===Fr.RESOLVED&&t[1](this._value),this._state===Fr.REJECTED&&t[2](this._value),t[0]=!0)})}}};function Qv(n){let e=[];function t(){return n===void 0||e.length<n}function r(o){return e.splice(e.indexOf(o),1)[0]}function i(o){if(!t())return $a(new we("Not adding Promise because buffer limit was reached."));let a=o();return e.indexOf(a)===-1&&e.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(o){return new Le((a,c)=>{let u=e.length;if(!u)return a(!0);let l=setTimeout(()=>{o&&o>0&&a(!1)},o);e.forEach(h=>{er(h).then(()=>{--u||(clearTimeout(l),a(!0))},c)})})}return{$:e,add:i,drain:s}}f();f();function u2(n){if(!n)return{};let e=n.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!e)return{};let t=e[6]||"",r=e[8]||"";return{host:e[4],path:e[5],protocol:e[2],relative:e[5]+t+r}}function kf(n){return n.split(/[\?#]/,1)[0]}function Ga(n){return n.split(/\\?\//).filter(e=>e.length>0&&e!==",").length}function Jv(n,e={}){let t=n.method&&n.method.toUpperCase(),r="",i="url";e.customRoute||n.route?(r=e.customRoute||`${n.baseUrl||""}${n.route&&n.route.path}`,i="route"):(n.originalUrl||n.url)&&(r=kf(n.originalUrl||n.url||""));let s="";return e.method&&t&&(s+=t),e.method&&e.path&&(s+=" "),e.path&&r&&(s+=r),[s,i]}f();var Vx=["fatal","error","warning","log","info","debug"];function l2(n){return n==="warn"?"warning":Vx.includes(n)?n:"log"}f();var zx=Rn(),Zv={nowSeconds:()=>Date.now()/1e3};function h2(){let{performance:n}=zx;if(!n||!n.now)return;let e=Date.now()-n.now();return{now:()=>n.now(),timeOrigin:e}}function d2(){try{return Dn(module,"perf_hooks").performance}catch(n){return}}var Xv=so()?d2():h2(),jx=Xv===void 0?Zv:{nowSeconds:()=>(Xv.timeOrigin+Xv.now())/1e3},qr=Zv.nowSeconds.bind(Zv),sl=jx.nowSeconds.bind(jx),ki=sl;var il,tr=(()=>{let{performance:n}=zx;if(!n||!n.now){il="none";return}let e=3600*1e3,t=n.now(),r=Date.now(),i=n.timeOrigin?Math.abs(n.timeOrigin+t-r):e,s=i<e,o=n.timing&&n.timing.navigationStart,c=typeof o=="number"?Math.abs(o+t-r):e,u=c<e;return s||u?i<=c?(il="timeOrigin",n.timeOrigin):(il="navigationStart",o):(il="dateNow",r)})();f();var eE=new RegExp("^[ \\t]*([0-9a-f]{32})?-?([0-9a-f]{16})?-?([01])?[ \\t]*$");function ol(n){let e=n.match(eE);if(!n||!e)return;let t;return e[3]==="1"?t=!0:e[3]==="0"&&(t=!1),{traceId:e[1],parentSampled:t,parentSpanId:e[2]}}f();function Pi(n,e=[]){return[n,e]}function nE(n,e){let[t,r]=n;return[t,[...r,e]]}function al(n,e){let t=n[1];for(let r of t){let i=r[0].type;if(e(r,i))return!0}return!1}function rE(n,e){return al(n,(t,r)=>e.includes(r))}function tE(n,e){return(e||new TextEncoder).encode(n)}function iE(n,e){let[t,r]=n,i=JSON.stringify(t);function s(o){typeof i=="string"?i=typeof o=="string"?i+o:[tE(i,e),o]:i.push(typeof o=="string"?tE(o,e):o)}for(let o of r){let[a,c]=o;if(s(`
${JSON.stringify(a)}
`),typeof c=="string"||c instanceof Uint8Array)s(c);else{let u;try{u=JSON.stringify(c)}catch(l){u=JSON.stringify(On(c))}s(u)}}return typeof i=="string"?i:f2(i)}function f2(n){let e=n.reduce((i,s)=>i+s.length,0),t=new Uint8Array(e),r=0;for(let i of n)t.set(i,r),r+=i.length;return t}function p2(n,e,t){let r=typeof n=="string"?e.encode(n):n;function i(c){let u=r.subarray(0,c);return r=r.subarray(c+1),u}function s(){let c=r.indexOf(10);return c<0&&(c=r.length),JSON.parse(t.decode(i(c)))}let o=s(),a=[];for(;r.length;){let c=s(),u=typeof c.length=="number"?c.length:void 0;a.push([c,u?i(u):s()])}return[o,a]}function sE(n,e){let t=typeof n.data=="string"?tE(n.data,e):n.data;return[en({type:"attachment",length:t.length,filename:n.filename,content_type:n.contentType,attachment_type:n.attachmentType}),t]}var m2={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay"};function Pf(n){return m2[n]}function Mf(n){if(!n||!n.sdk)return;let{name:e,version:t}=n.sdk;return{name:e,version:t}}function oE(n,e,t,r){let i=n.sdkProcessingMetadata&&n.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:n.event_id,sent_at:new Date().toISOString(),...e&&{sdk:e},...!!t&&{dsn:io(r)},...n.type==="transaction"&&i&&{trace:en({...i})}}}f();function g2(n,e,t){let r=[{type:"client_report"},{timestamp:t||qr(),discarded_events:n}];return Pi(e?{dsn:e}:{},[r])}f();function Bf(n,e=Date.now()){let t=parseInt(`${n}`,10);if(!isNaN(t))return t*1e3;let r=Date.parse(`${n}`);return isNaN(r)?6e4:r-e}function $x(n,e){return n[e]||n.all||0}function aE(n,e,t=Date.now()){return $x(n,e)>t}function cE(n,{statusCode:e,headers:t},r=Date.now()){let i={...n},s=t&&t["x-sentry-rate-limits"],o=t&&t["retry-after"];if(s)for(let a of s.trim().split(",")){let[c,u]=a.split(":",2),l=parseInt(c,10),h=(isNaN(l)?60:l)*1e3;if(!u)i.all=r+h;else for(let d of u.split(";"))i[d]=r+h}else o?i.all=r+Bf(o,r):e===429&&(i.all=r+60*1e3);return i}f();var cl="baggage",uE="sentry-",Wx=/^sentry-/,Hx=8192;function lE(n){if(!An(n)&&!Array.isArray(n))return;let e={};if(Array.isArray(n))e=n.reduce((r,i)=>{let s=Gx(i);return{...r,...s}},{});else{if(!n)return;e=Gx(n)}let t=Object.entries(e).reduce((r,[i,s])=>{if(i.match(Wx)){let o=i.slice(uE.length);r[o]=s}return r},{});if(Object.keys(t).length>0)return t}function Lf(n){let e=Object.entries(n).reduce((t,[r,i])=>(i&&(t[`${uE}${r}`]=i),t),{});return _2(e)}function Gx(n){return n.split(",").map(e=>e.split("=").map(t=>decodeURIComponent(t.trim()))).reduce((e,[t,r])=>(e[t]=r,e),{})}function _2(n){if(Object.keys(n).length!==0)return Object.entries(n).reduce((e,[t,r],i)=>{let s=`${encodeURIComponent(t)}=${encodeURIComponent(r)}`,o=i===0?s:`${e},${s}`;return o.length>Hx?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`Not adding key: ${t} with val: ${r} to baggage header due to exceeding baggage size limits.`),e):o},"")}f();f();var oo="production";f();f();function Kx(n){let e=sl(),t={sid:tn(),init:!0,timestamp:e,started:e,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>y2(t)};return n&&Vr(t,n),t}function Vr(n,e={}){if(e.user&&(!n.ipAddress&&e.user.ip_address&&(n.ipAddress=e.user.ip_address),!n.did&&!e.did&&(n.did=e.user.id||e.user.email||e.user.username)),n.timestamp=e.timestamp||sl(),e.ignoreDuration&&(n.ignoreDuration=e.ignoreDuration),e.sid&&(n.sid=e.sid.length===32?e.sid:tn()),e.init!==void 0&&(n.init=e.init),!n.did&&e.did&&(n.did=`${e.did}`),typeof e.started=="number"&&(n.started=e.started),n.ignoreDuration)n.duration=void 0;else if(typeof e.duration=="number")n.duration=e.duration;else{let t=n.timestamp-n.started;n.duration=t>=0?t:0}e.release&&(n.release=e.release),e.environment&&(n.environment=e.environment),!n.ipAddress&&e.ipAddress&&(n.ipAddress=e.ipAddress),!n.userAgent&&e.userAgent&&(n.userAgent=e.userAgent),typeof e.errors=="number"&&(n.errors=e.errors),e.status&&(n.status=e.status)}function Yx(n,e){let t={};e?t={status:e}:n.status==="ok"&&(t={status:"exited"}),Vr(n,t)}function y2(n){return en({sid:`${n.sid}`,init:n.init,started:new Date(n.started*1e3).toISOString(),timestamp:new Date(n.timestamp*1e3).toISOString(),status:n.status,errors:n.errors,did:typeof n.did=="number"||typeof n.did=="string"?`${n.did}`:void 0,duration:n.duration,attrs:{release:n.release,environment:n.environment,ip_address:n.ipAddress,user_agent:n.userAgent}})}var v2=100,nn=class{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={}}static clone(e){let t=new nn;return e&&(t._breadcrumbs=[...e._breadcrumbs],t._tags={...e._tags},t._extra={...e._extra},t._contexts={...e._contexts},t._user=e._user,t._level=e._level,t._span=e._span,t._session=e._session,t._transactionName=e._transactionName,t._fingerprint=e._fingerprint,t._eventProcessors=[...e._eventProcessors],t._requestSession=e._requestSession,t._attachments=[...e._attachments],t._sdkProcessingMetadata={...e._sdkProcessingMetadata}),t}addScopeListener(e){this._scopeListeners.push(e)}addEventProcessor(e){return this._eventProcessors.push(e),this}setUser(e){return this._user=e||{},this._session&&Vr(this._session,{user:e}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(e){return this._requestSession=e,this}setTags(e){return this._tags={...this._tags,...e},this._notifyScopeListeners(),this}setTag(e,t){return this._tags={...this._tags,[e]:t},this._notifyScopeListeners(),this}setExtras(e){return this._extra={...this._extra,...e},this._notifyScopeListeners(),this}setExtra(e,t){return this._extra={...this._extra,[e]:t},this._notifyScopeListeners(),this}setFingerprint(e){return this._fingerprint=e,this._notifyScopeListeners(),this}setLevel(e){return this._level=e,this._notifyScopeListeners(),this}setTransactionName(e){return this._transactionName=e,this._notifyScopeListeners(),this}setContext(e,t){return t===null?delete this._contexts[e]:this._contexts[e]=t,this._notifyScopeListeners(),this}setSpan(e){return this._span=e,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){let e=this.getSpan();return e&&e.transaction}setSession(e){return e?this._session=e:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(e){if(!e)return this;if(typeof e=="function"){let t=e(this);return t instanceof nn?t:this}return e instanceof nn?(this._tags={...this._tags,...e._tags},this._extra={...this._extra,...e._extra},this._contexts={...this._contexts,...e._contexts},e._user&&Object.keys(e._user).length&&(this._user=e._user),e._level&&(this._level=e._level),e._fingerprint&&(this._fingerprint=e._fingerprint),e._requestSession&&(this._requestSession=e._requestSession)):Br(e)&&(e=e,this._tags={...this._tags,...e.tags},this._extra={...this._extra,...e.extra},this._contexts={...this._contexts,...e.contexts},e.user&&(this._user=e.user),e.level&&(this._level=e.level),e.fingerprint&&(this._fingerprint=e.fingerprint),e.requestSession&&(this._requestSession=e.requestSession)),this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this}addBreadcrumb(e,t){let r=typeof t=="number"?t:v2;if(r<=0)return this;let i={timestamp:qr(),...e};return this._breadcrumbs=[...this._breadcrumbs,i].slice(-r),this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(e){return this._attachments.push(e),this}getAttachments(){return this._attachments}clearAttachments(){return this._attachments=[],this}applyToEvent(e,t={}){if(this._extra&&Object.keys(this._extra).length&&(e.extra={...this._extra,...e.extra}),this._tags&&Object.keys(this._tags).length&&(e.tags={...this._tags,...e.tags}),this._user&&Object.keys(this._user).length&&(e.user={...this._user,...e.user}),this._contexts&&Object.keys(this._contexts).length&&(e.contexts={...this._contexts,...e.contexts}),this._level&&(e.level=this._level),this._transactionName&&(e.transaction=this._transactionName),this._span){e.contexts={trace:this._span.getTraceContext(),...e.contexts};let r=this._span.transaction&&this._span.transaction.name;r&&(e.tags={transaction:r,...e.tags})}return this._applyFingerprint(e),e.breadcrumbs=[...e.breadcrumbs||[],...this._breadcrumbs],e.breadcrumbs=e.breadcrumbs.length>0?e.breadcrumbs:void 0,e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...this._sdkProcessingMetadata},this._notifyEventProcessors([...Qx(),...this._eventProcessors],e,t)}setSDKProcessingMetadata(e){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...e},this}_notifyEventProcessors(e,t,r,i=0){return new Le((s,o)=>{let a=e[i];if(t===null||typeof a!="function")s(t);else{let c=a({...t},r);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&a.id&&c===null&&v.log(`Event processor "${a.id}" dropped event`),He(c)?c.then(u=>this._notifyEventProcessors(e,u,r,i+1).then(s)).then(null,o):this._notifyEventProcessors(e,c,r,i+1).then(s).then(null,o)}})}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(e=>{e(this)}),this._notifyingListeners=!1)}_applyFingerprint(e){e.fingerprint=e.fingerprint?Ni(e.fingerprint):[],this._fingerprint&&(e.fingerprint=e.fingerprint.concat(this._fingerprint)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}};function Qx(){return no("globalEventProcessors",()=>[])}function hE(n){Qx().push(n)}var fE=4,E2=100,Wa=class{constructor(e,t=new nn,r=fE){this._version=r,this._stack=[{scope:t}],e&&this.bindClient(e)}isOlderThan(e){return this._version<e}bindClient(e){let t=this.getStackTop();t.client=e,e&&e.setupIntegrations&&e.setupIntegrations()}pushScope(){let e=nn.clone(this.getScope());return this.getStack().push({client:this.getClient(),scope:e}),e}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(e){let t=this.pushScope();try{e(t)}finally{this.popScope()}}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(e,t){let r=this._lastEventId=t&&t.event_id?t.event_id:tn(),i=new Error("Sentry syntheticException");return this._withClient((s,o)=>{s.captureException(e,{originalException:e,syntheticException:i,...t,event_id:r},o)}),r}captureMessage(e,t,r){let i=this._lastEventId=r&&r.event_id?r.event_id:tn(),s=new Error(e);return this._withClient((o,a)=>{o.captureMessage(e,t,{originalException:e,syntheticException:s,...r,event_id:i},a)}),i}captureEvent(e,t){let r=t&&t.event_id?t.event_id:tn();return e.type||(this._lastEventId=r),this._withClient((i,s)=>{i.captureEvent(e,{...t,event_id:r},s)}),r}lastEventId(){return this._lastEventId}addBreadcrumb(e,t){let{scope:r,client:i}=this.getStackTop();if(!i)return;let{beforeBreadcrumb:s=null,maxBreadcrumbs:o=E2}=i.getOptions&&i.getOptions()||{};if(o<=0)return;let c={timestamp:qr(),...e},u=s?Tf(()=>s(c,t)):c;u!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",u,t),r.addBreadcrumb(u,o))}setUser(e){this.getScope().setUser(e)}setTags(e){this.getScope().setTags(e)}setExtras(e){this.getScope().setExtras(e)}setTag(e,t){this.getScope().setTag(e,t)}setExtra(e,t){this.getScope().setExtra(e,t)}setContext(e,t){this.getScope().setContext(e,t)}configureScope(e){let{scope:t,client:r}=this.getStackTop();r&&e(t)}run(e){let t=dE(this);try{e(this)}finally{dE(t)}}getIntegration(e){let t=this.getClient();if(!t)return null;try{return t.getIntegration(e)}catch(r){return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`Cannot retrieve integration ${e.id} from the current Hub`),null}}startTransaction(e,t){return this._callExtensionMethod("startTransaction",e,t)}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(e=!1){if(e)return this.endSession();this._sendSessionUpdate()}endSession(){let t=this.getStackTop().scope,r=t.getSession();r&&Yx(r),this._sendSessionUpdate(),t.setSession()}startSession(e){let{scope:t,client:r}=this.getStackTop(),{release:i,environment:s=oo}=r&&r.getOptions()||{},{userAgent:o}=nt.navigator||{},a=Kx({release:i,environment:s,user:t.getUser(),...o&&{userAgent:o},...e}),c=t.getSession&&t.getSession();return c&&c.status==="ok"&&Vr(c,{status:"exited"}),this.endSession(),t.setSession(a),a}shouldSendDefaultPii(){let e=this.getClient(),t=e&&e.getOptions();return Boolean(t&&t.sendDefaultPii)}_sendSessionUpdate(){let{scope:e,client:t}=this.getStackTop();if(!e)return;let r=e.getSession();r&&t&&t.captureSession&&t.captureSession(r)}_withClient(e){let{scope:t,client:r}=this.getStackTop();r&&e(r,t)}_callExtensionMethod(e,...t){let i=zr().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[e]=="function")return i.extensions[e].apply(this,t);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`Extension method ${e} couldn't be found, doing nothing.`)}};function zr(){return nt.__SENTRY__=nt.__SENTRY__||{extensions:{},hub:void 0},nt}function dE(n){let e=zr(),t=jr(e);return Uf(e,n),t}function ne(){let n=zr();return(!Jx(n)||jr(n).isOlderThan(fE))&&Uf(n,new Wa),so()?b2(n):jr(n)}function b2(n){try{let e=zr().__SENTRY__,t=e&&e.extensions&&e.extensions.domain&&e.extensions.domain.active;if(!t)return jr(n);if(!Jx(t)||jr(t).isOlderThan(fE)){let r=jr(n).getStackTop();Uf(t,new Wa(r.client,nn.clone(r.scope)))}return jr(t)}catch(e){return jr(n)}}function Jx(n){return!!(n&&n.__SENTRY__&&n.__SENTRY__.hub)}function jr(n){return no("hub",()=>new Wa,n)}function Uf(n,e){if(!n)return!1;let t=n.__SENTRY__=n.__SENTRY__||{};return t.hub=e,!0}f();function ao(n){if(typeof __SENTRY_TRACING__=="boolean"&&!__SENTRY_TRACING__)return!1;let e=ne().getClient(),t=n||e&&e.getOptions();return!!t&&(t.enableTracing||"tracesSampleRate"in t||"tracesSampler"in t)}f();f();function Nn(n){return(n||ne()).getScope().getTransaction()}var Xx=!1;function Zx(){Xx||(Xx=!0,Lr("error",pE),Lr("unhandledrejection",pE))}function pE(){let n=Nn();if(n){let e="internal_error";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`[Tracing] Transaction: ${e} -> Global error occured`),n.setStatus(e)}}pE.tag="sentry_tracingErrorCallback";f();f();var Mi=class{__init(){this.spans=[]}constructor(e=1e3){Mi.prototype.__init.call(this),this._maxlen=e}add(e){this.spans.length>this._maxlen?e.spanRecorder=void 0:this.spans.push(e)}},Ft=class{__init2(){this.traceId=tn()}__init3(){this.spanId=tn().substring(16)}__init4(){this.startTimestamp=ki()}__init5(){this.tags={}}__init6(){this.data={}}__init7(){this.instrumenter="sentry"}constructor(e){if(Ft.prototype.__init2.call(this),Ft.prototype.__init3.call(this),Ft.prototype.__init4.call(this),Ft.prototype.__init5.call(this),Ft.prototype.__init6.call(this),Ft.prototype.__init7.call(this),!e)return this;e.traceId&&(this.traceId=e.traceId),e.spanId&&(this.spanId=e.spanId),e.parentSpanId&&(this.parentSpanId=e.parentSpanId),"sampled"in e&&(this.sampled=e.sampled),e.op&&(this.op=e.op),e.description&&(this.description=e.description),e.data&&(this.data=e.data),e.tags&&(this.tags=e.tags),e.status&&(this.status=e.status),e.startTimestamp&&(this.startTimestamp=e.startTimestamp),e.endTimestamp&&(this.endTimestamp=e.endTimestamp),e.instrumenter&&(this.instrumenter=e.instrumenter)}startChild(e){let t=new Ft({...e,parentSpanId:this.spanId,sampled:this.sampled,traceId:this.traceId});if(t.spanRecorder=this.spanRecorder,t.spanRecorder&&t.spanRecorder.add(t),t.transaction=this.transaction,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&t.transaction){let r=e&&e.op||"< unknown op >",i=t.transaction.name||"< unknown name >",s=t.transaction.spanId,o=`[Tracing] Starting '${r}' span on transaction '${i}' (${s}).`;t.transaction.metadata.spanMetadata[t.spanId]={logMessage:o},v.log(o)}return t}setTag(e,t){return this.tags={...this.tags,[e]:t},this}setData(e,t){return this.data={...this.data,[e]:t},this}setStatus(e){return this.status=e,this}setHttpStatus(e){this.setTag("http.status_code",String(e));let t=ul(e);return t!=="unknown_error"&&this.setStatus(t),this}isSuccess(){return this.status==="ok"}finish(e){if((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&this.transaction&&this.transaction.spanId!==this.spanId){let{logMessage:t}=this.transaction.metadata.spanMetadata[this.spanId];t&&v.log(t.replace("Starting","Finishing"))}this.endTimestamp=typeof e=="number"?e:ki()}toTraceparent(){let e="";return this.sampled!==void 0&&(e=this.sampled?"-1":"-0"),`${this.traceId}-${this.spanId}${e}`}toContext(){return en({data:this.data,description:this.description,endTimestamp:this.endTimestamp,op:this.op,parentSpanId:this.parentSpanId,sampled:this.sampled,spanId:this.spanId,startTimestamp:this.startTimestamp,status:this.status,tags:this.tags,traceId:this.traceId})}updateWithContext(e){return this.data=e.data||{},this.description=e.description,this.endTimestamp=e.endTimestamp,this.op=e.op,this.parentSpanId=e.parentSpanId,this.sampled=e.sampled,this.spanId=e.spanId||this.spanId,this.startTimestamp=e.startTimestamp||this.startTimestamp,this.status=e.status,this.tags=e.tags||{},this.traceId=e.traceId||this.traceId,this}getTraceContext(){return en({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,trace_id:this.traceId})}toJSON(){return en({data:Object.keys(this.data).length>0?this.data:void 0,description:this.description,op:this.op,parent_span_id:this.parentSpanId,span_id:this.spanId,start_timestamp:this.startTimestamp,status:this.status,tags:Object.keys(this.tags).length>0?this.tags:void 0,timestamp:this.endTimestamp,trace_id:this.traceId})}};function ul(n){if(n<400&&n>=100)return"ok";if(n>=400&&n<500)switch(n){case 401:return"unauthenticated";case 403:return"permission_denied";case 404:return"not_found";case 409:return"already_exists";case 413:return"failed_precondition";case 429:return"resource_exhausted";default:return"invalid_argument"}if(n>=500&&n<600)switch(n){case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline_exceeded";default:return"internal_error"}return"unknown_error"}f();var kn=class extends Ft{__init(){this._measurements={}}__init2(){this._contexts={}}__init3(){this._frozenDynamicSamplingContext=void 0}constructor(e,t){super(e),kn.prototype.__init.call(this),kn.prototype.__init2.call(this),kn.prototype.__init3.call(this),this._hub=t||ne(),this._name=e.name||"",this.metadata={source:"custom",...e.metadata,spanMetadata:{}},this._trimEnd=e.trimEnd,this.transaction=this;let r=this.metadata.dynamicSamplingContext;r&&(this._frozenDynamicSamplingContext={...r})}get name(){return this._name}set name(e){this.setName(e)}setName(e,t="custom"){this._name=e,this.metadata.source=t}initSpanRecorder(e=1e3){this.spanRecorder||(this.spanRecorder=new Mi(e)),this.spanRecorder.add(this)}setContext(e,t){t===null?delete this._contexts[e]:this._contexts[e]=t}setMeasurement(e,t,r=""){this._measurements[e]={value:t,unit:r}}setMetadata(e){this.metadata={...this.metadata,...e}}finish(e){if(this.endTimestamp!==void 0)return;this.name||((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("Transaction has no name, falling back to `<unlabeled transaction>`."),this.name="<unlabeled transaction>"),super.finish(e);let t=this._hub.getClient();if(t&&t.emit&&t.emit("finishTransaction",this),this.sampled!==!0){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Tracing] Discarding transaction because its trace was not chosen to be sampled."),t&&t.recordDroppedEvent("sample_rate","transaction");return}let r=this.spanRecorder?this.spanRecorder.spans.filter(a=>a!==this&&a.endTimestamp):[];this._trimEnd&&r.length>0&&(this.endTimestamp=r.reduce((a,c)=>a.endTimestamp&&c.endTimestamp?a.endTimestamp>c.endTimestamp?a:c:a).endTimestamp);let i=this.metadata,s={contexts:{...this._contexts,trace:this.getTraceContext()},spans:r,start_timestamp:this.startTimestamp,tags:this.tags,timestamp:this.endTimestamp,transaction:this.name,type:"transaction",sdkProcessingMetadata:{...i,dynamicSamplingContext:this.getDynamicSamplingContext()},...i.source&&{transaction_info:{source:i.source}}};return Object.keys(this._measurements).length>0&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Measurements] Adding measurements to transaction",JSON.stringify(this._measurements,void 0,2)),s.measurements=this._measurements),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`[Tracing] Finishing ${this.op} transaction: ${this.name}.`),this._hub.captureEvent(s)}toContext(){let e=super.toContext();return en({...e,name:this.name,trimEnd:this._trimEnd})}updateWithContext(e){return super.updateWithContext(e),this.name=e.name||"",this._trimEnd=e.trimEnd,this}getDynamicSamplingContext(){if(this._frozenDynamicSamplingContext)return this._frozenDynamicSamplingContext;let e=this._hub||ne(),t=e&&e.getClient();if(!t)return{};let{environment:r,release:i}=t.getOptions()||{},{publicKey:s}=t.getDsn()||{},o=this.metadata.sampleRate,a=o!==void 0?o.toString():void 0,{segment:c}=e.getScope().getUser()||{},u=this.metadata.source,l=u&&u!=="url"?this.name:void 0,h=en({environment:r||oo,release:i,transaction:l,user_segment:c,public_key:s,trace_id:this.traceId,sample_rate:a});return t.emit&&t.emit("createDsc",h),h}setHub(e){this._hub=e}};var Ka={idleTimeout:1e3,finalTimeout:3e4,heartbeatInterval:5e3},I2="finishReason",Ha=["heartbeatFailed","idleTimeout","documentHidden","finalTimeout","externalFinish","cancelled"],mE=class extends Mi{constructor(e,t,r,i){super(i),this._pushActivity=e,this._popActivity=t,this.transactionSpanId=r}add(e){e.spanId!==this.transactionSpanId&&(e.finish=t=>{e.endTimestamp=typeof t=="number"?t:ki(),this._popActivity(e.spanId)},e.endTimestamp===void 0&&this._pushActivity(e.spanId)),super.add(e)}},rn=class extends kn{__init(){this.activities={}}__init2(){this._heartbeatCounter=0}__init3(){this._finished=!1}__init4(){this._idleTimeoutCanceledPermanently=!1}__init5(){this._beforeFinishCallbacks=[]}__init6(){this._finishReason=Ha[4]}constructor(e,t,r=Ka.idleTimeout,i=Ka.finalTimeout,s=Ka.heartbeatInterval,o=!1){super(e,t),this._idleHub=t,this._idleTimeout=r,this._finalTimeout=i,this._heartbeatInterval=s,this._onScope=o,rn.prototype.__init.call(this),rn.prototype.__init2.call(this),rn.prototype.__init3.call(this),rn.prototype.__init4.call(this),rn.prototype.__init5.call(this),rn.prototype.__init6.call(this),o&&(eD(t),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`Setting idle transaction on scope. Span ID: ${this.spanId}`),t.configureScope(a=>a.setSpan(this))),this._restartIdleTimeout(),setTimeout(()=>{this._finished||(this.setStatus("deadline_exceeded"),this._finishReason=Ha[3],this.finish())},this._finalTimeout)}finish(e=ki()){if(this._finished=!0,this.activities={},this.op==="ui.action.click"&&this.setTag(I2,this._finishReason),this.spanRecorder){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Tracing] finishing IdleTransaction",new Date(e*1e3).toISOString(),this.op);for(let t of this._beforeFinishCallbacks)t(this,e);this.spanRecorder.spans=this.spanRecorder.spans.filter(t=>{if(t.spanId===this.spanId)return!0;t.endTimestamp||(t.endTimestamp=e,t.setStatus("cancelled"),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Tracing] cancelling span since transaction ended early",JSON.stringify(t,void 0,2)));let r=t.startTimestamp<e;return r||(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Tracing] discarding Span since it happened after Transaction was finished",JSON.stringify(t,void 0,2)),r}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Tracing] flushing IdleTransaction")}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Tracing] No active IdleTransaction");return this._onScope&&eD(this._idleHub),super.finish(e)}registerBeforeFinishCallback(e){this._beforeFinishCallbacks.push(e)}initSpanRecorder(e){if(!this.spanRecorder){let t=i=>{this._finished||this._pushActivity(i)},r=i=>{this._finished||this._popActivity(i)};this.spanRecorder=new mE(t,r,this.spanId,e),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("Starting heartbeat"),this._pingHeartbeat()}this.spanRecorder.add(this)}cancelIdleTimeout(e,{restartOnChildSpanChange:t}={restartOnChildSpanChange:!0}){this._idleTimeoutCanceledPermanently=t===!1,this._idleTimeoutID&&(clearTimeout(this._idleTimeoutID),this._idleTimeoutID=void 0,Object.keys(this.activities).length===0&&this._idleTimeoutCanceledPermanently&&(this._finishReason=Ha[5],this.finish(e)))}setFinishReason(e){this._finishReason=e}_restartIdleTimeout(e){this.cancelIdleTimeout(),this._idleTimeoutID=setTimeout(()=>{!this._finished&&Object.keys(this.activities).length===0&&(this._finishReason=Ha[1],this.finish(e))},this._idleTimeout)}_pushActivity(e){this.cancelIdleTimeout(void 0,{restartOnChildSpanChange:!this._idleTimeoutCanceledPermanently}),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`[Tracing] pushActivity: ${e}`),this.activities[e]=!0,(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Tracing] new activities count",Object.keys(this.activities).length)}_popActivity(e){if(this.activities[e]&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`[Tracing] popActivity ${e}`),delete this.activities[e],(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Tracing] new activities count",Object.keys(this.activities).length)),Object.keys(this.activities).length===0){let t=ki();this._idleTimeoutCanceledPermanently?(this._finishReason=Ha[5],this.finish(t)):this._restartIdleTimeout(t+this._idleTimeout/1e3)}}_beat(){if(this._finished)return;let e=Object.keys(this.activities).join("");e===this._prevHeartbeatString?this._heartbeatCounter++:this._heartbeatCounter=1,this._prevHeartbeatString=e,this._heartbeatCounter>=3?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Tracing] Transaction finished because of no change for 3 heart beats"),this.setStatus("deadline_exceeded"),this._finishReason=Ha[0],this.finish()):this._pingHeartbeat()}_pingHeartbeat(){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`pinging Heartbeat -> current counter: ${this._heartbeatCounter}`),setTimeout(()=>{this._beat()},this._heartbeatInterval)}};function eD(n){let e=n.getScope();e.getTransaction()&&e.setSpan(void 0)}function w2(){let e=this.getScope().getSpan();return e?{"sentry-trace":e.toTraceparent()}:{}}function tD(n,e,t){if(!ao(e))return n.sampled=!1,n;if(n.sampled!==void 0)return n.setMetadata({sampleRate:Number(n.sampled)}),n;let r;return typeof e.tracesSampler=="function"?(r=e.tracesSampler(t),n.setMetadata({sampleRate:Number(r)})):t.parentSampled!==void 0?r=t.parentSampled:typeof e.tracesSampleRate<"u"?(r=e.tracesSampleRate,n.setMetadata({sampleRate:Number(r)})):(r=1,n.setMetadata({sampleRate:r})),T2(r)?r?(n.sampled=Math.random()<r,n.sampled?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`[Tracing] starting ${n.op} transaction - ${n.name}`),n):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`[Tracing] Discarding transaction because it's not included in the random sample (sampling rate = ${Number(r)})`),n)):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`[Tracing] Discarding transaction because ${typeof e.tracesSampler=="function"?"tracesSampler returned 0 or false":"a negative sampling decision was inherited or tracesSampleRate is set to 0"}`),n.sampled=!1,n):((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("[Tracing] Discarding transaction because of invalid sample rate."),n.sampled=!1,n)}function T2(n){return el(n)||!(typeof n=="number"||typeof n=="boolean")?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`[Tracing] Given sample rate is invalid. Sample rate must be a boolean or a number between 0 and 1. Got ${JSON.stringify(n)} of type ${JSON.stringify(typeof n)}.`),!1):n<0||n>1?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`[Tracing] Given sample rate is invalid. Sample rate must be between 0 and 1. Got ${n}.`),!1):!0}function S2(n,e){let t=this.getClient(),r=t&&t.getOptions()||{},i=r.instrumenter||"sentry",s=n.instrumenter||"sentry";i!==s&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error(`A transaction was started with instrumenter=\`${s}\`, but the SDK is configured with the \`${i}\` instrumenter.
The transaction will not be sampled. Please use the ${i} instrumentation to start transactions.`),n.sampled=!1);let o=new kn(n,this);return o=tD(o,r,{parentSampled:n.parentSampled,transactionContext:n,...e}),o.sampled&&o.initSpanRecorder(r._experiments&&r._experiments.maxSpans),t&&t.emit&&t.emit("startTransaction",o),o}function ll(n,e,t,r,i,s,o){let a=n.getClient(),c=a&&a.getOptions()||{},u=new rn(e,n,t,r,o,i);return u=tD(u,c,{parentSampled:e.parentSampled,transactionContext:e,...s}),u.sampled&&u.initSpanRecorder(c._experiments&&c._experiments.maxSpans),a&&a.emit&&a.emit("startTransaction",u),u}function hl(){let n=zr();n.__SENTRY__&&(n.__SENTRY__.extensions=n.__SENTRY__.extensions||{},n.__SENTRY__.extensions.startTransaction||(n.__SENTRY__.extensions.startTransaction=S2),n.__SENTRY__.extensions.traceHeaders||(n.__SENTRY__.extensions.traceHeaders=w2),Zx())}f();function C2(n,e,t=()=>{}){let r={...n};r.name!==void 0&&r.description===void 0&&(r.description=r.name);let i=ne(),s=i.getScope(),o=s.getSpan(),a=o?o.startChild(r):i.startTransaction(r);s.setSpan(a);function c(){a&&a.finish(),i.getScope().setSpan(o)}let u;try{u=e(a)}catch(l){throw a&&a.setStatus("internal_error"),t(l),c(),l}return He(u)?Promise.resolve(u).then(()=>{c()},l=>{a&&a.setStatus("internal_error"),t(l),c()}):c(),u}f();function gE(n,e){return ne().captureException(n,{captureContext:e})}function A2(n,e){let t=typeof e=="string"?e:void 0,r=typeof e!="string"?{captureContext:e}:void 0;return ne().captureMessage(n,t,r)}function R2(n,e){return ne().captureEvent(n,e)}function Ya(n){ne().configureScope(n)}function _E(n){ne().addBreadcrumb(n)}function x2(n,e){ne().setContext(n,e)}function D2(n){ne().setExtras(n)}function O2(n,e){ne().setExtra(n,e)}function N2(n){ne().setTags(n)}function k2(n,e){ne().setTag(n,e)}function P2(n){ne().setUser(n)}function M2(n){ne().withScope(n)}function yE(n,e){return ne().startTransaction({...n},e)}f();var B2="7";function nD(n){let e=n.protocol?`${n.protocol}:`:"",t=n.port?`:${n.port}`:"";return`${e}//${n.host}${t}${n.path?`/${n.path}`:""}/api/`}function L2(n){return`${nD(n)}${n.projectId}/envelope/`}function U2(n,e){return jv({sentry_key:n.publicKey,sentry_version:B2,...e&&{sentry_client:`${e.name}/${e.version}`}})}function vE(n,e={}){let t=typeof e=="string"?e:e.tunnel,r=typeof e=="string"||!e._metadata?void 0:e._metadata.sdk;return t||`${L2(n)}?${U2(n,r)}`}function F2(n,e){let t=tl(n),r=`${nD(t)}embed/error-page/`,i=`dsn=${io(t)}`;for(let s in e)if(s!=="dsn")if(s==="user"){let o=e.user;if(!o)continue;o.name&&(i+=`&name=${encodeURIComponent(o.name)}`),o.email&&(i+=`&email=${encodeURIComponent(o.email)}`)}else i+=`&${encodeURIComponent(s)}=${encodeURIComponent(e[s])}`;return`${r}?${i}`}f();f();function q2(n,e){return e&&(n.sdk=n.sdk||{},n.sdk.name=n.sdk.name||e.name,n.sdk.version=n.sdk.version||e.version,n.sdk.integrations=[...n.sdk.integrations||[],...e.integrations||[]],n.sdk.packages=[...n.sdk.packages||[],...e.packages||[]]),n}function rD(n,e,t,r){let i=Mf(t),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&{dsn:io(e)}},o="aggregates"in n?[{type:"sessions"},n]:[{type:"session"},n];return Pi(s,[o])}function iD(n,e,t,r){let i=Mf(t),s=n.type&&n.type!=="replay_event"?n.type:"event";q2(n,t&&t.sdk);let o=oE(n,i,r,e);return delete n.sdkProcessingMetadata,Pi(o,[[{type:s},n]])}f();var sD=[];function V2(n){let e={};return n.forEach(t=>{let{name:r}=t,i=e[r];i&&!i.isDefaultInstance&&t.isDefaultInstance||(e[r]=t)}),Object.keys(e).map(t=>e[t])}function j2(n){let e=n.defaultIntegrations||[],t=n.integrations;e.forEach(o=>{o.isDefaultInstance=!0});let r;Array.isArray(t)?r=[...e,...t]:typeof t=="function"?r=Ni(t(e)):r=e;let i=V2(r),s=z2(i,o=>o.name==="Debug");if(s!==-1){let[o]=i.splice(s,1);i.push(o)}return i}function oD(n){let e={};return n.forEach(t=>{t&&EE(t,e)}),e}function EE(n,e){e[n.name]=n,sD.indexOf(n.name)===-1&&(n.setupOnce(hE,ne),sD.push(n.name),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`Integration installed: ${n.name}`))}function z2(n,e){for(let t=0;t<n.length;t++)if(e(n[t])===!0)return t;return-1}f();function bE(n,e,t,r){let{normalizeDepth:i=3,normalizeMaxBreadth:s=1e3}=n,o={...e,event_id:e.event_id||t.event_id||tn(),timestamp:e.timestamp||qr()},a=t.integrations||n.integrations.map(l=>l.name);$2(o,n),W2(o,a),G2(o,n.stackParser);let c=r;t.captureContext&&(c=nn.clone(c).update(t.captureContext));let u=er(o);if(c){if(c.getAttachments){let l=[...t.attachments||[],...c.getAttachments()];l.length&&(t.attachments=l)}u=c.applyToEvent(o,t)}return u.then(l=>typeof i=="number"&&i>0?H2(l,i,s):l)}function $2(n,e){let{environment:t,release:r,dist:i,maxValueLength:s=250}=e;"environment"in n||(n.environment="environment"in e?t:oo),n.release===void 0&&r!==void 0&&(n.release=r),n.dist===void 0&&i!==void 0&&(n.dist=i),n.message&&(n.message=Di(n.message,s));let o=n.exception&&n.exception.values&&n.exception.values[0];o&&o.value&&(o.value=Di(o.value,s));let a=n.request;a&&a.url&&(a.url=Di(a.url,s))}function G2(n,e){let t=nt._sentryDebugIds;if(!t)return;let r=Object.keys(t).reduce((o,a)=>{let c=e(a);for(let u of c)if(u.filename){o[u.filename]=t[a];break}return o},{}),i=new Set;try{n.exception.values.forEach(o=>{o.stacktrace.frames.forEach(a=>{a.filename&&i.add(a.filename)})})}catch(o){}n.debug_meta=n.debug_meta||{},n.debug_meta.images=n.debug_meta.images||[];let s=n.debug_meta.images;i.forEach(o=>{r[o]&&s.push({type:"sourcemap",code_file:o,debug_id:r[o]})})}function W2(n,e){e.length>0&&(n.sdk=n.sdk||{},n.sdk.integrations=[...n.sdk.integrations||[],...e])}function H2(n,e,t){if(!n)return null;let r={...n,...n.breadcrumbs&&{breadcrumbs:n.breadcrumbs.map(i=>({...i,...i.data&&{data:On(i.data,e,t)}}))},...n.user&&{user:On(n.user,e,t)},...n.contexts&&{contexts:On(n.contexts,e,t)},...n.extra&&{extra:On(n.extra,e,t)}};return n.contexts&&n.contexts.trace&&r.contexts&&(r.contexts.trace=n.contexts.trace,n.contexts.trace.data&&(r.contexts.trace.data=On(n.contexts.trace.data,e,t))),n.spans&&(r.spans=n.spans.map(i=>(i.data&&(i.data=On(i.data,e,t)),i))),r}var aD="Not capturing exception because it's already been captured.",$r=class{__init(){this._integrations={}}__init2(){this._integrationsInitialized=!1}__init3(){this._numProcessing=0}__init4(){this._outcomes={}}__init5(){this._hooks={}}constructor(e){if($r.prototype.__init.call(this),$r.prototype.__init2.call(this),$r.prototype.__init3.call(this),$r.prototype.__init4.call(this),$r.prototype.__init5.call(this),this._options=e,e.dsn){this._dsn=tl(e.dsn);let t=vE(this._dsn,e);this._transport=e.transport({recordDroppedEvent:this.recordDroppedEvent.bind(this),...e.transportOptions,url:t})}else(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("No DSN provided, client will not do anything.")}captureException(e,t,r){if(Of(e)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(aD);return}let i=t&&t.event_id;return this._process(this.eventFromException(e,t).then(s=>this._captureEvent(s,t,r)).then(s=>{i=s})),i}captureMessage(e,t,r,i){let s=r&&r.event_id,o=bf(e)?this.eventFromMessage(String(e),t,r):this.eventFromException(e,r);return this._process(o.then(a=>this._captureEvent(a,r,i)).then(a=>{s=a})),s}captureEvent(e,t,r){if(t&&t.originalException&&Of(t.originalException)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(aD);return}let i=t&&t.event_id;return this._process(this._captureEvent(e,t,r).then(s=>{i=s})),i}captureSession(e){if(!this._isEnabled()){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("SDK not enabled, will not capture session.");return}typeof e.release!="string"?(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("Discarded session because of missing or non-string release"):(this.sendSession(e),Vr(e,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(e){let t=this._transport;return t?this._isClientDoneProcessing(e).then(r=>t.flush(e).then(i=>r&&i)):er(!0)}close(e){return this.flush(e).then(t=>(this.getOptions().enabled=!1,t))}setupIntegrations(){this._isEnabled()&&!this._integrationsInitialized&&(this._integrations=oD(this._options.integrations),this._integrationsInitialized=!0)}getIntegrationById(e){return this._integrations[e]}getIntegration(e){try{return this._integrations[e.id]||null}catch(t){return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`Cannot retrieve integration ${e.id} from the current Client`),null}}addIntegration(e){EE(e,this._integrations)}sendEvent(e,t={}){if(this._dsn){let r=iD(e,this._dsn,this._options._metadata,this._options.tunnel);for(let s of t.attachments||[])r=nE(r,sE(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));let i=this._sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",e,s),null)}}sendSession(e){if(this._dsn){let t=rD(e,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(t)}}recordDroppedEvent(e,t,r){if(this._options.sendClientReports){let i=`${e}:${t}`;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}on(e,t){this._hooks[e]||(this._hooks[e]=[]),this._hooks[e].push(t)}emit(e,...t){this._hooks[e]&&this._hooks[e].forEach(r=>r(...t))}_updateSessionFromEvent(e,t){let r=!1,i=!1,s=t.exception&&t.exception.values;if(s){i=!0;for(let c of s){let u=c.mechanism;if(u&&u.handled===!1){r=!0;break}}}let o=e.status==="ok";(o&&e.errors===0||o&&r)&&(Vr(e,{...r&&{status:"crashed"},errors:e.errors||Number(i||r)}),this.captureSession(e))}_isClientDoneProcessing(e){return new Le(t=>{let r=0,i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),t(!0)):(r+=i,e&&r>=e&&(clearInterval(s),t(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._dsn!==void 0}_prepareEvent(e,t,r){let i=this.getOptions(),s=Object.keys(this._integrations);return!t.integrations&&s.length>0&&(t.integrations=s),bE(i,e,t,r)}_captureEvent(e,t={},r){return this._processEvent(e,t,r).then(i=>i.event_id,i=>{if(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__){let s=i;s.logLevel==="log"?v.log(s.message):v.warn(s)}})}_processEvent(e,t,r){let i=this.getOptions(),{sampleRate:s}=i;if(!this._isEnabled())return $a(new we("SDK not enabled, will not capture event.","log"));let o=uD(e),a=cD(e),c=e.type||"error",u=`before send for type \`${c}\``;if(a&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",e),$a(new we(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));let l=c==="replay_event"?"replay":c;return this._prepareEvent(e,t,r).then(h=>{if(h===null)throw this.recordDroppedEvent("event_processor",l,e),new we("An event processor returned `null`, will not send event.","log");if(t.data&&t.data.__sentry__===!0)return h;let p=Y2(i,h,t);return K2(p,u)}).then(h=>{if(h===null)throw this.recordDroppedEvent("before_send",l,e),new we(`${u} returned \`null\`, will not send event.`,"log");let d=r&&r.getSession();!o&&d&&this._updateSessionFromEvent(d,h);let p=h.transaction_info;if(o&&p&&h.transaction!==e.transaction){let m="custom";h.transaction_info={...p,source:m}}return this.sendEvent(h,t),h}).then(null,h=>{throw h instanceof we?h:(this.captureException(h,{data:{__sentry__:!0},originalException:h}),new we(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${h}`))})}_process(e){this._numProcessing++,e.then(t=>(this._numProcessing--,t),t=>(this._numProcessing--,t))}_sendEnvelope(e){if(this._transport&&this._dsn)return this.emit("beforeEnvelope",e),this._transport.send(e).then(null,t=>{(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("Error while sending event:",t)});(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("Transport disabled")}_clearOutcomes(){let e=this._outcomes;return this._outcomes={},Object.keys(e).map(t=>{let[r,i]=t.split(":");return{reason:r,category:i,quantity:e[t]}})}};function K2(n,e){let t=`${e} must return \`null\` or a valid event.`;if(He(n))return n.then(r=>{if(!Br(r)&&r!==null)throw new we(t);return r},r=>{throw new we(`${e} rejected with ${r}`)});if(!Br(n)&&n!==null)throw new we(t);return n}function Y2(n,e,t){let{beforeSend:r,beforeSendTransaction:i}=n;return cD(e)&&r?r(e,t):uD(e)&&i?i(e,t):e}function cD(n){return n.type===void 0}function uD(n){return n.type==="transaction"}f();function Q2(n,e){e.debug===!0&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__?v.enable():console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle."));let t=ne();t.getScope().update(e.initialScope);let i=new n(e);t.bindClient(i)}f();var J2=30;function X2(n,e,t=Qv(n.bufferSize||J2)){let r={},i=o=>t.drain(o);function s(o){let a=[];if(al(o,(h,d)=>{let p=Pf(d);if(aE(r,p)){let m=lD(h,d);n.recordDroppedEvent("ratelimit_backoff",p,m)}else a.push(h)}),a.length===0)return er();let c=Pi(o[0],a),u=h=>{al(c,(d,p)=>{let m=lD(d,p);n.recordDroppedEvent(h,Pf(p),m)})},l=()=>e({body:iE(c,n.textEncoder)}).then(h=>(h.statusCode!==void 0&&(h.statusCode<200||h.statusCode>=300)&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`Sentry responded with status code ${h.statusCode} to sent event.`),r=cE(r,h),h),h=>{throw u("network_error"),h});return t.add(l).then(h=>h,h=>{if(h instanceof we)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("Skipped sending event because buffer is full."),u("queue_overflow"),er();throw h})}return s.__sentry__baseTransport__=!0,{send:s,flush:i}}function lD(n,e){if(!(e!=="event"&&e!=="transaction"))return Array.isArray(n)?n[1]:void 0}f();var Z2=100,hD=5e3,eq=36e5;function IE(n,e){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.info(`[Offline]: ${n}`,e)}function tq(n){return e=>{let t=n(e),r=e.createStore?e.createStore(e):void 0,i=hD,s;function o(l,h,d){return rE(l,["replay_event","replay_recording","client_report"])?!1:e.shouldStore?e.shouldStore(l,h,d):!0}function a(l){r&&(s&&clearTimeout(s),s=setTimeout(async()=>{s=void 0;let h=await r.pop();h&&(IE("Attempting to send previously queued event"),u(h).catch(d=>{IE("Failed to retry sending",d)}))},l),typeof s!="number"&&s.unref&&s.unref())}function c(){s||(a(i),i=Math.min(i*2,eq))}async function u(l){try{let h=await t.send(l),d=Z2;if(h){if(h.headers&&h.headers["retry-after"])d=Bf(h.headers["retry-after"]);else if((h.statusCode||0)>=400)return h}return a(d),i=hD,h}catch(h){if(r&&await o(l,h,i))return await r.insert(l),c(),IE("Error sending. Event queued",h),{};throw h}}return e.flushAtStartup&&c(),{send:u,flush:l=>t.flush(l)}}}f();var nq="7.46.0";var fD={};Vm(fD,{FunctionToString:()=>Gr,InboundFilters:()=>nr});f();f();var dD,Gr=class{constructor(){Gr.prototype.__init.call(this)}static __initStatic(){this.id="FunctionToString"}__init(){this.name=Gr.id}setupOnce(){dD=Function.prototype.toString,Function.prototype.toString=function(...e){let t=Vv(this)||this;return dD.apply(t,e)}}};Gr.__initStatic();f();var rq=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/],nr=class{static __initStatic(){this.id="InboundFilters"}__init(){this.name=nr.id}constructor(e={}){this._options=e,nr.prototype.__init.call(this)}setupOnce(e,t){let r=i=>{let s=t();if(s){let o=s.getIntegration(nr);if(o){let a=s.getClient(),c=a?a.getOptions():{},u=iq(o._options,c);return sq(i,u)?null:i}}return i};r.id=this.name,e(r)}};nr.__initStatic();function iq(n={},e={}){return{allowUrls:[...n.allowUrls||[],...e.allowUrls||[]],denyUrls:[...n.denyUrls||[],...e.denyUrls||[]],ignoreErrors:[...n.ignoreErrors||[],...e.ignoreErrors||[],...rq],ignoreTransactions:[...n.ignoreTransactions||[],...e.ignoreTransactions||[]],ignoreInternal:n.ignoreInternal!==void 0?n.ignoreInternal:!0}}function sq(n,e){return e.ignoreInternal&&hq(n)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`Event dropped due to being internal Sentry Error.
Event: ${Ur(n)}`),!0):oq(n,e.ignoreErrors)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Ur(n)}`),!0):aq(n,e.ignoreTransactions)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Ur(n)}`),!0):cq(n,e.denyUrls)?((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Ur(n)}.
Url: ${Ff(n)}`),!0):uq(n,e.allowUrls)?!1:((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Ur(n)}.
Url: ${Ff(n)}`),!0)}function oq(n,e){return n.type||!e||!e.length?!1:lq(n).some(t=>Oi(t,e))}function aq(n,e){if(n.type!=="transaction"||!e||!e.length)return!1;let t=n.transaction;return t?Oi(t,e):!1}function cq(n,e){if(!e||!e.length)return!1;let t=Ff(n);return t?Oi(t,e):!1}function uq(n,e){if(!e||!e.length)return!0;let t=Ff(n);return t?Oi(t,e):!0}function lq(n){if(n.message)return[n.message];if(n.exception)try{let{type:e="",value:t=""}=n.exception.values&&n.exception.values[0]||{};return[`${t}`,`${e}: ${t}`]}catch(e){return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error(`Cannot extract message for event ${Ur(n)}`),[]}return[]}function hq(n){try{return n.exception.values[0].type==="SentryError"}catch(e){}return!1}function dq(n=[]){for(let e=n.length-1;e>=0;e--){let t=n[e];if(t&&t.filename!=="<anonymous>"&&t.filename!=="[native code]")return t.filename||null}return null}function Ff(n){try{let e;try{e=n.exception.values[0].stacktrace.frames}catch(t){}return e?dq(e):null}catch(e){return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error(`Cannot extract url for event ${Ur(n)}`),null}}function $9(n,e={}){Ya(r=>{e.attachments&&e.attachments.length&&e.attachments.forEach(i=>{r.addAttachment({filename:i.name,data:i.body,contentType:i.type})})});let t=gE(n,{tags:e.tags||{},extra:e.extra});return Ya(r=>{r.clearAttachments()}),t}f();f();f();f();f();f();f();function P(n){let e,t=n[0],r=1;for(;r<n.length;){let i=n[r],s=n[r+1];if(r+=2,(i==="optionalAccess"||i==="optionalCall")&&t==null)return;i==="access"||i==="optionalAccess"?(e=t,t=s(t)):(i==="call"||i==="optionalCall")&&(t=s((...o)=>t.call(e,...o)),e=void 0)}return t}f();function qt(n){let e=P([n,"call",r=>r(),"access",r=>r.getClient,"call",r=>r(),"optionalAccess",r=>r.getOptions,"call",r=>r()]);return(P([e,"optionalAccess",r=>r.instrumenter])||"sentry")!=="sentry"}var Bi=class{static __initStatic(){this.id="Express"}__init(){this.name=Bi.id}constructor(e={}){Bi.prototype.__init.call(this),this._router=e.router||e.app,this._methods=(Array.isArray(e.methods)?e.methods:[]).concat("use")}setupOnce(e,t){if(!this._router){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("ExpressIntegration is missing an Express instance");return}if(qt(t)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("Express Integration is skipped because of instrumenter configuration.");return}mq(this._router,this._methods),gq(this._router)}};Bi.__initStatic();function mD(n,e){let t=n.length;switch(t){case 2:return function(r,i){let s=i.__sentry_transaction;if(s){let o=s.startChild({description:n.name,op:`middleware.express.${e}`});i.once("finish",()=>{o.finish()})}return n.call(this,r,i)};case 3:return function(r,i,s){let o=i.__sentry_transaction,a=P([o,"optionalAccess",c=>c.startChild,"call",c=>c({description:n.name,op:`middleware.express.${e}`})]);n.call(this,r,i,function(...c){P([a,"optionalAccess",u=>u.finish,"call",u=>u()]),s.call(this,...c)})};case 4:return function(r,i,s,o){let a=s.__sentry_transaction,c=P([a,"optionalAccess",u=>u.startChild,"call",u=>u({description:n.name,op:`middleware.express.${e}`})]);n.call(this,r,i,s,function(...u){P([c,"optionalAccess",l=>l.finish,"call",l=>l()]),o.call(this,...u)})};default:throw new Error(`Express middleware takes 2-4 arguments. Got: ${t}`)}}function fq(n,e){return n.map(t=>typeof t=="function"?mD(t,e):Array.isArray(t)?t.map(r=>typeof r=="function"?mD(r,e):r):t)}function pq(n,e){let t=n[e];return n[e]=function(...r){return t.call(this,...fq(r,e))},n}function mq(n,e=[]){e.forEach(t=>pq(n,t))}function gq(n){let e="settings"in n;e&&n._router===void 0&&n.lazyrouter&&n.lazyrouter();let t=e?n._router:n;if(!t){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.debug("Cannot instrument router for URL Parameterization (did not find a valid router)."),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.debug("Routing instrumentation is currently only supported in Express 4.");return}let r=Object.getPrototypeOf(t),i=r.process_params;r.process_params=function(o,a,c,u,l){c._reconstructedRoute||(c._reconstructedRoute="");let{layerRoutePath:h,isRegex:d,isArray:p,numExtraSegments:m}=_q(o);(h||d||p)&&(c._hasParameters=!0);let E=(h||o.path||"").split("/").filter(A=>A.length>0&&(d||p||!A.includes("*"))).join("/");E&&E.length>0&&(c._reconstructedRoute+=`/${E}${d?"/":""}`);let N=Ga(c.originalUrl||"")+m,B=Ga(c._reconstructedRoute);if(N===B){c._hasParameters||c._reconstructedRoute!==c.originalUrl&&(c._reconstructedRoute=c.originalUrl);let A=u.__sentry_transaction;if(A&&A.metadata.source!=="custom"){let L=c._reconstructedRoute||"/";A.setName(...Jv(c,{path:!0,method:!0,customRoute:L}))}}return i.call(this,o,a,c,u,l)}}function _q(n){let e=P([n,"access",o=>o.route,"optionalAccess",o=>o.path]),t=Zu(e),r=Array.isArray(e);if(!e)return{isRegex:t,isArray:r,numExtraSegments:0};let i=r?Math.max(yq(e)-Ga(n.path||""),0):0;return{layerRoutePath:vq(r,e),isRegex:t,isArray:r,numExtraSegments:i}}function yq(n){return n.reduce((e,t)=>e+Ga(t.toString()),0)}function vq(n,e){return n?e.map(t=>t.toString()).join(","):e&&e.toString()}f();var Li=class{static __initStatic(){this.id="Postgres"}__init(){this.name=Li.id}constructor(e={}){Li.prototype.__init.call(this),this._usePgNative=!!e.usePgNative}loadDependency(){return this._module=this._module||Ut("pg")}setupOnce(e,t){if(qt(t)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("Postgres Integration is skipped because of instrumenter configuration.");return}let r=this.loadDependency();if(!r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("Postgres Integration was unable to require `pg` package.");return}if(this._usePgNative&&!P([r,"access",s=>s.native,"optionalAccess",s=>s.Client])){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("Postgres Integration was unable to access 'pg-native' bindings.");return}let{Client:i}=this._usePgNative?r.native:r;ve(i.prototype,"query",function(s){return function(o,a,c){let u=t().getScope(),l=P([u,"optionalAccess",p=>p.getSpan,"call",p=>p()]),h=P([l,"optionalAccess",p=>p.startChild,"call",p=>p({description:typeof o=="string"?o:o.text,op:"db"})]);if(typeof c=="function")return s.call(this,o,a,function(p,m){P([h,"optionalAccess",_=>_.finish,"call",_=>_()]),c(p,m)});if(typeof a=="function")return s.call(this,o,function(p,m){P([h,"optionalAccess",_=>_.finish,"call",_=>_()]),a(p,m)});let d=typeof a<"u"?s.call(this,o,a):s.call(this,o);return He(d)?d.then(p=>(P([h,"optionalAccess",m=>m.finish,"call",m=>m()]),p)):(P([h,"optionalAccess",p=>p.finish,"call",p=>p()]),d)}})}};Li.__initStatic();f();var Ui=class{constructor(){Ui.prototype.__init.call(this)}static __initStatic(){this.id="Mysql"}__init(){this.name=Ui.id}loadDependency(){return this._module=this._module||Ut("mysql/lib/Connection.js")}setupOnce(e,t){if(qt(t)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("Mysql Integration is skipped because of instrumenter configuration.");return}let r=this.loadDependency();if(!r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("Mysql Integration was unable to require `mysql` package.");return}ve(r,"createQuery",function(i){return function(s,o,a){let c=t().getScope(),u=P([c,"optionalAccess",h=>h.getSpan,"call",h=>h()]),l=P([u,"optionalAccess",h=>h.startChild,"call",h=>h({description:typeof s=="string"?s:s.sql,op:"db"})]);return typeof a=="function"?i.call(this,s,o,function(h,d,p){P([l,"optionalAccess",m=>m.finish,"call",m=>m()]),a(h,d,p)}):typeof o=="function"?i.call(this,s,function(h,d,p){P([l,"optionalAccess",m=>m.finish,"call",m=>m()]),o(h,d,p)}):i.call(this,s,o,a)}})}};Ui.__initStatic();f();var Eq=["aggregate","bulkWrite","countDocuments","createIndex","createIndexes","deleteMany","deleteOne","distinct","drop","dropIndex","dropIndexes","estimatedDocumentCount","find","findOne","findOneAndDelete","findOneAndReplace","findOneAndUpdate","indexes","indexExists","indexInformation","initializeOrderedBulkOp","insertMany","insertOne","isCapped","mapReduce","options","parallelCollectionScan","rename","replaceOne","stats","updateMany","updateOne"],bq={bulkWrite:["operations"],countDocuments:["query"],createIndex:["fieldOrSpec"],createIndexes:["indexSpecs"],deleteMany:["filter"],deleteOne:["filter"],distinct:["key","query"],dropIndex:["indexName"],find:["query"],findOne:["query"],findOneAndDelete:["filter"],findOneAndReplace:["filter","replacement"],findOneAndUpdate:["filter","update"],indexExists:["indexes"],insertMany:["docs"],insertOne:["doc"],mapReduce:["map","reduce"],rename:["newName"],replaceOne:["filter","doc"],updateMany:["filter","update"],updateOne:["filter","update"]};function Iq(n){return n&&typeof n=="object"&&n.once&&typeof n.once=="function"}var Fi=class{static __initStatic(){this.id="Mongo"}__init(){this.name=Fi.id}constructor(e={}){Fi.prototype.__init.call(this),this._operations=Array.isArray(e.operations)?e.operations:Eq,this._describeOperations="describeOperations"in e?e.describeOperations:!0,this._useMongoose=!!e.useMongoose}loadDependency(){let e=this._useMongoose?"mongoose":"mongodb";return this._module=this._module||Ut(e)}setupOnce(e,t){if(qt(t)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("Mongo Integration is skipped because of instrumenter configuration.");return}let r=this.loadDependency();if(!r){let i=this._useMongoose?"mongoose":"mongodb";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error(`Mongo Integration was unable to require \`${i}\` package.`);return}this._instrumentOperations(r.Collection,this._operations,t)}_instrumentOperations(e,t,r){t.forEach(i=>this._patchOperation(e,i,r))}_patchOperation(e,t,r){if(!(t in e.prototype))return;let i=this._getSpanContextFromOperationArguments.bind(this);ve(e.prototype,t,function(s){return function(...o){let a=o[o.length-1],c=r().getScope(),u=P([c,"optionalAccess",h=>h.getSpan,"call",h=>h()]);if(typeof a!="function"||t==="mapReduce"&&o.length===2){let h=P([u,"optionalAccess",p=>p.startChild,"call",p=>p(i(this,t,o))]),d=s.call(this,...o);if(He(d))return d.then(p=>(P([h,"optionalAccess",m=>m.finish,"call",m=>m()]),p));if(Iq(d)){let p=d;try{p.once("close",()=>{P([h,"optionalAccess",m=>m.finish,"call",m=>m()])})}catch(m){P([h,"optionalAccess",_=>_.finish,"call",_=>_()])}return p}else return P([h,"optionalAccess",p=>p.finish,"call",p=>p()]),d}let l=P([u,"optionalAccess",h=>h.startChild,"call",h=>h(i(this,t,o.slice(0,-1)))]);return s.call(this,...o.slice(0,-1),function(h,d){P([l,"optionalAccess",p=>p.finish,"call",p=>p()]),a(h,d)})}})}_getSpanContextFromOperationArguments(e,t,r){let i={collectionName:e.collectionName,dbName:e.dbName,namespace:e.namespace},s={op:"db",description:t,data:i},o=bq[t],a=Array.isArray(this._describeOperations)?this._describeOperations.includes(t):this._describeOperations;if(!o||!a)return s;try{if(t==="mapReduce"){let[c,u]=r;i[o[0]]=typeof c=="string"?c:c.name||"<anonymous>",i[o[1]]=typeof u=="string"?u:u.name||"<anonymous>"}else for(let c=0;c<o.length;c++)i[o[c]]=JSON.stringify(r[c])}catch(c){}return s}};Fi.__initStatic();f();function wq(n){return n&&!!n.$use}var qi=class{static __initStatic(){this.id="Prisma"}__init(){this.name=qi.id}constructor(e={}){qi.prototype.__init.call(this),wq(e.client)?this._client=e.client:(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`Unsupported Prisma client provided to PrismaIntegration. Provided client: ${JSON.stringify(e.client)}`)}setupOnce(e,t){if(!this._client){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("PrismaIntegration is missing a Prisma Client Instance");return}if(qt(t)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("Prisma Integration is skipped because of instrumenter configuration.");return}this._client.$use((r,i)=>{let s=t().getScope(),o=P([s,"optionalAccess",h=>h.getSpan,"call",h=>h()]),a=r.action,c=r.model,u=P([o,"optionalAccess",h=>h.startChild,"call",h=>h({description:c?`${c} ${a}`:a,op:"db.sql.prisma"})]),l=i(r);return He(l)?l.then(h=>(P([u,"optionalAccess",d=>d.finish,"call",d=>d()]),h)):(P([u,"optionalAccess",h=>h.finish,"call",h=>h()]),l)})}};qi.__initStatic();f();var Vi=class{constructor(){Vi.prototype.__init.call(this)}static __initStatic(){this.id="GraphQL"}__init(){this.name=Vi.id}loadDependency(){return this._module=this._module||Ut("graphql/execution/execute.js")}setupOnce(e,t){if(qt(t)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("GraphQL Integration is skipped because of instrumenter configuration.");return}let r=this.loadDependency();if(!r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("GraphQL Integration was unable to require graphql/execution package.");return}ve(r,"execute",function(i){return function(...s){let o=t().getScope(),a=P([o,"optionalAccess",l=>l.getSpan,"call",l=>l()]),c=P([a,"optionalAccess",l=>l.startChild,"call",l=>l({description:"execute",op:"graphql.execute"})]);P([o,"optionalAccess",l=>l.setSpan,"call",l=>l(c)]);let u=i.call(this,...s);return He(u)?u.then(l=>(P([c,"optionalAccess",h=>h.finish,"call",h=>h()]),P([o,"optionalAccess",h=>h.setSpan,"call",h=>h(a)]),l)):(P([c,"optionalAccess",l=>l.finish,"call",l=>l()]),P([o,"optionalAccess",l=>l.setSpan,"call",l=>l(a)]),u)}})}};Vi.__initStatic();f();var ji=class{static __initStatic(){this.id="Apollo"}__init(){this.name=ji.id}constructor(e={useNestjs:!1}){ji.prototype.__init.call(this),this._useNest=!!e.useNestjs}loadDependency(){return this._useNest?this._module=this._module||Ut("@nestjs/graphql"):this._module=this._module||Ut("apollo-server-core"),this._module}setupOnce(e,t){if(qt(t)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("Apollo Integration is skipped because of instrumenter configuration.");return}if(this._useNest){let r=this.loadDependency();if(!r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("Apollo-NestJS Integration was unable to require @nestjs/graphql package.");return}ve(r.GraphQLFactory.prototype,"mergeWithSchema",function(i){return function(...s){return ve(this.resolversExplorerService,"explore",function(o){return function(){let a=Ni(o.call(this));return gD(a,t)}}),i.call(this,...s)}})}else{let r=this.loadDependency();if(!r){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.error("Apollo Integration was unable to require apollo-server-core package.");return}ve(r.ApolloServerBase.prototype,"constructSchema",function(i){return function(){if(!this.config.resolvers)return(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&(this.config.schema?(v.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `schema` property.If you are using NestJS with Apollo, please use `Sentry.Integrations.Apollo({ useNestjs: true })` instead."),v.warn()):this.config.modules&&v.warn("Apollo integration is not able to trace `ApolloServer` instances constructed via `modules` property."),v.error("Skipping tracing as no resolvers found on the `ApolloServer` instance.")),i.call(this);let s=Ni(this.config.resolvers);return this.config.resolvers=gD(s,t),i.call(this)}})}}};ji.__initStatic();function gD(n,e){return n.map(t=>(Object.keys(t).forEach(r=>{Object.keys(t[r]).forEach(i=>{typeof t[r][i]=="function"&&Tq(t,r,i,e)})}),t))}function Tq(n,e,t,r){ve(n[e],t,function(i){return function(...s){let o=r().getScope(),a=P([o,"optionalAccess",l=>l.getSpan,"call",l=>l()]),c=P([a,"optionalAccess",l=>l.startChild,"call",l=>l({description:`${e}.${t}`,op:"graphql.resolve"})]),u=i.call(this,...s);return He(u)?u.then(l=>(P([c,"optionalAccess",h=>h.finish,"call",h=>h()]),l)):(P([c,"optionalAccess",l=>l.finish,"call",l=>l()]),u)}})}f();f();f();f();var Y=nt;function _D(){Y&&Y.document?Y.document.addEventListener("visibilitychange",()=>{let n=Nn();if(Y.document.hidden&&n){let e="cancelled";(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`[Tracing] Transaction: ${e} -> since tab moved to the background, op: ${n.op}`),n.status||n.setStatus(e),n.setTag("visibilitychange","document.hidden"),n.finish()}}):(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("[Tracing] Could not set up background tab detection due to lack of global document")}f();f();f();var Qa=(n,e,t)=>{let r,i;return s=>{e.value>=0&&(s||t)&&(i=e.value-(r||0),(i||r===void 0)&&(r=e.value,e.delta=i,n(e)))}};f();f();var yD=()=>`v3-${Date.now()}-${Math.floor(Math.random()*8999999999999)+1e12}`;f();f();var Sq=()=>{let n=Y.performance.timing,e=Y.performance.navigation.type,t={entryType:"navigation",startTime:0,type:e==2?"back_forward":e===1?"reload":"navigate"};for(let r in n)r!=="navigationStart"&&r!=="toJSON"&&(t[r]=Math.max(n[r]-n.navigationStart,0));return t},qf=()=>Y.__WEB_VITALS_POLYFILL__?Y.performance&&(performance.getEntriesByType&&performance.getEntriesByType("navigation")[0]||Sq()):Y.performance&&performance.getEntriesByType&&performance.getEntriesByType("navigation")[0];var Vf=()=>{let n=qf();return n&&n.activationStart||0};var Ja=(n,e)=>{let t=qf(),r="navigate";return t&&(Y.document.prerendering||Vf()>0?r="prerender":r=t.type.replace(/_/g,"-")),{name:n,value:typeof e>"u"?-1:e,rating:"good",delta:0,entries:[],id:yD(),navigationType:r}};f();var Wr=(n,e,t)=>{try{if(PerformanceObserver.supportedEntryTypes.includes(n)){let r=new PerformanceObserver(i=>{e(i.getEntries())});return r.observe(Object.assign({type:n,buffered:!0},t||{})),r}}catch(r){}};f();var zi=(n,e)=>{let t=r=>{(r.type==="pagehide"||Y.document.visibilityState==="hidden")&&(n(r),e&&(removeEventListener("visibilitychange",t,!0),removeEventListener("pagehide",t,!0)))};addEventListener("visibilitychange",t,!0),addEventListener("pagehide",t,!0)};var vD=n=>{let e=Ja("CLS",0),t,r=0,i=[],s=a=>{a.forEach(c=>{if(!c.hadRecentInput){let u=i[0],l=i[i.length-1];r&&i.length!==0&&c.startTime-l.startTime<1e3&&c.startTime-u.startTime<5e3?(r+=c.value,i.push(c)):(r=c.value,i=[c]),r>e.value&&(e.value=r,e.entries=i,t&&t())}})},o=Wr("layout-shift",s);if(o){t=Qa(n,e);let a=()=>{s(o.takeRecords()),t(!0)};return zi(a),a}};f();f();var jf=-1,Cq=()=>Y.document.visibilityState==="hidden"&&!Y.document.prerendering?0:1/0,Aq=()=>{zi(({timeStamp:n})=>{jf=n},!0)},Xa=()=>(jf<0&&(jf=Cq(),Aq()),{get firstHiddenTime(){return jf}});var ED=n=>{let e=Xa(),t=Ja("FID"),r,i=a=>{a.startTime<e.firstHiddenTime&&(t.value=a.processingStart-a.startTime,t.entries.push(a),r(!0))},s=a=>{a.forEach(i)},o=Wr("first-input",s);r=Qa(n,t),o&&zi(()=>{s(o.takeRecords()),o.disconnect()},!0)};f();var bD={},ID=n=>{let e=Xa(),t=Ja("LCP"),r,i=o=>{let a=o[o.length-1];if(a){let c=Math.max(a.startTime-Vf(),0);c<e.firstHiddenTime&&(t.value=c,t.entries=[a],r())}},s=Wr("largest-contentful-paint",i);if(s){r=Qa(n,t);let o=()=>{bD[t.id]||(i(s.takeRecords()),s.disconnect(),bD[t.id]=!0,r(!0))};return["keydown","click"].forEach(a=>{addEventListener(a,o,{once:!0,capture:!0})}),zi(o,!0),o}};f();function zf(n){return typeof n=="number"&&isFinite(n)}function co(n,{startTimestamp:e,...t}){return e&&n.startTimestamp>e&&(n.startTimestamp=e),n.startChild({startTimestamp:e,...t})}function Ke(n){return n/1e3}function TD(){return Y&&Y.addEventListener&&Y.performance}var wD=0,Ae={},rr,dl;function SD(){let n=TD();if(n&&tr){n.mark&&Y.performance.mark("sentry-tracing-init"),Dq();let e=Rq(),t=xq();return()=>{e&&e(),t&&t()}}return()=>{}}function CD(){Wr("longtask",e=>{for(let t of e){let r=Nn();if(!r)return;let i=Ke(tr+t.startTime),s=Ke(t.duration);r.startChild({description:"Main UI thread blocked",op:"ui.long-task",startTimestamp:i,endTimestamp:i+s})}})}function AD(){Wr("event",e=>{for(let t of e){let r=Nn();if(!r)return;if(t.name==="click"){let i=Ke(tr+t.startTime),s=Ke(t.duration);r.startChild({description:ro(t.target),op:`ui.interaction.${t.name}`,startTimestamp:i,endTimestamp:i+s})}}},{durationThreshold:0})}function Rq(){return vD(n=>{let e=n.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Measurements] Adding CLS"),Ae.cls={value:n.value,unit:""},dl=e)})}function xq(){return ID(n=>{let e=n.entries.pop();e&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Measurements] Adding LCP"),Ae.lcp={value:n.value,unit:"millisecond"},rr=e)})}function Dq(){ED(n=>{let e=n.entries.pop();if(!e)return;let t=Ke(tr),r=Ke(e.startTime);(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Measurements] Adding FID"),Ae.fid={value:n.value,unit:"millisecond"},Ae["mark.fid"]={value:t+r,unit:"second"}})}function RD(n){let e=TD();if(!e||!Y.performance.getEntries||!tr)return;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Tracing] Adding & adjusting spans using Performance API");let t=Ke(tr),r=e.getEntries(),i,s;if(r.slice(wD).forEach(o=>{let a=Ke(o.startTime),c=Ke(o.duration);if(!(n.op==="navigation"&&t+a<n.startTimestamp))switch(o.entryType){case"navigation":{Nq(n,o,t),i=t+Ke(o.responseStart),s=t+Ke(o.requestStart);break}case"mark":case"paint":case"measure":{Oq(n,o,a,c,t);let u=Xa(),l=o.startTime<u.firstHiddenTime;o.name==="first-paint"&&l&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Measurements] Adding FP"),Ae.fp={value:o.startTime,unit:"millisecond"}),o.name==="first-contentful-paint"&&l&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Measurements] Adding FCP"),Ae.fcp={value:o.startTime,unit:"millisecond"});break}case"resource":{let u=o.name.replace(Y.location.origin,"");Pq(n,o,u,a,c,t);break}}}),wD=Math.max(r.length-1,0),Mq(n),n.op==="pageload"){typeof i=="number"&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Measurements] Adding TTFB"),Ae.ttfb={value:(i-n.startTimestamp)*1e3,unit:"millisecond"},typeof s=="number"&&s<=i&&(Ae["ttfb.requestTime"]={value:(i-s)*1e3,unit:"millisecond"})),["fcp","fp","lcp"].forEach(a=>{if(!Ae[a]||t>=n.startTimestamp)return;let c=Ae[a].value,u=t+Ke(c),l=Math.abs((u-n.startTimestamp)*1e3),h=l-c;(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`[Measurements] Normalized ${a} from ${c} to ${l} (${h})`),Ae[a].value=l});let o=Ae["mark.fid"];o&&Ae.fid&&(co(n,{description:"first input delay",endTimestamp:o.value+Ke(Ae.fid.value),op:"ui.action",startTimestamp:o.value}),delete Ae["mark.fid"]),"fcp"in Ae||delete Ae.cls,Object.keys(Ae).forEach(a=>{n.setMeasurement(a,Ae[a].value,Ae[a].unit)}),Bq(n)}rr=void 0,dl=void 0,Ae={}}function Oq(n,e,t,r,i){let s=i+t,o=s+r;return co(n,{description:e.name,endTimestamp:o,op:e.entryType,startTimestamp:s}),s}function Nq(n,e,t){["unloadEvent","redirect","domContentLoadedEvent","loadEvent","connect"].forEach(r=>{$f(n,e,r,t)}),$f(n,e,"secureConnection",t,"TLS/SSL","connectEnd"),$f(n,e,"fetch",t,"cache","domainLookupStart"),$f(n,e,"domainLookup",t,"DNS"),kq(n,e,t)}function $f(n,e,t,r,i,s){let o=s?e[s]:e[`${t}End`],a=e[`${t}Start`];!a||!o||co(n,{op:"browser",description:i||t,startTimestamp:r+Ke(a),endTimestamp:r+Ke(o)})}function kq(n,e,t){co(n,{op:"browser",description:"request",startTimestamp:t+Ke(e.requestStart),endTimestamp:t+Ke(e.responseEnd)}),co(n,{op:"browser",description:"response",startTimestamp:t+Ke(e.responseStart),endTimestamp:t+Ke(e.responseEnd)})}function Pq(n,e,t,r,i,s){if(e.initiatorType==="xmlhttprequest"||e.initiatorType==="fetch")return;let o={};"transferSize"in e&&(o["Transfer Size"]=e.transferSize),"encodedBodySize"in e&&(o["Encoded Body Size"]=e.encodedBodySize),"decodedBodySize"in e&&(o["Decoded Body Size"]=e.decodedBodySize),"renderBlockingStatus"in e&&(o["resource.render_blocking_status"]=e.renderBlockingStatus);let a=s+r,c=a+i;co(n,{description:t,endTimestamp:c,op:e.initiatorType?`resource.${e.initiatorType}`:"resource.other",startTimestamp:a,data:o})}function Mq(n){let e=Y.navigator;if(!e)return;let t=e.connection;t&&(t.effectiveType&&n.setTag("effectiveConnectionType",t.effectiveType),t.type&&n.setTag("connectionType",t.type),zf(t.rtt)&&(Ae["connection.rtt"]={value:t.rtt,unit:"millisecond"})),zf(e.deviceMemory)&&n.setTag("deviceMemory",`${e.deviceMemory} GB`),zf(e.hardwareConcurrency)&&n.setTag("hardwareConcurrency",String(e.hardwareConcurrency))}function Bq(n){rr&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Measurements] Adding LCP Data"),rr.element&&n.setTag("lcp.element",ro(rr.element)),rr.id&&n.setTag("lcp.id",rr.id),rr.url&&n.setTag("lcp.url",rr.url.trim().slice(0,200)),n.setTag("lcp.size",rr.size)),dl&&dl.sources&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log("[Measurements] Adding CLS Data"),dl.sources.forEach((e,t)=>n.setTag(`cls.source.${t+1}`,ro(e.node))))}f();var wE=["localhost",/^\//],Za={traceFetch:!0,traceXHR:!0,tracingOrigins:wE,tracePropagationTargets:wE};function Gf(n){let{traceFetch:e,traceXHR:t,tracePropagationTargets:r,tracingOrigins:i,shouldCreateSpanForRequest:s}={traceFetch:Za.traceFetch,traceXHR:Za.traceXHR,...n},o=typeof s=="function"?s:u=>!0,a=u=>Lq(u,r||i),c={};e&&Lr("fetch",u=>{Uq(u,o,a,c)}),t&&Lr("xhr",u=>{qq(u,o,a,c)})}function Lq(n,e){return Oi(n,e||wE)}function Uq(n,e,t,r){if(!ao()||!(n.fetchData&&e(n.fetchData.url)))return;if(n.endTimestamp){let a=n.fetchData.__span;if(!a)return;let c=r[a];c&&(n.response?c.setHttpStatus(n.response.status):n.error&&c.setStatus("internal_error"),c.finish(),delete r[a]);return}let i=ne().getScope(),s=i&&i.getSpan(),o=s&&s.transaction;if(s&&o){let a=s.startChild({data:{...n.fetchData,type:"fetch"},description:`${n.fetchData.method} ${n.fetchData.url}`,op:"http.client"});n.fetchData.__span=a.spanId,r[a.spanId]=a;let c=n.args[0];n.args[1]=n.args[1]||{};let u=n.args[1];t(n.fetchData.url)&&(u.headers=Fq(c,o.getDynamicSamplingContext(),a,u))}}function Fq(n,e,t,r){let i=Lf(e),s=t.toTraceparent(),o=typeof Request<"u"&&fn(n,Request)?n.headers:r.headers;if(o)if(typeof Headers<"u"&&fn(o,Headers)){let a=new Headers(o);return a.append("sentry-trace",s),i&&a.append(cl,i),a}else if(Array.isArray(o)){let a=[...o,["sentry-trace",s]];return i&&a.push([cl,i]),a}else{let a="baggage"in o?o.baggage:void 0,c=[];return Array.isArray(a)?c.push(...a):a&&c.push(a),i&&c.push(i),{...o,"sentry-trace":s,baggage:c.length>0?c.join(","):void 0}}else return{"sentry-trace":s,baggage:i}}function qq(n,e,t,r){if(!ao()||n.xhr&&n.xhr.__sentry_own_request__||!(n.xhr&&n.xhr.__sentry_xhr__&&e(n.xhr.__sentry_xhr__.url)))return;let i=n.xhr.__sentry_xhr__;if(n.endTimestamp){let c=n.xhr.__sentry_xhr_span_id__;if(!c)return;let u=r[c];u&&(u.setHttpStatus(i.status_code),u.finish(),delete r[c]);return}let s=ne().getScope(),o=s&&s.getSpan(),a=o&&o.transaction;if(o&&a){let c=o.startChild({data:{...i.data,type:"xhr",method:i.method,url:i.url},description:`${i.method} ${i.url}`,op:"http.client"});if(n.xhr.__sentry_xhr_span_id__=c.spanId,r[n.xhr.__sentry_xhr_span_id__]=c,n.xhr.setRequestHeader&&t(n.xhr.__sentry_xhr__.url))try{n.xhr.setRequestHeader("sentry-trace",c.toTraceparent());let u=a.getDynamicSamplingContext(),l=Lf(u);l&&n.xhr.setRequestHeader(cl,l)}catch(u){}}}f();function xD(n,e=!0,t=!0){if(!Y||!Y.location){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn("Could not initialize routing instrumentation due to invalid location");return}let r=Y.location.href,i;e&&(i=n({name:Y.location.pathname,startTimestamp:tr,op:"pageload",metadata:{source:"url"}})),t&&Lr("history",({to:s,from:o})=>{if(o===void 0&&r&&r.indexOf(s)!==-1){r=void 0;return}o!==s&&(r=void 0,i&&((typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`[Tracing] Finishing current transaction with op: ${i.op}`),i.finish()),i=n({name:Y.location.pathname,op:"navigation",metadata:{source:"url"}}))})}var TE="BrowserTracing",Vq={...Ka,markBackgroundTransactions:!0,routingInstrumentation:xD,startTransactionOnLocationChange:!0,startTransactionOnPageLoad:!0,enableLongTask:!0,_experiments:{},...Za},uo=class{__init(){this.name=TE}constructor(e){uo.prototype.__init.call(this),hl(),this.options={...Vq,...e},this.options._experiments.enableLongTask!==void 0&&(this.options.enableLongTask=this.options._experiments.enableLongTask),e&&!e.tracePropagationTargets&&e.tracingOrigins&&(this.options.tracePropagationTargets=e.tracingOrigins),this._collectWebVitals=SD(),this.options.enableLongTask&&CD(),this.options._experiments.enableInteractions&&AD()}setupOnce(e,t){this._getCurrentHub=t;let{routingInstrumentation:r,startTransactionOnLocationChange:i,startTransactionOnPageLoad:s,markBackgroundTransactions:o,traceFetch:a,traceXHR:c,tracePropagationTargets:u,shouldCreateSpanForRequest:l,_experiments:h}=this.options;r(d=>{let p=this._createRouteTransaction(d);return this.options._experiments.onStartRouteTransaction&&this.options._experiments.onStartRouteTransaction(p,d,t),p},s,i),o&&_D(),h.enableInteractions&&this._registerInteractionListener(),Gf({traceFetch:a,traceXHR:c,tracePropagationTargets:u,shouldCreateSpanForRequest:l})}_createRouteTransaction(e){if(!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`[Tracing] Did not create ${e.op} transaction because _getCurrentHub is invalid.`);return}let{beforeNavigate:t,idleTimeout:r,finalTimeout:i,heartbeatInterval:s}=this.options,o=e.op==="pageload",a=o?DD("sentry-trace"):null,c=o?DD("baggage"):null,u=a?ol(a):void 0,l=c?lE(c):void 0,h={...e,...u,metadata:{...e.metadata,dynamicSamplingContext:u&&!l?{}:l},trimEnd:!0},d=typeof t=="function"?t(h):h,p=d===void 0?{...h,sampled:!1}:d;p.metadata=p.name!==h.name?{...p.metadata,source:"custom"}:p.metadata,this._latestRouteName=p.name,this._latestRouteSource=p.metadata&&p.metadata.source,p.sampled===!1&&(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`[Tracing] Will not send ${p.op} transaction because of beforeNavigate.`),(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.log(`[Tracing] Starting ${p.op} transaction on scope`);let m=this._getCurrentHub(),{location:_}=Y,E=ll(m,p,r,i,!0,{location:_},s);return E.registerBeforeFinishCallback(N=>{this._collectWebVitals(),RD(N)}),E}_registerInteractionListener(){let e,t=()=>{let{idleTimeout:r,finalTimeout:i,heartbeatInterval:s}=this.options,o="ui.action.click",a=Nn();if(a&&a.op&&["navigation","pageload"].includes(a.op)){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`[Tracing] Did not create ${o} transaction because a pageload or navigation transaction is in progress.`);return}if(e&&(e.setFinishReason("interactionInterrupted"),e.finish(),e=void 0),!this._getCurrentHub){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`[Tracing] Did not create ${o} transaction because _getCurrentHub is invalid.`);return}if(!this._latestRouteName){(typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__)&&v.warn(`[Tracing] Did not create ${o} transaction because _latestRouteName is missing.`);return}let c=this._getCurrentHub(),{location:u}=Y,l={name:this._latestRouteName,op:o,trimEnd:!0,metadata:{source:this._latestRouteSource||"url"}};e=ll(c,l,r,i,!0,{location:u},s)};["click"].forEach(r=>{addEventListener(r,t,{once:!1,capture:!0})})}};function DD(n){let e=Fv(`meta[name=${n}]`);return e?e.getAttribute("content"):null}f();function jq(){let n=zr();if(!n.__SENTRY__)return;let e={mongodb(){let r=Dn(module,"./node/integrations/mongo");return new r.Mongo},mongoose(){let r=Dn(module,"./node/integrations/mongo");return new r.Mongo({mongoose:!0})},mysql(){let r=Dn(module,"./node/integrations/mysql");return new r.Mysql},pg(){let r=Dn(module,"./node/integrations/postgres");return new r.Postgres}},t=Object.keys(e).filter(r=>!!Ut(r)).map(r=>{try{return e[r]()}catch(i){return}}).filter(r=>r);t.length>0&&(n.__SENTRY__.integrations=[...n.__SENTRY__.integrations||[],...t])}function ec(){hl(),so()&&jq()}(typeof __SENTRY_TRACING__>"u"||__SENTRY_TRACING__)&&ec();f();var lo=class extends Error{constructor(t,r){super(t);this.options=r||{}}static annotateError(t,r){let i=new lo(t.message,r);return i.stack=t.stack||t.message,i}};ec();var Wf=class{constructor(e,t={}){this.labels={};this.name=e,this.logger=Xo(`trace:${this.name}`),this.startTime=null,this.endTime=null,this.sentryTransaction=yE({name:this.name,...t.sampleRate?{data:{sampleRate:t.sampleRate}}:{}}),Ya(r=>r.setSpan(this.sentryTransaction))}label(e,t){this.labels[e]=t}start(){this.startTime=new Date}end(e=null){if(!this.startTime)throw new Error("Ending a non-started trace");this.endTime=new Date;let t=this.endTime.getTime()-this.startTime.getTime();e?this.logger.error(`failed in ${t}ms - ${e}`,this.labels):this.logger.debug(`succeeded in ${t}ms`,this.labels);let r=zq(e);this.sentryTransaction.setStatus(r?ul(r):"ok").finish(),_E({category:this.name,level:"debug",message:`${e?"failed":"succeeded"} in ${this.endTime.getTime()-this.startTime.getTime()}ms`,data:this.labels})}reject(e){return this.end(e),e}resolve(){this.end()}async wrap(e){try{this.start();let t=await e();return this.resolve(),t}catch(t){throw this.reject(t)}}async wrapPromise(e){return this.start(),e.then(t=>(this.resolve(),t),t=>{throw this.reject(t)})}wrapSync(e){try{this.start();let t=e();return this.resolve(),t}catch(t){throw this.reject(t)}}};function zq(n){if(n)return n instanceof oT?n.statusCode:500}var $q=0,$i=class extends Wf{constructor(t,r={}){super(t,r);this.markId=$q++}get measureName(){let t=Object.keys(this.labels);t.sort();let r=t.map(i=>`${i}: ${JSON.stringify(this.labels[i])}`).join(", ");return`${this.name}(${r})`}start(){super.start(),window&&window.performance&&window.performance.mark&&window.performance.mark(`trace:${this.markId}:start`)}end(t){if(super.end(t),window&&window.performance&&window.performance.mark&&window.performance.measure){window.performance.mark(`trace:${this.markId}:end`);try{window.performance.measure(this.measureName,`trace:${this.markId}:start`,`trace:${this.markId}:end`)}catch(r){this.logger.warning(`Error while measuring trace ${this.markId}`,r)}}}};f();f();f();f();f();f();function SE(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function CE(){try{return typeof indexedDB=="object"}catch(n){return!1}}function AE(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}function RE(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var Gq="FirebaseError",ho=class extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Gq,Object.setPrototypeOf(this,ho.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fl.prototype.create)}},fl=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Wq(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ho(i,a,r)}};function Wq(n,e){return n.replace(Hq,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Hq=/\{\$([^}]+)}/g;var Kq=1e3,Yq=2,Qq=4*60*60*1e3,Jq=.5;function xE(n,e=Kq,t=Yq){let r=e*Math.pow(t,n),i=Math.round(Jq*r*(Math.random()-.5)*2);return Math.min(Qq,r+i)}function tc(n){return n&&n._delegate?n._delegate:n}f();var pl=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};f();f();f();var Xq="FirebaseError",fo=class extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Xq,Object.setPrototypeOf(this,fo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ml.prototype.create)}},ml=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Zq(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new fo(i,a,r)}};function Zq(n,e){return n.replace(eV,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var eV=/\{\$([^}]+)}/g;var tte=4*60*60*1e3;var gl=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var kD="@firebase/installations",kE="0.6.4";var PD=1e4,MD=`w:${kE}`,BD="FIS_v2",tV="https://firebaseinstallations.googleapis.com/v1",nV=60*60*1e3,rV="installations",iV="Installations";var sV={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},mo=new ml(rV,iV,sV);function LD(n){return n instanceof fo&&n.code.includes("request-failed")}function UD({projectId:n}){return`${tV}/projects/${n}/installations`}function FD(n){return{token:n.token,requestStatus:2,expiresIn:aV(n.expiresIn),creationTime:Date.now()}}async function qD(n,e){let r=(await e.json()).error;return mo.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function VD({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function oV(n,{refreshToken:e}){let t=VD(n);return t.append("Authorization",cV(e)),t}async function jD(n){let e=await n();return e.status>=500&&e.status<600?n():e}function aV(n){return Number(n.replace("s","000"))}function cV(n){return`${BD} ${n}`}async function uV({appConfig:n,heartbeatServiceProvider:e},{fid:t}){let r=UD(n),i=VD(n),s=e.getImmediate({optional:!0});if(s){let u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}let o={fid:t,authVersion:BD,appId:n.appId,sdkVersion:MD},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await jD(()=>fetch(r,a));if(c.ok){let u=await c.json();return{fid:u.fid||t,registrationStatus:2,refreshToken:u.refreshToken,authToken:FD(u.authToken)}}else throw await qD("Create Installation",c)}function zD(n){return new Promise(e=>{setTimeout(e,n)})}function lV(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}var hV=/^[cdef][\w-]{21}$/,NE="";function dV(){try{let n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;let t=fV(n);return hV.test(t)?t:NE}catch(n){return NE}}function fV(n){return lV(n).substr(0,22)}function Kf(n){return`${n.appName}!${n.appId}`}var $D=new Map;function GD(n,e){let t=Kf(n);WD(t,e),pV(t,e)}function WD(n,e){let t=$D.get(n);if(t)for(let r of t)r(e)}function pV(n,e){let t=mV();t&&t.postMessage({key:n,fid:e}),gV()}var po=null;function mV(){return!po&&"BroadcastChannel"in self&&(po=new BroadcastChannel("[Firebase] FID Change"),po.onmessage=n=>{WD(n.data.key,n.data.fid)}),po}function gV(){$D.size===0&&po&&(po.close(),po=null)}var _V="firebase-installations-database",yV=1,go="firebase-installations-store",DE=null;function PE(){return DE||(DE=Fh(_V,yV,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(go)}}})),DE}async function Hf(n,e){let t=Kf(n),i=(await PE()).transaction(go,"readwrite"),s=i.objectStore(go),o=await s.get(t);return await s.put(e,t),await i.done,(!o||o.fid!==e.fid)&&GD(n,e.fid),e}async function HD(n){let e=Kf(n),r=(await PE()).transaction(go,"readwrite");await r.objectStore(go).delete(e),await r.done}async function Yf(n,e){let t=Kf(n),i=(await PE()).transaction(go,"readwrite"),s=i.objectStore(go),o=await s.get(t),a=e(o);return a===void 0?await s.delete(t):await s.put(a,t),await i.done,a&&(!o||o.fid!==a.fid)&&GD(n,a.fid),a}async function ME(n){let e,t=await Yf(n.appConfig,r=>{let i=vV(r),s=EV(n,i);return e=s.registrationPromise,s.installationEntry});return t.fid===NE?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function vV(n){let e=n||{fid:dV(),registrationStatus:0};return KD(e)}function EV(n,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(mo.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=bV(n,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:IV(n)}:{installationEntry:e}}async function bV(n,e){try{let t=await uV(n,e);return Hf(n.appConfig,t)}catch(t){throw LD(t)&&t.customData.serverCode===409?await HD(n.appConfig):await Hf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function IV(n){let e=await OD(n.appConfig);for(;e.registrationStatus===1;)await zD(100),e=await OD(n.appConfig);if(e.registrationStatus===0){let{installationEntry:t,registrationPromise:r}=await ME(n);return r||t}return e}function OD(n){return Yf(n,e=>{if(!e)throw mo.create("installation-not-found");return KD(e)})}function KD(n){return wV(n)?{fid:n.fid,registrationStatus:0}:n}function wV(n){return n.registrationStatus===1&&n.registrationTime+PD<Date.now()}async function TV({appConfig:n,heartbeatServiceProvider:e},t){let r=SV(n,t),i=oV(n,t),s=e.getImmediate({optional:!0});if(s){let u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}let o={installation:{sdkVersion:MD,appId:n.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},c=await jD(()=>fetch(r,a));if(c.ok){let u=await c.json();return FD(u)}else throw await qD("Generate Auth Token",c)}function SV(n,{fid:e}){return`${UD(n)}/${e}/authTokens:generate`}async function BE(n,e=!1){let t,r=await Yf(n.appConfig,s=>{if(!YD(s))throw mo.create("not-registered");let o=s.authToken;if(!e&&RV(o))return s;if(o.requestStatus===1)return t=CV(n,e),s;{if(!navigator.onLine)throw mo.create("app-offline");let a=DV(s);return t=AV(n,a),a}});return t?await t:r.authToken}async function CV(n,e){let t=await ND(n.appConfig);for(;t.authToken.requestStatus===1;)await zD(100),t=await ND(n.appConfig);let r=t.authToken;return r.requestStatus===0?BE(n,e):r}function ND(n){return Yf(n,e=>{if(!YD(e))throw mo.create("not-registered");let t=e.authToken;return OV(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function AV(n,e){try{let t=await TV(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return await Hf(n.appConfig,r),t}catch(t){if(LD(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await HD(n.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Hf(n.appConfig,r)}throw t}}function YD(n){return n!==void 0&&n.registrationStatus===2}function RV(n){return n.requestStatus===2&&!xV(n)}function xV(n){let e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+nV}function DV(n){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function OV(n){return n.requestStatus===1&&n.requestTime+PD<Date.now()}async function NV(n){let e=n,{installationEntry:t,registrationPromise:r}=await ME(e);return r?r.catch(console.error):BE(e).catch(console.error),t.fid}async function kV(n,e=!1){let t=n;return await PV(t),(await BE(t,e)).token}async function PV(n){let{registrationPromise:e}=await ME(n);e&&await e}function MV(n){if(!n||!n.options)throw OE("App Configuration");if(!n.name)throw OE("App Name");let e=["projectId","apiKey","appId"];for(let t of e)if(!n.options[t])throw OE(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function OE(n){return mo.create("missing-app-config-values",{valueName:n})}var QD="installations",BV="installations-internal",LV=n=>{let e=n.getProvider("app").getImmediate(),t=MV(e),r=bn(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},UV=n=>{let e=n.getProvider("app").getImmediate(),t=bn(e,QD).getImmediate();return{getId:()=>NV(t),getToken:i=>kV(t,i)}};function FV(){Ie(new gl(QD,LV,"PUBLIC")),Ie(new gl(BV,UV,"PRIVATE"))}FV();ie(kD,kE);ie(kD,kE,"esm2017");var JD="analytics",qV="firebase_id",VV="origin",jV=60*1e3,zV="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",rO="https://www.googletagmanager.com/gtag/js";var lt=new mt("@firebase/analytics");function iO(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function $V(n,e){let t=document.createElement("script");t.src=`${rO}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function GV(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function WV(n,e,t,r,i,s){let o=r[i];try{if(o)await e[o];else{let c=(await iO(t)).find(u=>u.measurementId===i);c&&await e[c.appId]}}catch(a){lt.error(a)}n("config",i,s)}async function HV(n,e,t,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);let a=await iO(t);for(let c of o){let u=a.find(h=>h.measurementId===c),l=u&&e[u.appId];if(l)s.push(l);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),n("event",r,i||{})}catch(s){lt.error(s)}}function KV(n,e,t,r){async function i(s,o,a){try{s==="event"?await HV(n,e,t,o,a):s==="config"?await WV(n,e,t,r,o,a):s==="consent"?n("consent","update",a):n("set",o)}catch(c){lt.error(c)}}return i}function YV(n,e,t,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=KV(s,n,e,t),{gtagCore:s,wrappedGtag:window[i]}}function QV(n){let e=window.document.getElementsByTagName("script");for(let t of Object.values(e))if(t.src&&t.src.includes(rO)&&t.src.includes(n))return t;return null}var JV={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'},pn=new fl("analytics","Analytics",JV);var XV=30,ZV=1e3,LE=class{constructor(e={},t=ZV){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}},sO=new LE;function ej(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function tj(n){var e;let{appId:t,apiKey:r}=n,i={method:"GET",headers:ej(r)},s=zV.replace("{app-id}",t),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{let c=await o.json();!((e=c.error)===null||e===void 0)&&e.message&&(a=c.error.message)}catch(c){}throw pn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function nj(n,e=sO,t){let{appId:r,apiKey:i,measurementId:s}=n.options;if(!r)throw pn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw pn.create("no-api-key")}let o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new UE;return setTimeout(async()=>{a.abort()},t!==void 0?t:jV),oO({appId:r,apiKey:i,measurementId:s},o,a,e)}async function oO(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=sO){var s;let{appId:o,measurementId:a}=n;try{await rj(r,e)}catch(c){if(a)return lt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:a};throw c}try{let c=await tj(n);return i.deleteThrottleMetadata(o),c}catch(c){let u=c;if(!ij(u)){if(i.deleteThrottleMetadata(o),a)return lt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw c}let l=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?xE(t,i.intervalMillis,XV):xE(t,i.intervalMillis),h={throttleEndTimeMillis:Date.now()+l,backoffCount:t+1};return i.setThrottleMetadata(o,h),lt.debug(`Calling attemptFetch again in ${l} millis`),oO(n,h,r,i)}}function rj(n,e){return new Promise((t,r)=>{let i=Math.max(e-Date.now(),0),s=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(s),r(pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function ij(n){if(!(n instanceof ho)||!n.customData)return!1;let e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}var UE=class{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}};var FE;async function sj(n,e,t,r,i){if(i&&i.global){n("event",t,r);return}else{let s=await e,o=Object.assign(Object.assign({},r),{send_to:s});n("event",t,o)}}async function oj(n,e,t,r){if(r&&r.global)return n("set",{screen_name:t}),Promise.resolve();{let i=await e;n("config",i,{update:!0,screen_name:t})}}async function aj(n,e,t,r){if(r&&r.global)return n("set",{user_id:t}),Promise.resolve();{let i=await e;n("config",i,{update:!0,user_id:t})}}async function cj(n,e,t,r){if(r&&r.global){let i={};for(let s of Object.keys(t))i[`user_properties.${s}`]=t[s];return n("set",i),Promise.resolve()}else{let i=await e;n("config",i,{update:!0,user_properties:t})}}async function uj(n,e){let t=await n;window[`ga-disable-${t}`]=!e}var qE;function lj(n){qE=n}function hj(n){FE=n}async function dj(){if(CE())try{await AE()}catch(n){return lt.warn(pn.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return lt.warn(pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function fj(n,e,t,r,i,s,o){var a;let c=nj(n);c.then(p=>{t[p.measurementId]=p.appId,n.options.measurementId&&p.measurementId!==n.options.measurementId&&lt.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>lt.error(p)),e.push(c);let u=dj().then(p=>{if(p)return r.getId()}),[l,h]=await Promise.all([c,u]);QV(s)||$V(s,l.measurementId),qE&&(i("consent","default",qE),lj(void 0)),i("js",new Date);let d=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return d[VV]="firebase",d.update=!0,h!=null&&(d[qV]=h),i("config",l.measurementId,d),FE&&(i("set",FE),hj(void 0)),l.measurementId}var VE=class{constructor(e){this.app=e}_delete(){return delete Hr[this.app.options.appId],Promise.resolve()}},Hr={},XD=[],ZD={},Qf="dataLayer",aO="gtag",eO,_l,jE=!1;function cO(n){if(jE)throw pn.create("already-initialized");n.dataLayerName&&(Qf=n.dataLayerName),n.gtagName&&(aO=n.gtagName)}function pj(){let n=[];if(SE()&&n.push("This is a browser extension environment."),RE()||n.push("Cookies are not available."),n.length>0){let e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=pn.create("invalid-analytics-context",{errorInfo:e});lt.warn(t.message)}}function mj(n,e,t){pj();let r=n.options.appId;if(!r)throw pn.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)lt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw pn.create("no-api-key");if(Hr[r]!=null)throw pn.create("already-exists",{id:r});if(!jE){GV(Qf);let{wrappedGtag:s,gtagCore:o}=YV(Hr,XD,ZD,Qf,aO);_l=s,eO=o,jE=!0}return Hr[r]=fj(n,XD,ZD,e,eO,Qf,t),new VE(n)}async function uO(){if(SE()||!RE()||!CE())return!1;try{return await AE()}catch(n){return!1}}function lO(n,e,t){n=tc(n),oj(_l,Hr[n.app.options.appId],e,t).catch(r=>lt.error(r))}function hO(n,e,t){n=tc(n),aj(_l,Hr[n.app.options.appId],e,t).catch(r=>lt.error(r))}function dO(n,e,t){n=tc(n),cj(_l,Hr[n.app.options.appId],e,t).catch(r=>lt.error(r))}function fO(n,e){n=tc(n),uj(Hr[n.app.options.appId],e).catch(t=>lt.error(t))}function zE(n,e,t,r){n=tc(n),sj(_l,Hr[n.app.options.appId],e,t,r).catch(i=>lt.error(i))}var tO="@firebase/analytics",nO="0.9.4";function gj(){Ie(new pl(JD,(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return mj(r,i,t)},"PUBLIC")),Ie(new pl("analytics-internal",n,"PRIVATE")),ie(tO,nO),ie(tO,nO,"esm2017");function n(e){try{let t=e.getProvider(JD).getImmediate();return{logEvent:(r,i,s)=>zE(t,r,i,s)}}catch(t){throw pn.create("interop-component-reg-failed",{reason:t})}}}gj();f();f();var Ite=4*60*60*1e3;var Jf=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var _j="@firebase/analytics-compat",yj="0.2.4";var Xf=class{constructor(e,t){this.app=e,this._delegate=t}logEvent(e,t,r){zE(this._delegate,e,t,r)}setCurrentScreen(e,t){lO(this._delegate,e,t)}setUserId(e,t){hO(this._delegate,e,t)}setUserProperties(e,t){dO(this._delegate,e,t)}setAnalyticsCollectionEnabled(e){fO(this._delegate,e)}};var $E;(function(n){n.ADD_SHIPPING_INFO="add_shipping_info",n.ADD_PAYMENT_INFO="add_payment_info",n.ADD_TO_CART="add_to_cart",n.ADD_TO_WISHLIST="add_to_wishlist",n.BEGIN_CHECKOUT="begin_checkout",n.CHECKOUT_PROGRESS="checkout_progress",n.EXCEPTION="exception",n.GENERATE_LEAD="generate_lead",n.LOGIN="login",n.PAGE_VIEW="page_view",n.PURCHASE="purchase",n.REFUND="refund",n.REMOVE_FROM_CART="remove_from_cart",n.SCREEN_VIEW="screen_view",n.SEARCH="search",n.SELECT_CONTENT="select_content",n.SELECT_ITEM="select_item",n.SELECT_PROMOTION="select_promotion",n.SET_CHECKOUT_OPTION="set_checkout_option",n.SHARE="share",n.SIGN_UP="sign_up",n.TIMING_COMPLETE="timing_complete",n.VIEW_CART="view_cart",n.VIEW_ITEM="view_item",n.VIEW_ITEM_LIST="view_item_list",n.VIEW_PROMOTION="view_promotion",n.VIEW_SEARCH_RESULTS="view_search_results"})($E||($E={}));var vj=n=>{let e=n.getProvider("app-compat").getImmediate(),t=n.getProvider("analytics").getImmediate();return new Xf(e,t)};function Ej(){let n={Analytics:Xf,settings:cO,isSupported:uO,EventName:$E};se.INTERNAL.registerComponent(new Jf("analytics-compat",vj,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}Ej();se.registerVersion(_j,yj);f();f();f();f();f();var bj=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Ij=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},wj={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,l=s>>2,h=(s&3)<<4|a>>4,d=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(d=64)),r.push(t[l],t[h],t[d],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(bj(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Ij(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new WE;let d=s<<2|a>>4;if(r.push(d),u!==64){let p=a<<4&240|u>>2;if(r.push(p),h!==64){let m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},WE=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};var KE=function(n){try{return wj.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Tj(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("Unable to locate global object.")}var Sj=()=>Tj().__FIREBASE_DEFAULTS__,Cj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Aj=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}let e=n&&KE(n[1]);return e&&JSON.parse(e)},Rj=()=>{try{return Sj()||Cj()||Aj()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}};var pO=n=>{var e;return(e=Rj())===null||e===void 0?void 0:e[`_${n}`]};function rt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function mO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(rt())}function gO(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _O(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yO(){let n=rt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}var xj="FirebaseError",Kr=class extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=xj,Object.setPrototypeOf(this,Kr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,_o.prototype.create)}},_o=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Dj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Kr(i,a,r)}};function Dj(n,e){return n.replace(Oj,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Oj=/\{\$([^}]+)}/g;function vO(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function yo(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Gi(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function nc(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function EO(n,e){let t=new HE(n,e);return t.subscribe.bind(t)}var HE=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Nj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=GE),i.error===void 0&&(i.error=GE),i.complete===void 0&&(i.complete=GE);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch(o){}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Nj(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function GE(){}var Bte=4*60*60*1e3;function Q(n){return n&&n._delegate?n._delegate:n}f();var bO=function(){return bO=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},bO.apply(this,arguments)};function Zf(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function Fte(){for(var n=0,e=0,t=arguments.length;e<t;e++)n+=arguments[e].length;for(var r=Array(n),i=0,e=0;e<t;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function qte(n,e,t){if(t||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return n.concat(s||Array.prototype.slice.call(e))}f();var yl=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var wo={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"};var Zi={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function kj(){return{["admin-restricted-operation"]:"This operation is restricted to administrators only.",["argument-error"]:"",["app-not-authorized"]:"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.",["app-not-installed"]:"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.",["captcha-check-failed"]:"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.",["code-expired"]:"The SMS code has expired. Please re-send the verification code to try again.",["cordova-not-ready"]:"Cordova framework is not ready.",["cors-unsupported"]:"This browser is not supported.",["credential-already-in-use"]:"This credential is already associated with a different user account.",["custom-token-mismatch"]:"The custom token corresponds to a different audience.",["requires-recent-login"]:"This operation is sensitive and requires recent authentication. Log in again before retrying this request.",["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.",["dynamic-link-not-activated"]:"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.",["email-change-needs-verification"]:"Multi-factor users must always have a verified email.",["email-already-in-use"]:"The email address is already in use by another account.",["emulator-config-failed"]:'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',["expired-action-code"]:"The action code has expired.",["cancelled-popup-request"]:"This operation has been cancelled due to another conflicting popup being opened.",["internal-error"]:"An internal AuthError has occurred.",["invalid-app-credential"]:"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.",["invalid-app-id"]:"The mobile app identifier is not registed for the current project.",["invalid-user-token"]:"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.",["invalid-auth-event"]:"An internal AuthError has occurred.",["invalid-verification-code"]:"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.",["invalid-continue-uri"]:"The continue URL provided in the request is invalid.",["invalid-cordova-configuration"]:"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.",["invalid-custom-token"]:"The custom token format is incorrect. Please check the documentation.",["invalid-dynamic-link-domain"]:"The provided dynamic link domain is not configured or authorized for the current project.",["invalid-email"]:"The email address is badly formatted.",["invalid-emulator-scheme"]:"Emulator URL must start with a valid scheme (http:// or https://).",["invalid-api-key"]:"Your API key is invalid, please check you have copied it correctly.",["invalid-cert-hash"]:"The SHA-1 certificate hash provided is invalid.",["invalid-credential"]:"The supplied auth credential is malformed or has expired.",["invalid-message-payload"]:"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-multi-factor-session"]:"The request does not contain a valid proof of first factor successful sign-in.",["invalid-oauth-provider"]:"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.",["invalid-oauth-client-id"]:"The OAuth client ID provided is either invalid or does not match the specified API key.",["unauthorized-domain"]:"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.",["invalid-action-code"]:"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.",["wrong-password"]:"The password is invalid or the user does not have a password.",["invalid-persistence-type"]:"The specified persistence type is invalid. It can only be local, session or none.",["invalid-phone-number"]:"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].",["invalid-provider-id"]:"The specified provider ID is invalid.",["invalid-recipient-email"]:"The email corresponding to this action failed to send as the provided recipient email address is invalid.",["invalid-sender"]:"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.",["invalid-verification-id"]:"The verification ID used to create the phone auth credential is invalid.",["invalid-tenant-id"]:"The Auth instance's tenant ID is invalid.",["login-blocked"]:"Login blocked by user-provided method: {$originalMessage}",["missing-android-pkg-name"]:"An Android Package Name must be provided if the Android App is required to be installed.",["auth-domain-config-required"]:"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.",["missing-app-credential"]:"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.",["missing-verification-code"]:"The phone auth credential was created with an empty SMS verification code.",["missing-continue-uri"]:"A continue URL must be provided in the request.",["missing-iframe-start"]:"An internal AuthError has occurred.",["missing-ios-bundle-id"]:"An iOS Bundle ID must be provided if an App Store ID is provided.",["missing-or-invalid-nonce"]:"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.",["missing-multi-factor-info"]:"No second factor identifier is provided.",["missing-multi-factor-session"]:"The request is missing proof of first factor successful sign-in.",["missing-phone-number"]:"To send verification codes, provide a phone number for the recipient.",["missing-verification-id"]:"The phone auth credential was created with an empty verification ID.",["app-deleted"]:"This instance of FirebaseApp has been deleted.",["multi-factor-info-not-found"]:"The user does not have a second factor matching the identifier provided.",["multi-factor-auth-required"]:"Proof of ownership of a second factor is required to complete sign-in.",["account-exists-with-different-credential"]:"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.",["network-request-failed"]:"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.",["no-auth-event"]:"An internal AuthError has occurred.",["no-such-provider"]:"User was not linked to an account with the given provider.",["null-user"]:"A null user object was provided as the argument for an operation which requires a non-null user object.",["operation-not-allowed"]:"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.",["operation-not-supported-in-this-environment"]:'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',["popup-blocked"]:"Unable to establish a connection with the popup. It may have been blocked by the browser.",["popup-closed-by-user"]:"The popup has been closed by the user before finalizing the operation.",["provider-already-linked"]:"User can only be linked to one identity for the given provider.",["quota-exceeded"]:"The project's quota for this operation has been exceeded.",["redirect-cancelled-by-user"]:"The redirect operation has been cancelled by the user before finalizing.",["redirect-operation-pending"]:"A redirect sign-in operation is already pending.",["rejected-credential"]:"The request contains malformed or mismatching credentials.",["second-factor-already-in-use"]:"The second factor is already enrolled on this account.",["maximum-second-factor-count-exceeded"]:"The maximum allowed number of second factors on a user has been exceeded.",["tenant-id-mismatch"]:"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.",["user-token-expired"]:"The user's credential is no longer valid. The user must sign in again.",["too-many-requests"]:"We have blocked all requests from this device due to unusual activity. Try again later.",["unauthorized-continue-uri"]:"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.",["unsupported-first-factor"]:"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.",["unsupported-persistence-type"]:"The current environment does not support the specified persistence type.",["unsupported-tenant-operation"]:"This operation is not supported in a multi-tenant context.",["unverified-email"]:"The operation requires a verified email.",["user-cancelled"]:"The user did not grant your application the permissions it requested.",["user-not-found"]:"There is no user record corresponding to this identifier. The user may have been deleted.",["user-disabled"]:"The user account has been disabled by an administrator.",["user-mismatch"]:"The supplied credentials do not correspond to the previously signed in user.",["user-signed-out"]:"",["weak-password"]:"The password must be 6 characters long or more.",["web-storage-unsupported"]:"This browser is not supported or 3rd party cookies and data may be disabled.",["already-initialized"]:"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}}function PO(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var gb=kj,MO=PO,BO=new _o("auth","Firebase",PO());var IO=new mt("@firebase/auth");function tp(n,...e){IO.logLevel<=W.ERROR&&IO.error(`Auth (${Mt}): ${n}`,...e)}function Ue(n,...e){throw _b(n,...e)}function it(n,...e){return _b(n,...e)}function LO(n,e,t){let r=Object.assign(Object.assign({},MO()),{[e]:t});return new _o("auth","Firebase",r).create(e,{appName:n.name})}function ac(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Ue(n,"argument-error"),LO(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _b(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return BO.create(n,...e)}function w(n,e,...t){if(!n)throw _b(e,...t)}function ir(n){let e="INTERNAL ASSERTION FAILED: "+n;throw tp(e),new Error(e)}function mn(n,e){n||ir(e)}var wO=new Map;function It(n){mn(n instanceof Function,"Expected a class definition");let e=wO.get(n);return e?(mn(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,wO.set(n,e),e)}function Pj(n,e){let t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(It);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Il(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function yb(){return TO()==="http:"||TO()==="https:"}function TO(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Mj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yb()||gO()||"connection"in navigator)?navigator.onLine:!0}function Bj(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var vo=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,mn(t>e,"Short delay should be less than long delay!"),this.isMobile=mO()||_O()}get(){return Mj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function vb(n,e){mn(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var wl=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;ir("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;ir("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;ir("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Lj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"};var Uj=new vo(3e4,6e4);function Qe(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function st(n,e,t,r,i={}){return UO(n,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});let a=yo(Object.assign({key:n.config.apiKey},o)).slice(1),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode),wl.fetch()(FO(n,n.config.apiHost,t,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))})}async function UO(n,e,t){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Lj),e);try{let i=new ZE(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=await s.json();if("needConfirmation"in o)throw vl(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw vl(n,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw vl(n,"email-already-in-use",o);if(c==="USER_DISABLED")throw vl(n,"user-disabled",o);let l=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw LO(n,l,u);Ue(n,l)}}catch(i){if(i instanceof Kr)throw i;Ue(n,"internal-error",{message:String(i)})}}async function Xr(n,e,t,r,i={}){let s=await st(n,e,t,r,i);return"mfaPendingCredential"in s&&Ue(n,"multi-factor-auth-required",{_serverResponse:s}),s}function FO(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?vb(n.config,i):`${n.config.apiScheme}://${i}`}var ZE=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(it(this.auth,"network-request-failed")),Uj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function vl(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=it(n,e,r);return i.customData._tokenResponse=t,i}async function Fj(n,e){return st(n,"POST","/v1/accounts:delete",e)}async function qj(n,e){return st(n,"POST","/v1/accounts:update",e)}async function Vj(n,e){return st(n,"POST","/v1/accounts:lookup",e)}function El(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch(e){}}async function qO(n,e=!1){let t=Q(n),r=await t.getIdToken(e),i=gp(r);w(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:El(YE(i.auth_time)),issuedAtTime:El(YE(i.iat)),expirationTime:El(YE(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function YE(n){return Number(n)*1e3}function gp(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return tp("JWT malformed, contained fewer than 3 sections"),null;try{let i=KE(t);return i?JSON.parse(i):(tp("Failed to decode base64 JWT payload"),null)}catch(i){return tp("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function jj(n){let e=gp(n);return w(e,"internal-error"),w(typeof e.exp<"u","internal-error"),w(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Jr(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Kr&&zj(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function zj({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var eb=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}};var rp=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=El(this.lastLoginAt),this.creationTime=El(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};async function Tl(n){var e;let t=n.auth,r=await n.getIdToken(),i=await Jr(n,Vj(t,{idToken:r}));w(i==null?void 0:i.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Gj(s.providerUserInfo):[],a=$j(n.providerData,o),c=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!(a!=null&&a.length),l=c?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new rp(s.createdAt,s.lastLoginAt),isAnonymous:l};Object.assign(n,h)}async function VO(n){let e=Q(n);await Tl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function $j(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Gj(n){return n.map(e=>{var{providerId:t}=e,r=Zf(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}async function Wj(n,e){let t=await UO(n,{},async()=>{let r=yo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=FO(n,i,"/v1/token",`key=${s}`),a=await n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",wl.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}var Eo=class{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){w(e.idToken,"internal-error"),w(typeof e.idToken<"u","internal-error"),w(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}async getToken(e,t=!1){return w(!this.accessToken||this.refreshToken,e,"user-token-expired"),!t&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){let{accessToken:r,refreshToken:i,expiresIn:s}=await Wj(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new Eo;return r&&(w(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(w(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(w(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Eo,this.toJSON())}_performRefresh(){return ir("not implemented")}};function Wi(n,e){w(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var sr=class{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=Zf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new eb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new rp(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){let t=await Jr(this,this.stsTokenManager.getToken(this.auth,e));return w(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return qO(this,e)}reload(){return VO(this)}_assign(e){this!==e&&(w(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new sr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){w(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Tl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){let e=await this.getIdToken();return await Jr(this,Fj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,u,l;let h=(r=t.displayName)!==null&&r!==void 0?r:void 0,d=(i=t.email)!==null&&i!==void 0?i:void 0,p=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=t.photoURL)!==null&&o!==void 0?o:void 0,_=(a=t.tenantId)!==null&&a!==void 0?a:void 0,E=(c=t._redirectEventId)!==null&&c!==void 0?c:void 0,N=(u=t.createdAt)!==null&&u!==void 0?u:void 0,B=(l=t.lastLoginAt)!==null&&l!==void 0?l:void 0,{uid:A,emailVerified:L,isAnonymous:$,providerData:K,stsTokenManager:Ne}=t;w(A&&Ne,e,"internal-error");let pt=Eo.fromJSON(this.name,Ne);w(typeof A=="string",e,"internal-error"),Wi(h,e.name),Wi(d,e.name),w(typeof L=="boolean",e,"internal-error"),w(typeof $=="boolean",e,"internal-error"),Wi(p,e.name),Wi(m,e.name),Wi(_,e.name),Wi(E,e.name),Wi(N,e.name),Wi(B,e.name);let Es=new sr({uid:A,auth:e,email:d,emailVerified:L,displayName:h,isAnonymous:$,photoURL:m,phoneNumber:p,tenantId:_,stsTokenManager:pt,createdAt:N,lastLoginAt:B});return K&&Array.isArray(K)&&(Es.providerData=K.map(uM=>Object.assign({},uM))),E&&(Es._redirectEventId=E),Es}static async _fromIdTokenResponse(e,t,r=!1){let i=new Eo;i.updateFromServerResponse(t);let s=new sr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Tl(s),s}};var ip=class{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){let t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}};ip.type="NONE";var Yi=ip;function or(n,e,t){return`firebase:${n}:${e}:${t}`}var Hi=class{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=or(this.userKey,i.apiKey,s),this.fullPersistenceKey=or("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){let e=await this.persistence._get(this.fullUserKey);return e?sr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;let t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Hi(It(Yi),e,r);let i=(await Promise.all(t.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u),s=i[0]||It(Yi),o=or(r,e.config.apiKey,e.name),a=null;for(let u of t)try{let l=await u._get(o);if(l){let h=sr._fromJSON(e,l);u!==s&&(a=h),s=u;break}}catch(l){}let c=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!c.length?new Hi(s,e,r):(s=c[0],a&&await s._set(o,a.toJSON()),await Promise.all(t.map(async u=>{if(u!==s)try{await u._remove(o)}catch(l){}})),new Hi(s,e,r))}};function SO(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($O(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(jO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(GO(e))return"Blackberry";if(WO(e))return"Webos";if(Eb(e))return"Safari";if((e.includes("chrome/")||zO(e))&&!e.includes("edge/"))return"Chrome";if(cc(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function jO(n=rt()){return/firefox\//i.test(n)}function Eb(n=rt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zO(n=rt()){return/crios\//i.test(n)}function $O(n=rt()){return/iemobile/i.test(n)}function cc(n=rt()){return/android/i.test(n)}function GO(n=rt()){return/blackberry/i.test(n)}function WO(n=rt()){return/webos/i.test(n)}function To(n=rt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function HO(n=rt()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(n)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(n)}function Hj(n=rt()){var e;return To(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Kj(){return yO()&&document.documentMode===10}function KO(n=rt()){return To(n)||cc(n)||WO(n)||GO(n)||/windows phone/i.test(n)||$O(n)}function Yj(){try{return!!(window&&window!==window.top)}catch(n){return!1}}function bb(n,e=[]){let t;switch(n){case"Browser":t=SO(rt());break;case"Worker":t=`${SO(rt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Mt}/${r}`}var tb=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,a)=>{try{let c=e(s);o(c)}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch(s){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}};var sp=class{constructor(e,t,r){this.app=e,this.heartbeatServiceProvider=t,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new op(this),this.idTokenSubscription=new op(this),this.beforeStateQueue=new tb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BO,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=It(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Hi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(s){}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;let e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var t;let r=await this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i==null?void 0:i._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(i=c.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return w(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(r){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Tl(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Bj()}async _delete(){this._deleted=!0}async updateCurrentUser(e){let t=e?Q(e):null;return t&&w(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&w(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(It(e))})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new _o("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){let r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){let t=e&&It(e)||this._popupRedirectResolver;w(t,this,"argument-error"),this.redirectPersistenceManager=await Hi.create(this,[It(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return w(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof t=="function"?e.addObserver(t,r,i):e.addObserver(t)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return w(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=bb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;let t={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());return r&&(t["X-Firebase-Client"]=r),t}};function Oe(n){return Q(n)}var op=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=EO(t=>this.observer=t)}get next(){return w(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};function Ib(n,e,t){let r=Oe(n);w(r._canInitEmulator,r,"emulator-config-failed"),w(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!(t!=null&&t.disableWarnings),s=YO(e),{host:o,port:a}=Qj(e),c=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${c}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Jj()}function YO(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Qj(n){let e=YO(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:CO(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:CO(o)}}}function CO(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function Jj(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var ur=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ir("not implemented")}_getIdTokenResponse(e){return ir("not implemented")}_linkToIdToken(e,t){return ir("not implemented")}_getReauthenticationResolver(e){return ir("not implemented")}};async function QO(n,e){return st(n,"POST","/v1/accounts:resetPassword",Qe(n,e))}async function JO(n,e){return st(n,"POST","/v1/accounts:update",e)}async function Xj(n,e){return st(n,"POST","/v1/accounts:update",Qe(n,e))}async function Zj(n,e){return Xr(n,"POST","/v1/accounts:signInWithPassword",Qe(n,e))}async function _p(n,e){return st(n,"POST","/v1/accounts:sendOobCode",Qe(n,e))}async function ez(n,e){return _p(n,e)}async function tz(n,e){return _p(n,e)}async function nz(n,e){return _p(n,e)}async function rz(n,e){return _p(n,e)}async function iz(n,e){return Xr(n,"POST","/v1/accounts:signInWithEmailLink",Qe(n,e))}async function sz(n,e){return Xr(n,"POST","/v1/accounts:signInWithEmailLink",Qe(n,e))}var Qi=class extends ur{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Qi(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Qi(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Zj(e,{returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return iz(e,{email:this._email,oobCode:this._password});default:Ue(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return JO(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return sz(e,{idToken:t,email:this._email,oobCode:this._password});default:Ue(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};async function Qr(n,e){return Xr(n,"POST","/v1/accounts:signInWithIdp",Qe(n,e))}var oz="http://localhost",Gt=class extends ur{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new Gt(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ue("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=Zf(t,["providerId","signInMethod"]);if(!r||!i)return null;let o=new Gt(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let t=this.buildRequest();return Qr(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,Qr(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Qr(e,t)}buildRequest(){let e={requestUri:oz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=yo(t)}return e}};async function az(n,e){return st(n,"POST","/v1/accounts:sendVerificationCode",Qe(n,e))}async function cz(n,e){return Xr(n,"POST","/v1/accounts:signInWithPhoneNumber",Qe(n,e))}async function uz(n,e){let t=await Xr(n,"POST","/v1/accounts:signInWithPhoneNumber",Qe(n,e));if(t.temporaryProof)throw vl(n,"account-exists-with-different-credential",t);return t}var lz={USER_NOT_FOUND:"user-not-found"};async function hz(n,e){let t=Object.assign(Object.assign({},e),{operation:"REAUTH"});return Xr(n,"POST","/v1/accounts:signInWithPhoneNumber",Qe(n,t),lz)}var ar=class extends ur{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new ar({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new ar({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return cz(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return uz(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return hz(e,this._makeVerificationRequest())}_makeVerificationRequest(){let{temporaryProof:e,phoneNumber:t,verificationId:r,verificationCode:i}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:r,code:i}}toJSON(){let e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));let{verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s}=e;return!r&&!t&&!i&&!s?null:new ar({verificationId:t,verificationCode:r,phoneNumber:i,temporaryProof:s})}};function dz(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function fz(n){let e=Gi(nc(n)).link,t=e?Gi(nc(e)).deep_link_id:null,r=Gi(nc(n)).deep_link_id;return(r?Gi(nc(r)).link:null)||r||t||e||n}var bo=class{constructor(e){var t,r,i,s,o,a;let c=Gi(nc(e)),u=(t=c.apiKey)!==null&&t!==void 0?t:null,l=(r=c.oobCode)!==null&&r!==void 0?r:null,h=dz((i=c.mode)!==null&&i!==void 0?i:null);w(u&&l&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=l,this.continueUrl=(s=c.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=c.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=c.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=fz(e);try{return new bo(t)}catch(r){return null}}};var gn=class{constructor(){this.providerId=gn.PROVIDER_ID}static credential(e,t){return Qi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){let r=bo.parseLink(t);return w(r,"argument-error"),Qi._fromEmailAndCode(e,r.code,r.tenantId)}};gn.PROVIDER_ID="password";gn.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gn.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Mn=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Ji=class extends Mn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}},cr=class extends Ji{static credentialFromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;return w("providerId"in t&&"signInMethod"in t,"argument-error"),Gt._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return w(e.idToken||e.accessToken,"argument-error"),Gt._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return cr.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return cr.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:r,oauthTokenSecret:i,pendingToken:s,nonce:o,providerId:a}=e;if(!r&&!i&&!t&&!s||!a)return null;try{return new cr(a)._credential({idToken:t,accessToken:r,nonce:o,pendingToken:s})}catch(c){return null}}};var Vt=class extends Ji{constructor(){super("facebook.com")}static credential(e){return Gt._fromParams({providerId:Vt.PROVIDER_ID,signInMethod:Vt.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Vt.credentialFromTaggedObject(e)}static credentialFromError(e){return Vt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Vt.credential(e.oauthAccessToken)}catch(t){return null}}};Vt.FACEBOOK_SIGN_IN_METHOD="facebook.com";Vt.PROVIDER_ID="facebook.com";var jt=class extends Ji{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gt._fromParams({providerId:jt.PROVIDER_ID,signInMethod:jt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return jt.credentialFromTaggedObject(e)}static credentialFromError(e){return jt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return jt.credential(t,r)}catch(i){return null}}};jt.GOOGLE_SIGN_IN_METHOD="google.com";jt.PROVIDER_ID="google.com";var zt=class extends Ji{constructor(){super("github.com")}static credential(e){return Gt._fromParams({providerId:zt.PROVIDER_ID,signInMethod:zt.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return zt.credentialFromTaggedObject(e)}static credentialFromError(e){return zt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return zt.credential(e.oauthAccessToken)}catch(t){return null}}};zt.GITHUB_SIGN_IN_METHOD="github.com";zt.PROVIDER_ID="github.com";var pz="http://localhost",lr=class extends ur{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){let t=this.buildRequest();return Qr(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,Qr(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,Qr(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,pendingToken:s}=t;return!r||!i||!s||r!==i?null:new lr(r,s)}static _create(e,t){return new lr(e,t)}buildRequest(){return{requestUri:pz,returnSecureToken:!0,pendingToken:this.pendingToken}}};var mz="saml.",Xi=class extends Mn{constructor(e){w(e.startsWith(mz),"argument-error"),super(e)}static credentialFromResult(e){return Xi.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return Xi.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){let t=lr.fromJSON(e);return w(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{pendingToken:t,providerId:r}=e;if(!t||!r)return null;try{return lr._create(r,t)}catch(i){return null}}};var $t=class extends Ji{constructor(){super("twitter.com")}static credential(e,t){return Gt._fromParams({providerId:$t.PROVIDER_ID,signInMethod:$t.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return $t.credentialFromTaggedObject(e)}static credentialFromError(e){return $t.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return $t.credential(t,r)}catch(i){return null}}};$t.TWITTER_SIGN_IN_METHOD="twitter.com";$t.PROVIDER_ID="twitter.com";async function XO(n,e){return Xr(n,"POST","/v1/accounts:signUp",Qe(n,e))}var Wt=class{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){let s=await sr._fromIdTokenResponse(e,r,i),o=AO(r);return new Wt({user:s,providerId:o,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);let i=AO(r);return new Wt({user:e,providerId:i,_tokenResponse:r,operationType:t})}};function AO(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function wb(n){var e;let t=Oe(n);if(await t._initializationPromise,!((e=t.currentUser)===null||e===void 0)&&e.isAnonymous)return new Wt({user:t.currentUser,providerId:null,operationType:"signIn"});let r=await XO(t,{returnSecureToken:!0}),i=await Wt._fromIdTokenResponse(t,"signIn",r,!0);return await t._updateCurrentUser(i.user),i}var rc=class extends Kr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rc.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new rc(e,t,r,i)}};function ZO(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?rc._fromErrorAndOperation(n,s,e,r):s})}function eN(n){return new Set(n.map(({providerId:e})=>e).filter(e=>!!e))}async function Tb(n,e){let t=Q(n);await yp(!0,t,e);let{providerUserInfo:r}=await qj(t.auth,{idToken:await t.getIdToken(),deleteProvider:[e]}),i=eN(r||[]);return t.providerData=t.providerData.filter(s=>i.has(s.providerId)),i.has("phone")||(t.phoneNumber=null),await t.auth._persistUserIfCurrent(t),t}async function Sb(n,e,t=!1){let r=await Jr(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Wt._forOperation(n,"link",r)}async function yp(n,e,t){await Tl(e);let r=eN(e.providerData),i=n===!1?"provider-already-linked":"no-such-provider";w(r.has(t)===n,e.auth,i)}async function tN(n,e,t=!1){let{auth:r}=n,i="reauthenticate";try{let s=await Jr(n,ZO(r,i,e,n),t);w(s.idToken,r,"internal-error");let o=gp(s.idToken);w(o,r,"internal-error");let{sub:a}=o;return w(n.uid===a,r,"user-mismatch"),Wt._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ue(r,"user-mismatch"),s}}async function nN(n,e,t=!1){let r="signIn",i=await ZO(n,r,e),s=await Wt._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function uc(n,e){return nN(Oe(n),e)}async function vp(n,e){let t=Q(n);return await yp(!1,t,e.providerId),Sb(t,e)}async function Ep(n,e){return tN(Q(n),e)}async function gz(n,e){return Xr(n,"POST","/v1/accounts:signInWithCustomToken",Qe(n,e))}async function Cb(n,e){let t=Oe(n),r=await gz(t,{token:e,returnSecureToken:!0}),i=await Wt._fromIdTokenResponse(t,"signIn",r);return await t._updateCurrentUser(i.user),i}var ic=class{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?Sl._fromServerResponse(e,t):Ue(e,"internal-error")}},Sl=class extends ic{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new Sl(t)}};function bp(n,e,t){var r;w(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),w(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(w(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(w(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}async function Ab(n,e,t){let r=Q(n),i={requestType:"PASSWORD_RESET",email:e};t&&bp(r,i,t),await tz(r,i)}async function Rb(n,e,t){await QO(Q(n),{oobCode:e,newPassword:t})}async function xb(n,e){await Xj(Q(n),{oobCode:e})}async function Ip(n,e){let t=Q(n),r=await QO(t,{oobCode:e}),i=r.requestType;switch(w(i,t,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":w(r.newEmail,t,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":w(r.mfaInfo,t,"internal-error");default:w(r.email,t,"internal-error")}let s=null;return r.mfaInfo&&(s=ic._fromServerResponse(Oe(t),r.mfaInfo)),{data:{email:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.newEmail:r.email)||null,previousEmail:(r.requestType==="VERIFY_AND_CHANGE_EMAIL"?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}}async function Db(n,e){let{data:t}=await Ip(Q(n),e);return t.email}async function Ob(n,e,t){let r=Oe(n),i=await XO(r,{returnSecureToken:!0,email:e,password:t}),s=await Wt._fromIdTokenResponse(r,"signIn",i);return await r._updateCurrentUser(s.user),s}function Nb(n,e,t){return uc(Q(n),gn.credential(e,t))}async function kb(n,e,t){let r=Q(n),i={requestType:"EMAIL_SIGNIN",email:e};w(t.handleCodeInApp,r,"argument-error"),t&&bp(r,i,t),await nz(r,i)}function Pb(n,e){let t=bo.parseLink(e);return(t==null?void 0:t.operation)==="EMAIL_SIGNIN"}async function Mb(n,e,t){let r=Q(n),i=gn.credentialWithLink(e,t||Il());return w(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),uc(r,i)}async function _z(n,e){return st(n,"POST","/v1/accounts:createAuthUri",Qe(n,e))}async function Bb(n,e){let t=yb()?Il():"http://localhost",r={identifier:e,continueUri:t},{signinMethods:i}=await _z(Q(n),r);return i||[]}async function Lb(n,e){let t=Q(n),i={requestType:"VERIFY_EMAIL",idToken:await n.getIdToken()};e&&bp(t.auth,i,e);let{email:s}=await ez(t.auth,i);s!==n.email&&await n.reload()}async function Ub(n,e,t){let r=Q(n),s={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await n.getIdToken(),newEmail:e};t&&bp(r.auth,s,t);let{email:o}=await rz(r.auth,s);o!==n.email&&await n.reload()}async function yz(n,e){return st(n,"POST","/v1/accounts:update",e)}async function Fb(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;let r=Q(n),s={idToken:await r.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},o=await Jr(r,yz(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;let a=r.providerData.find(({providerId:c})=>c==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function qb(n,e){return rN(Q(n),e,null)}function Vb(n,e){return rN(Q(n),null,e)}async function rN(n,e,t){let{auth:r}=n,s={idToken:await n.getIdToken(),returnSecureToken:!0};e&&(s.email=e),t&&(s.password=t);let o=await Jr(n,JO(r,s));await n._updateTokensIfNecessary(o,!0)}function vz(n){var e,t;if(!n)return null;let{providerId:r}=n,i=n.rawUserInfo?JSON.parse(n.rawUserInfo):{},s=n.isNewUser||n.kind==="identitytoolkit#SignupNewUserResponse";if(!r&&(n!=null&&n.idToken)){let o=(t=(e=gp(n.idToken))===null||e===void 0?void 0:e.firebase)===null||t===void 0?void 0:t.sign_in_provider;if(o){let a=o!=="anonymous"&&o!=="custom"?o:null;return new Ki(s,a)}}if(!r)return null;switch(r){case"facebook.com":return new nb(s,i);case"github.com":return new rb(s,i);case"google.com":return new ib(s,i);case"twitter.com":return new sb(s,i,n.screenName||null);case"custom":case"anonymous":return new Ki(s,null);default:return new Ki(s,r,i)}}var Ki=class{constructor(e,t,r={}){this.isNewUser=e,this.providerId=t,this.profile=r}},ap=class extends Ki{constructor(e,t,r,i){super(e,t,r),this.username=i}},nb=class extends Ki{constructor(e,t){super(e,"facebook.com",t)}},rb=class extends ap{constructor(e,t){super(e,"github.com",t,typeof(t==null?void 0:t.login)=="string"?t==null?void 0:t.login:null)}},ib=class extends Ki{constructor(e,t){super(e,"google.com",t)}},sb=class extends ap{constructor(e,t,r){super(e,"twitter.com",t,r)}};function jb(n){let{user:e,_tokenResponse:t}=n;return e.isAnonymous&&!t?{providerId:null,isNewUser:!1,profile:null}:vz(t)}var Yr=class{constructor(e,t,r){this.type=e,this.credential=t,this.auth=r}static _fromIdtoken(e,t){return new Yr("enroll",e,t)}static _fromMfaPendingCredential(e){return new Yr("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,r;if(e!=null&&e.multiFactorSession){if(!((t=e.multiFactorSession)===null||t===void 0)&&t.pendingCredential)return Yr._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(!((r=e.multiFactorSession)===null||r===void 0)&&r.idToken)return Yr._fromIdtoken(e.multiFactorSession.idToken)}return null}};var Cl=class{constructor(e,t,r){this.session=e,this.hints=t,this.signInResolver=r}static _fromError(e,t){let r=Oe(e),i=t.customData._serverResponse,s=(i.mfaInfo||[]).map(a=>ic._fromServerResponse(r,a));w(i.mfaPendingCredential,r,"internal-error");let o=Yr._fromMfaPendingCredential(i.mfaPendingCredential);return new Cl(o,s,async a=>{let c=await a._process(r,o);delete i.mfaInfo,delete i.mfaPendingCredential;let u=Object.assign(Object.assign({},i),{idToken:c.idToken,refreshToken:c.refreshToken});switch(t.operationType){case"signIn":let l=await Wt._fromIdTokenResponse(r,t.operationType,u);return await r._updateCurrentUser(l.user),l;case"reauthenticate":return w(t.user,r,"internal-error"),Wt._forOperation(t.user,t.operationType,u);default:Ue(r,"internal-error")}})}async resolveSignIn(e){let t=e;return this.signInResolver(t)}};function zb(n,e){var t;let r=Q(n),i=e;return w(e.customData.operationType,r,"argument-error"),w((t=i.customData._serverResponse)===null||t===void 0?void 0:t.mfaPendingCredential,r,"argument-error"),Cl._fromError(r,i)}function Ez(n,e){return st(n,"POST","/v2/accounts/mfaEnrollment:start",Qe(n,e))}function bz(n,e){return st(n,"POST","/v2/accounts/mfaEnrollment:finalize",Qe(n,e))}function Iz(n,e){return st(n,"POST","/v2/accounts/mfaEnrollment:withdraw",Qe(n,e))}var Al=class{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(r=>ic._fromServerResponse(e.auth,r)))})}static _fromUser(e){return new Al(e)}async getSession(){return Yr._fromIdtoken(await this.user.getIdToken(),this.user.auth)}async enroll(e,t){let r=e,i=await this.getSession(),s=await Jr(this.user,r._process(this.user.auth,i,t));return await this.user._updateTokensIfNecessary(s),this.user.reload()}async unenroll(e){let t=typeof e=="string"?e:e.uid,r=await this.user.getIdToken();try{let i=await Jr(this.user,Iz(this.user.auth,{idToken:r,mfaEnrollmentId:t}));this.enrolledFactors=this.enrolledFactors.filter(({uid:s})=>s!==t),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}},QE=new WeakMap;function $b(n){let e=Q(n);return QE.has(e)||QE.set(e,Al._fromUser(e)),QE.get(e)}var cp="__sak";var up=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(cp,"1"),this.storage.removeItem(cp),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};function wz(){let n=rt();return Eb(n)||To(n)}var Tz=1e3,Sz=10,lp=class extends up{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=wz()&&Yj(),this.fallbackToPolling=KO(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(let t of Object.keys(this.listeners)){let r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}let r=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){let o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!t)return}let i=()=>{let o=this.storage.getItem(r);!t&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Kj()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Sz):i()}notifyListeners(e,t){this.localCache[e]=t;let r=this.listeners[e];if(r)for(let i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},Tz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){let t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}};lp.type="LOCAL";var lc=lp;var hp=class extends up{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}};hp.type="SESSION";var hr=hp;function Cz(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}var sc=class{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){let t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;let r=new sc(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){let t=e,{eventId:r,eventType:i,data:s}=t.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});let a=Array.from(o).map(async u=>u(t.origin,s)),c=await Cz(a);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:c})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}};sc.receivers=[];function So(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var ob=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,c)=>{let u=So("",20);i.port1.start();let l=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let d=h;if(d.data.eventId===u)switch(d.data.status){case"ack":clearTimeout(l),s=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(d.data.response);break;default:clearTimeout(l),clearTimeout(s),c(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}};function Ye(){return window}function Az(n){Ye().location.href=n}function Gb(){return typeof Ye().WorkerGlobalScope<"u"&&typeof Ye().importScripts=="function"}async function Rz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(n){return null}}function xz(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function Dz(){return Gb()?self:null}var iN="firebaseLocalStorageDb",Oz=1,dp="firebaseLocalStorage",sN="fbase_key",Io=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function wp(n,e){return n.transaction([dp],e?"readwrite":"readonly").objectStore(dp)}function Nz(){let n=indexedDB.deleteDatabase(iN);return new Io(n).toPromise()}function ab(){let n=indexedDB.open(iN,Oz);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(dp,{keyPath:sN})}catch(i){t(i)}}),n.addEventListener("success",async()=>{let r=n.result;r.objectStoreNames.contains(dp)?e(r):(r.close(),await Nz(),e(await ab()))})})}async function RO(n,e,t){let r=wp(n,!0).put({[sN]:e,value:t});return new Io(r).toPromise()}async function kz(n,e){let t=wp(n,!1).get(e),r=await new Io(t).toPromise();return r===void 0?null:r.value}function xO(n,e){let t=wp(n,!0).delete(e);return new Io(t).toPromise()}var Pz=800,Mz=3,fp=class{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ab(),this.db)}async _withRetries(e){let t=0;for(;;)try{let r=await this._openDb();return await e(r)}catch(r){if(t++>Mz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Gb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=sc._getInstance(Dz()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await Rz(),!this.activeServiceWorker)return;this.sender=new ob(this.activeServiceWorker);let r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||xz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;let e=await ab();return await RO(e,cp,"1"),await xO(e,cp),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>RO(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){let t=await this._withRetries(r=>kz(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>xO(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){let e=await this._withRetries(i=>{let s=wp(i,!1).getAll();return new Io(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];let t=[],r=new Set;for(let{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(let i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;let r=this.listeners[e];if(r)for(let i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Pz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}};fp.type="LOCAL";var Co=fp;function Bz(n,e){return st(n,"POST","/v2/accounts/mfaSignIn:start",Qe(n,e))}function Lz(n,e){return st(n,"POST","/v2/accounts/mfaSignIn:finalize",Qe(n,e))}async function Uz(n){return(await st(n,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}function Fz(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}function oN(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=it("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",Fz().appendChild(r)})}function aN(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var qz=500,Vz=6e4,ep=1e12,cb=class{constructor(e){this.auth=e,this.counter=ep,this._widgets=new Map}render(e,t){let r=this.counter;return this._widgets.set(r,new ub(e,this.auth.name,t||{})),this.counter++,r}reset(e){var t;let r=e||ep;(t=this._widgets.get(r))===null||t===void 0||t.delete(),this._widgets.delete(r)}getResponse(e){var t;let r=e||ep;return((t=this._widgets.get(r))===null||t===void 0?void 0:t.getResponse())||""}async execute(e){var t;let r=e||ep;return(t=this._widgets.get(r))===null||t===void 0||t.execute(),""}},ub=class{constructor(e,t,r){this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};let i=typeof e=="string"?document.getElementById(e):e;w(i,"argument-error",{appName:t}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=jz(50);let{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(r){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(r){}this.isVisible&&this.execute()},Vz)},qz))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}};function jz(n){let e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<n;r++)e.push(t.charAt(Math.floor(Math.random()*t.length)));return e.join("")}var JE=aN("rcb"),zz=new vo(3e4,6e4),$z="https://www.google.com/recaptcha/api.js?",lb=class{constructor(){var e;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!(!((e=Ye().grecaptcha)===null||e===void 0)&&e.render)}load(e,t=""){return w(Gz(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Ye().grecaptcha):new Promise((r,i)=>{let s=Ye().setTimeout(()=>{i(it(e,"network-request-failed"))},zz.get());Ye()[JE]=()=>{Ye().clearTimeout(s),delete Ye()[JE];let a=Ye().grecaptcha;if(!a){i(it(e,"internal-error"));return}let c=a.render;a.render=(u,l)=>{let h=c(u,l);return this.counter++,h},this.hostLanguage=t,r(a)};let o=`${$z}?${yo({onload:JE,render:"explicit",hl:t})}`;oN(o).catch(()=>{clearTimeout(s),i(it(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){var t;return!!(!((t=Ye().grecaptcha)===null||t===void 0)&&t.render)&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}};function Gz(n){return n.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(n)}var hb=class{async load(e){return new cb(e)}clearedOneInstance(){}};var cN="recaptcha",Wz={theme:"light",type:"image"},Rl=class{constructor(e,t=Object.assign({},Wz),r){this.parameters=t,this.type=cN,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Oe(r),this.isInvisible=this.parameters.size==="invisible",w(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");let i=typeof e=="string"?document.getElementById(e):e;w(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new hb:new lb,this.validateStartingState()}async verify(){this.assertNotDestroyed();let e=await this.render(),t=this.getAssertedRecaptcha(),r=t.getResponse(e);return r||new Promise(i=>{let s=o=>{o&&(this.tokenChangeListeners.delete(s),i(o))};this.tokenChangeListeners.add(s),this.isInvisible&&t.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){w(!this.parameters.sitekey,this.auth,"argument-error"),w(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),w(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(r=>r(t)),typeof e=="function")e(t);else if(typeof e=="string"){let r=Ye()[e];typeof r=="function"&&r(t)}}}assertNotDestroyed(){w(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){let t=document.createElement("div");e.appendChild(t),e=t}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){w(yb()&&!Gb(),this.auth,"internal-error"),await Hz(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);let e=await Uz(this.auth);w(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return w(this.recaptcha,this.auth,"internal-error"),this.recaptcha}};function Hz(){let n=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}n=()=>e(),window.addEventListener("load",n)}).catch(e=>{throw n&&window.removeEventListener("load",n),e})}var xl=class{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){let t=ar._fromVerification(this.verificationId,e);return this.onConfirmation(t)}};async function Wb(n,e,t){let r=Oe(n),i=await Tp(r,e,Q(t));return new xl(i,s=>uc(r,s))}async function Hb(n,e,t){let r=Q(n);await yp(!1,r,"phone");let i=await Tp(r.auth,e,Q(t));return new xl(i,s=>vp(r,s))}async function Kb(n,e,t){let r=Q(n),i=await Tp(r.auth,e,Q(t));return new xl(i,s=>Ep(r,s))}async function Tp(n,e,t){var r;let i=await t.verify();try{w(typeof i=="string",n,"argument-error"),w(t.type===cN,n,"argument-error");let s;if(typeof e=="string"?s={phoneNumber:e}:s=e,"session"in s){let o=s.session;if("phoneNumber"in s)return w(o.type==="enroll",n,"internal-error"),(await Ez(n,{idToken:o.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{w(o.type==="signin",n,"internal-error");let a=((r=s.multiFactorHint)===null||r===void 0?void 0:r.uid)||s.multiFactorUid;return w(a,n,"missing-multi-factor-info"),(await Bz(n,{mfaPendingCredential:o.credential,mfaEnrollmentId:a,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}else{let{sessionInfo:o}=await az(n,{phoneNumber:s.phoneNumber,recaptchaToken:i});return o}}finally{t._reset()}}async function Yb(n,e){await Sb(Q(n),e)}var Dt=class{constructor(e){this.providerId=Dt.PROVIDER_ID,this.auth=Oe(e)}verifyPhoneNumber(e,t){return Tp(this.auth,e,Q(t))}static credential(e,t){return ar._fromVerification(e,t)}static credentialFromResult(e){let t=e;return Dt.credentialFromTaggedObject(t)}static credentialFromError(e){return Dt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;let{phoneNumber:t,temporaryProof:r}=e;return t&&r?ar._fromTokenResponse(t,r):null}};Dt.PROVIDER_ID="phone";Dt.PHONE_SIGN_IN_METHOD="phone";function Ao(n,e){return e?It(e):(w(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Dl=class extends ur{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Qr(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Qr(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Qr(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Kz(n){return nN(n.auth,new Dl(n),n.bypassAuthState)}function Yz(n){let{auth:e,user:t}=n;return w(t,e,"internal-error"),tN(t,new Dl(n),n.bypassAuthState)}async function Qz(n){let{auth:e,user:t}=n;return w(t,e,"internal-error"),Sb(t,new Dl(n),n.bypassAuthState)}var pp=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let c={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kz;case"linkViaPopup":case"linkViaRedirect":return Qz;case"reauthViaPopup":case"reauthViaRedirect":return Yz;default:Ue(this.auth,"internal-error")}}resolve(e){mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Jz=new vo(2e3,1e4);async function Qb(n,e,t){let r=Oe(n);ac(n,e,Mn);let i=Ao(r,t);return new Pn(r,"signInViaPopup",e,i).executeNotNull()}async function Jb(n,e,t){let r=Q(n);ac(r.auth,e,Mn);let i=Ao(r.auth,t);return new Pn(r.auth,"reauthViaPopup",e,i,r).executeNotNull()}async function Xb(n,e,t){let r=Q(n);ac(r.auth,e,Mn);let i=Ao(r.auth,t);return new Pn(r.auth,"linkViaPopup",e,i,r).executeNotNull()}var Pn=class extends pp{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Pn.currentPopupAction&&Pn.currentPopupAction.cancel(),Pn.currentPopupAction=this}async executeNotNull(){let e=await this.execute();return w(e,this.auth,"internal-error"),e}async onExecution(){mn(this.filter.length===1,"Popup operations only handle one event");let e=So();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(it(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(it(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Pn.currentPopupAction=null}pollUserCancellation(){let e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(it(this.auth,"popup-closed-by-user"))},2e3);return}this.pollId=window.setTimeout(e,Jz.get())};e()}};Pn.currentPopupAction=null;var Xz="pendingRedirect",bl=new Map,db=class extends pp{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=bl.get(this.auth._key());if(!e){try{let r=await Zz(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}bl.set(this.auth._key(),e)}return this.bypassAuthState||bl.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}};async function Zz(n,e){let t=hN(e),r=lN(n);if(!await r._isAvailable())return!1;let i=await r._get(t)==="true";return await r._remove(t),i}async function Zb(n,e){return lN(n)._set(hN(e),"true")}function uN(){bl.clear()}function hc(n,e){bl.set(n._key(),e)}function lN(n){return It(n._redirectPersistence)}function hN(n){return or(Xz,n.config.apiKey,n.name)}function eI(n,e,t){return e$(n,e,t)}async function e$(n,e,t){let r=Oe(n);ac(n,e,Mn),await r._initializationPromise;let i=Ao(r,t);return await Zb(i,r),i._openRedirect(r,e,"signInViaRedirect")}function tI(n,e,t){return t$(n,e,t)}async function t$(n,e,t){let r=Q(n);ac(r.auth,e,Mn),await r.auth._initializationPromise;let i=Ao(r.auth,t);await Zb(i,r.auth);let s=await dN(r);return i._openRedirect(r.auth,e,"reauthViaRedirect",s)}function nI(n,e,t){return n$(n,e,t)}async function n$(n,e,t){let r=Q(n);ac(r.auth,e,Mn),await r.auth._initializationPromise;let i=Ao(r.auth,t);await yp(!1,r,e.providerId),await Zb(i,r.auth);let s=await dN(r);return i._openRedirect(r.auth,e,"linkViaRedirect",s)}async function rI(n,e){return await Oe(n)._initializationPromise,Ro(n,e,!1)}async function Ro(n,e,t=!1){let r=Oe(n),i=Ao(r,e),o=await new db(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}async function dN(n){let e=So(`${n.uid}:::`);return n._redirectEventId=e,await n.auth._setRedirectUser(n),await n.auth._persistUserIfCurrent(n),e}var r$=10*60*1e3,Ol=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!i$(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!fN(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(it(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=r$&&this.cachedEventUids.clear(),this.cachedEventUids.has(DO(e))}saveEventToCache(e){this.cachedEventUids.add(DO(e)),this.lastProcessedEventTime=Date.now()}};function DO(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function fN({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function i$(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fN(n);default:return!1}}async function iI(n,e={}){return st(n,"GET","/v1/projects",e)}var s$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,o$=/^https?/;async function a$(n){if(n.config.emulator)return;let{authorizedDomains:e}=await iI(n);for(let t of e)try{if(c$(t))return}catch(r){}Ue(n,"unauthorized-domain")}function c$(n){let e=Il(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!o$.test(t))return!1;if(s$.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var u$=new vo(3e4,6e4);function OO(){let n=Ye().___jsl;if(n!=null&&n.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function l$(n){return new Promise((e,t)=>{var r,i,s;function o(){OO(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OO(),t(it(n,"network-request-failed"))},timeout:u$.get()})}if(!((i=(r=Ye().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Ye().gapi)===null||s===void 0)&&s.load)o();else{let a=aN("iframefcb");return Ye()[a]=()=>{gapi.load?o():t(it(n,"network-request-failed"))},oN(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>t(c))}}).catch(e=>{throw np=null,e})}var np=null;function h$(n){return np=np||l$(n),np}var d$=new vo(5e3,15e3),f$="__/auth/iframe",p$="emulator/auth/iframe",m$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},g$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _$(n){let e=n.config;w(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?vb(e,p$):`https://${n.config.authDomain}/${f$}`,r={apiKey:e.apiKey,appName:n.name,v:Mt},i=g$.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${yo(r).slice(1)}`}async function y$(n){let e=await h$(n),t=Ye().gapi;return w(t,n,"internal-error"),e.open({where:document.body,url:_$(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:m$,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});let o=it(n,"network-request-failed"),a=Ye().setTimeout(()=>{s(o)},d$.get());function c(){Ye().clearTimeout(a),i(r)}r.ping(c).then(c,()=>{s(o)})}))}var v$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},E$=500,b$=600,I$="_blank",w$="http://localhost",Nl=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}};function T$(n,e,t,r=E$,i=b$){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",c=Object.assign(Object.assign({},v$),{width:r.toString(),height:i.toString(),top:s,left:o}),u=rt().toLowerCase();t&&(a=zO(u)?I$:t),jO(u)&&(e=e||w$,c.scrollbars="yes");let l=Object.entries(c).reduce((d,[p,m])=>`${d}${p}=${m},`,"");if(Hj(u)&&a!=="_self")return S$(e||"",a),new Nl(null);let h=window.open(e||"",a,l);w(h,n,"popup-blocked");try{h.focus()}catch(d){}return new Nl(h)}function S$(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var C$="__/auth/handler",A$="emulator/auth/handler";function mp(n,e,t,r,i,s){w(n.config.authDomain,n,"auth-domain-config-required"),w(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Mt,eventId:i};if(e instanceof Mn){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",vO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[c,u]of Object.entries(s||{}))o[c]=u}if(e instanceof Ji){let c=e.getScopes().filter(u=>u!=="");c.length>0&&(o.scopes=c.join(","))}n.tenantId&&(o.tid=n.tenantId);let a=o;for(let c of Object.keys(a))a[c]===void 0&&delete a[c];return`${R$(n)}?${yo(a).slice(1)}`}function R$({config:n}){return n.emulator?vb(n,A$):`https://${n.authDomain}/${C$}`}var XE="webStorageSupport",fb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=hr,this._completeRedirectFn=Ro,this._overrideRedirectResult=hc}async _openPopup(e,t,r,i){var s;mn((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=mp(e,t,r,Il(),i);return T$(e,o,So())}async _openRedirect(e,t,r,i){return await this._originValidation(e),Az(mp(e,t,r,Il(),i)),new Promise(()=>{})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(mn(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){let t=await y$(e),r=new Ol(e);return t.register("authEvent",i=>(w(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(XE,{type:XE},i=>{var s;let o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[XE];o!==void 0&&t(!!o),Ue(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=a$(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return KO()||Eb()||To()}},sI=fb,pb=class{constructor(e){this.factorId=e}_process(e,t,r){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,r);case"signin":return this._finalizeSignIn(e,t.credential);default:return ir("unexpected MultiFactorSessionType")}}},kl=class extends pb{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new kl(e)}_finalizeEnroll(e,t,r){return bz(e,{idToken:t,displayName:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return Lz(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},oc=class{constructor(){}static assertion(e){return kl._fromCredential(e)}};oc.FACTOR_ID="phone";var NO="@firebase/auth",kO="0.21.5";var mb=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){w(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function x$(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function D$(n){Ie(new yl("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),{apiKey:s,authDomain:o}=r.options;return((a,c)=>{w(s&&!s.includes(":"),"invalid-api-key",{appName:a.name}),w(!(o!=null&&o.includes(":")),"argument-error",{appName:a.name});let u={apiKey:s,authDomain:o,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:bb(n)},l=new sp(a,c,u);return Pj(l,t),l})(r,i)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ie(new yl("auth-internal",e=>{let t=Oe(e.getProvider("auth").getImmediate());return(r=>new mb(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ie(NO,kO,x$(n)),ie(NO,kO,"esm2017")}var O$=5*60,ene=pO("authIdTokenMaxAge")||O$;D$("Browser");function xo(){return window}var N$=2e3;async function k$(n,e,t){var r;let{BuildInfo:i}=xo();mn(e.sessionId,"AuthEvent did not contain a session ID");let s=await U$(e.sessionId),o={};return To()?o.ibi=i.packageName:cc()?o.apn=i.packageName:Ue(n,"operation-not-supported-in-this-environment"),i.displayName&&(o.appDisplayName=i.displayName),o.sessionId=s,mp(n,t,e.type,void 0,(r=e.eventId)!==null&&r!==void 0?r:void 0,o)}async function P$(n){let{BuildInfo:e}=xo(),t={};To()?t.iosBundleId=e.packageName:cc()?t.androidPackageName=e.packageName:Ue(n,"operation-not-supported-in-this-environment"),await iI(n,t)}function M$(n){let{cordova:e}=xo();return new Promise(t=>{e.plugins.browsertab.isAvailable(r=>{let i=null;r?e.plugins.browsertab.openUrl(n):i=e.InAppBrowser.open(n,HO()?"_blank":"_system","location=yes"),t(i)})})}async function B$(n,e,t){let{cordova:r}=xo(),i=()=>{};try{await new Promise((s,o)=>{let a=null;function c(){var h;s();let d=(h=r.plugins.browsertab)===null||h===void 0?void 0:h.close;typeof d=="function"&&d(),typeof(t==null?void 0:t.close)=="function"&&t.close()}function u(){a||(a=window.setTimeout(()=>{o(it(n,"redirect-cancelled-by-user"))},N$))}function l(){(document==null?void 0:document.visibilityState)==="visible"&&u()}e.addPassiveListener(c),document.addEventListener("resume",u,!1),cc()&&document.addEventListener("visibilitychange",l,!1),i=()=>{e.removePassiveListener(c),document.removeEventListener("resume",u,!1),document.removeEventListener("visibilitychange",l,!1),a&&window.clearTimeout(a)}})}finally{i()}}function L$(n){var e,t,r,i,s,o,a,c,u,l;let h=xo();w(typeof((e=h==null?void 0:h.universalLinks)===null||e===void 0?void 0:e.subscribe)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),w(typeof((t=h==null?void 0:h.BuildInfo)===null||t===void 0?void 0:t.packageName)<"u",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),w(typeof((s=(i=(r=h==null?void 0:h.cordova)===null||r===void 0?void 0:r.plugins)===null||i===void 0?void 0:i.browsertab)===null||s===void 0?void 0:s.openUrl)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),w(typeof((c=(a=(o=h==null?void 0:h.cordova)===null||o===void 0?void 0:o.plugins)===null||a===void 0?void 0:a.browsertab)===null||c===void 0?void 0:c.isAvailable)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),w(typeof((l=(u=h==null?void 0:h.cordova)===null||u===void 0?void 0:u.InAppBrowser)===null||l===void 0?void 0:l.open)=="function",n,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}async function U$(n){let e=F$(n),t=await crypto.subtle.digest("SHA-256",e);return Array.from(new Uint8Array(t)).map(i=>i.toString(16).padStart(2,"0")).join("")}function F$(n){if(mn(/[0-9a-zA-Z]+/.test(n),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return new TextEncoder().encode(n);let e=new ArrayBuffer(n.length),t=new Uint8Array(e);for(let r=0;r<n.length;r++)t[r]=n.charCodeAt(r);return t}var q$=20,oI=class extends Ol{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}async initialized(){await this.initPromise}};function V$(n,e,t=null){return{type:e,eventId:t,urlResponse:null,sessionId:$$(),postBody:null,tenantId:n.tenantId,error:it(n,"no-auth-event")}}function j$(n,e){return aI()._set(cI(n),e)}async function pN(n){let e=await aI()._get(cI(n));return e&&await aI()._remove(cI(n)),e}function z$(n,e){var t,r;let i=W$(e);if(i.includes("/__/auth/callback")){let s=Sp(i),o=s.firebaseError?G$(decodeURIComponent(s.firebaseError)):null,a=(r=(t=o==null?void 0:o.code)===null||t===void 0?void 0:t.split("auth/"))===null||r===void 0?void 0:r[1],c=a?it(a):null;return c?{type:n.type,eventId:n.eventId,tenantId:n.tenantId,error:c,urlResponse:null,sessionId:null,postBody:null}:{type:n.type,eventId:n.eventId,tenantId:n.tenantId,sessionId:n.sessionId,urlResponse:i,postBody:null}}return null}function $$(){let n=[],e="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let t=0;t<q$;t++){let r=Math.floor(Math.random()*e.length);n.push(e.charAt(r))}return n.join("")}function aI(){return It(lc)}function cI(n){return or("authEvent",n.config.apiKey,n.name)}function G$(n){try{return JSON.parse(n)}catch(e){return null}}function W$(n){let e=Sp(n),t=e.link?decodeURIComponent(e.link):void 0,r=Sp(t).link,i=e.deep_link_id?decodeURIComponent(e.deep_link_id):void 0;return Sp(i).link||i||r||t||n}function Sp(n){if(!(n!=null&&n.includes("?")))return{};let[e,...t]=n.split("?");return Gi(t.join("?"))}var H$=500,uI=class{constructor(){this._redirectPersistence=hr,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ro,this._overrideRedirectResult=hc}async _initialize(e){let t=e._key(),r=this.eventManagers.get(t);return r||(r=new oI(e),this.eventManagers.set(t,r),this.attachCallbackListeners(e,r)),r}_openPopup(e){Ue(e,"operation-not-supported-in-this-environment")}async _openRedirect(e,t,r,i){L$(e);let s=await this._initialize(e);await s.initialized(),s.resetRedirect(),uN(),await this._originValidation(e);let o=V$(e,r,i);await j$(e,o);let a=await k$(e,o,t),c=await M$(a);return B$(e,s,c)}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=P$(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){let{universalLinks:r,handleOpenURL:i,BuildInfo:s}=xo(),o=setTimeout(async()=>{await pN(e),t.onEvent(mN())},H$),a=async l=>{clearTimeout(o);let h=await pN(e),d=null;h&&(l!=null&&l.url)&&(d=z$(h,l.url)),t.onEvent(d||mN())};typeof r<"u"&&typeof r.subscribe=="function"&&r.subscribe(null,a);let c=i,u=`${s.packageName.toLowerCase()}://`;xo().handleOpenURL=async l=>{if(l.toLowerCase().startsWith(u)&&a({url:l}),typeof c=="function")try{c(l)}catch(h){console.error(h)}}}},gN=uI;function mN(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:it("no-auth-event")}}function _N(n,e){Oe(n)._logFramework(e)}f();f();var Y$=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Q$=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},J$={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,l=s>>2,h=(s&3)<<4|a>>4,d=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(d=64)),r.push(t[l],t[h],t[d],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Y$(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Q$(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new lI;let d=s<<2|a>>4;if(r.push(d),u!==64){let p=a<<4&240|u>>2;if(r.push(p),h!==64){let m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},lI=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}};var X$=function(n){try{return J$.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Z$(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("Unable to locate global object.")}var e6=()=>Z$().__FIREBASE_DEFAULTS__,t6=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},n6=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}let e=n&&X$(n[1]);return e&&JSON.parse(e)},r6=()=>{try{return e6()||t6()||n6()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}};function Pl(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dI(){var n;let e=(n=r6())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(window.process)==="[object process]"}catch(t){return!1}}function yN(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function fI(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function vN(){let n=Pl();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Cp(){try{return typeof indexedDB=="object"}catch(n){return!1}}var i6="FirebaseError",Bn=class extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=i6,Object.setPrototypeOf(this,Bn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,hI.prototype.create)}},hI=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?s6(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Bn(i,a,r)}};function s6(n,e){return n.replace(o6,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var o6=/\{\$([^}]+)}/g;var Cne=4*60*60*1e3;var Ap=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var a6="@firebase/auth-compat",c6="0.3.5";var u6=1e3;function Ll(){var n;return((n=self==null?void 0:self.location)===null||n===void 0?void 0:n.protocol)||null}function l6(){return Ll()==="http:"||Ll()==="https:"}function bN(n=Pl()){return!!((Ll()==="file:"||Ll()==="ionic:"||Ll()==="capacitor:")&&n.toLowerCase().match(/iphone|ipad|ipod|android/))}function h6(){return fI()||dI()}function d6(){return vN()&&(document==null?void 0:document.documentMode)===11}function f6(n=Pl()){return/Edge\/\d+/.test(n)}function p6(n=Pl()){return d6()||f6(n)}function IN(){try{let n=self.localStorage,e=So();if(n)return n.setItem(e,"1"),n.removeItem(e),p6()?Cp():!0}catch(n){return vI()&&Cp()}return!1}function vI(){return typeof window<"u"&&"WorkerGlobalScope"in window&&"importScripts"in window}function pI(){return(l6()||yN()||bN())&&!h6()&&IN()&&!vI()}function wN(){return bN()&&typeof document<"u"}async function m6(){return wN()?new Promise(n=>{let e=setTimeout(()=>{n(!1)},u6);document.addEventListener("deviceready",()=>{clearTimeout(e),n(!0)})}):!1}function g6(){return typeof window<"u"?window:null}var sn={LOCAL:"local",NONE:"none",SESSION:"session"},Ml=w,TN="persistence";function _6(n,e){if(Ml(Object.values(sn).includes(e),n,"invalid-persistence-type"),fI()){Ml(e!==sn.SESSION,n,"unsupported-persistence-type");return}if(dI()){Ml(e===sn.NONE,n,"unsupported-persistence-type");return}if(vI()){Ml(e===sn.NONE||e===sn.LOCAL&&Cp(),n,"unsupported-persistence-type");return}Ml(e===sn.NONE||IN(),n,"unsupported-persistence-type")}async function mI(n){await n._initializationPromise;let e=SN(),t=or(TN,n.config.apiKey,n.name);e&&e.setItem(t,n._getPersistence())}function y6(n,e){let t=SN();if(!t)return[];let r=or(TN,n,e);switch(t.getItem(r)){case sn.NONE:return[Yi];case sn.LOCAL:return[Co,hr];case sn.SESSION:return[hr];default:return[]}}function SN(){var n;try{return((n=g6())===null||n===void 0?void 0:n.sessionStorage)||null}catch(e){return null}}var v6=w,dr=class{constructor(){this.browserResolver=It(sI),this.cordovaResolver=It(gN),this.underlyingResolver=null,this._redirectPersistence=hr,this._completeRedirectFn=Ro,this._overrideRedirectResult=hc}async _initialize(e){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._initialize(e)}async _openPopup(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openPopup(e,t,r,i)}async _openRedirect(e,t,r,i){return await this.selectUnderlyingResolver(),this.assertedUnderlyingResolver._openRedirect(e,t,r,i)}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return wN()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return v6(this.underlyingResolver,"internal-error"),this.underlyingResolver}async selectUnderlyingResolver(){if(this.underlyingResolver)return;let e=await m6();this.underlyingResolver=e?this.cordovaResolver:this.browserResolver}};function CN(n){return n.unwrap()}function E6(n){return n.wrapped()}function b6(n){return AN(n)}function I6(n,e){var t;let r=(t=e.customData)===null||t===void 0?void 0:t._tokenResponse;if((e==null?void 0:e.code)==="auth/multi-factor-auth-required"){let i=e;i.resolver=new _I(n,zb(n,e))}else if(r){let i=AN(e),s=e;i&&(s.credential=i,s.tenantId=r.tenantId||void 0,s.email=r.email||void 0,s.phoneNumber=r.phoneNumber||void 0)}}function AN(n){let{_tokenResponse:e}=n instanceof Bn?n.customData:n;if(!e)return null;if(!(n instanceof Bn)&&"temporaryProof"in e&&"phoneNumber"in e)return Dt.credentialFromResult(n);let t=e.providerId;if(!t||t===wo.PASSWORD)return null;let r;switch(t){case wo.GOOGLE:r=jt;break;case wo.FACEBOOK:r=Vt;break;case wo.GITHUB:r=zt;break;case wo.TWITTER:r=$t;break;default:let{oauthIdToken:i,oauthAccessToken:s,oauthTokenSecret:o,pendingToken:a,nonce:c}=e;return!s&&!o&&!i&&!a?null:a?t.startsWith("saml.")?lr._create(t,a):Gt._fromParams({providerId:t,signInMethod:t,pendingToken:a,idToken:i,accessToken:s}):new cr(t).credential({idToken:i,accessToken:s,rawNonce:c})}return n instanceof Bn?r.credentialFromError(n):r.credentialFromResult(n)}function Ht(n,e){return e.catch(t=>{throw t instanceof Bn&&I6(n,t),t}).then(t=>{let r=t.operationType,i=t.user;return{operationType:r,credential:b6(t),additionalUserInfo:jb(t),user:Ln.getOrCreate(i)}})}async function gI(n,e){let t=await e;return{verificationId:t.verificationId,confirm:r=>Ht(n,t.confirm(r))}}var _I=class{constructor(e,t){this.resolver=t,this.auth=E6(e)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ht(CN(this.auth),this.resolver.resolveSignIn(e))}};var Ln=class{constructor(e){this._delegate=e,this.multiFactor=$b(e)}static getOrCreate(e){return Ln.USER_MAP.has(e)||Ln.USER_MAP.set(e,new Ln(e)),Ln.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}async linkWithCredential(e){return Ht(this.auth,vp(this._delegate,e))}async linkWithPhoneNumber(e,t){return gI(this.auth,Hb(this._delegate,e,t))}async linkWithPopup(e){return Ht(this.auth,Xb(this._delegate,e,dr))}async linkWithRedirect(e){return await mI(Oe(this.auth)),nI(this._delegate,e,dr)}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}async reauthenticateWithCredential(e){return Ht(this.auth,Ep(this._delegate,e))}reauthenticateWithPhoneNumber(e,t){return gI(this.auth,Kb(this._delegate,e,t))}reauthenticateWithPopup(e){return Ht(this.auth,Jb(this._delegate,e,dr))}async reauthenticateWithRedirect(e){return await mI(Oe(this.auth)),tI(this._delegate,e,dr)}sendEmailVerification(e){return Lb(this._delegate,e)}async unlink(e){return await Tb(this._delegate,e),this}updateEmail(e){return qb(this._delegate,e)}updatePassword(e){return Vb(this._delegate,e)}updatePhoneNumber(e){return Yb(this._delegate,e)}updateProfile(e){return Fb(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return Ub(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}};Ln.USER_MAP=new WeakMap;var Bl=w,Ul=class{constructor(e,t){if(this.app=e,t.isInitialized()){this._delegate=t.getImmediate(),this.linkUnderlyingAuth();return}let{apiKey:r}=e.options;Bl(r,"invalid-api-key",{appName:e.name}),Bl(r,"invalid-api-key",{appName:e.name});let i=typeof window<"u"?dr:void 0;this._delegate=t.initialize({options:{persistence:w6(r,e.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(gb),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Ln.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){Ib(this._delegate,e,t)}applyActionCode(e){return xb(this._delegate,e)}checkActionCode(e){return Ip(this._delegate,e)}confirmPasswordReset(e,t){return Rb(this._delegate,e,t)}async createUserWithEmailAndPassword(e,t){return Ht(this._delegate,Ob(this._delegate,e,t))}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return Bb(this._delegate,e)}isSignInWithEmailLink(e){return Pb(this._delegate,e)}async getRedirectResult(){Bl(pI(),this._delegate,"operation-not-supported-in-this-environment");let e=await rI(this._delegate,dr);return e?Ht(this._delegate,Promise.resolve(e)):{credential:null,user:null}}addFrameworkForLogging(e){_N(this._delegate,e)}onAuthStateChanged(e,t,r){let{next:i,error:s,complete:o}=EN(e,t,r);return this._delegate.onAuthStateChanged(i,s,o)}onIdTokenChanged(e,t,r){let{next:i,error:s,complete:o}=EN(e,t,r);return this._delegate.onIdTokenChanged(i,s,o)}sendSignInLinkToEmail(e,t){return kb(this._delegate,e,t)}sendPasswordResetEmail(e,t){return Ab(this._delegate,e,t||void 0)}async setPersistence(e){_6(this._delegate,e);let t;switch(e){case sn.SESSION:t=hr;break;case sn.LOCAL:t=await It(Co)._isAvailable()?Co:lc;break;case sn.NONE:t=Yi;break;default:return Ue("argument-error",{appName:this._delegate.name})}return this._delegate.setPersistence(t)}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Ht(this._delegate,wb(this._delegate))}signInWithCredential(e){return Ht(this._delegate,uc(this._delegate,e))}signInWithCustomToken(e){return Ht(this._delegate,Cb(this._delegate,e))}signInWithEmailAndPassword(e,t){return Ht(this._delegate,Nb(this._delegate,e,t))}signInWithEmailLink(e,t){return Ht(this._delegate,Mb(this._delegate,e,t))}signInWithPhoneNumber(e,t){return gI(this._delegate,Wb(this._delegate,e,t))}async signInWithPopup(e){return Bl(pI(),this._delegate,"operation-not-supported-in-this-environment"),Ht(this._delegate,Qb(this._delegate,e,dr))}async signInWithRedirect(e){return Bl(pI(),this._delegate,"operation-not-supported-in-this-environment"),await mI(this._delegate),eI(this._delegate,e,dr)}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return Db(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}};Ul.Persistence=sn;function EN(n,e,t){let r=n;typeof n!="function"&&({next:r,error:e,complete:t}=n);let i=r;return{next:o=>i(o&&Ln.getOrCreate(o)),error:e,complete:t}}function w6(n,e){let t=y6(n,e);if(typeof self<"u"&&!t.includes(Co)&&t.push(Co),typeof window<"u")for(let r of[lc,hr])t.includes(r)||t.push(r);return t.includes(Yi)||t.push(Yi),t}var Fl=class{constructor(){this.providerId="phone",this._delegate=new Dt(CN(se.auth()))}static credential(e,t){return Dt.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}};Fl.PHONE_SIGN_IN_METHOD=Dt.PHONE_SIGN_IN_METHOD;Fl.PROVIDER_ID=Dt.PROVIDER_ID;var T6=w,yI=class{constructor(e,t,r=se.app()){var i;T6((i=r.options)===null||i===void 0?void 0:i.apiKey,"invalid-api-key",{appName:r.name}),this._delegate=new Rl(e,t,r.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}};var S6="auth-compat";function C6(n){n.INTERNAL.registerComponent(new Ap(S6,e=>{let t=e.getProvider("app-compat").getImmediate(),r=e.getProvider("auth");return new Ul(t,r)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Zi.EMAIL_SIGNIN,PASSWORD_RESET:Zi.PASSWORD_RESET,RECOVER_EMAIL:Zi.RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:Zi.REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:Zi.VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:Zi.VERIFY_EMAIL}},EmailAuthProvider:gn,FacebookAuthProvider:Vt,GithubAuthProvider:zt,GoogleAuthProvider:jt,OAuthProvider:cr,SAMLAuthProvider:Xi,PhoneAuthProvider:Fl,PhoneMultiFactorGenerator:oc,RecaptchaVerifier:yI,TwitterAuthProvider:$t,Auth:Ul,AuthCredential:ur,Error:Bn}).setInstantiationMode("LAZY").setMultipleInstances(!1)),n.registerVersion(a6,c6)}C6(se);f();f();f();f();var dc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};var M=function(n,e,t,r){let i;if(r<e?i="at least "+e:r>t&&(i=t===0?"none":"no more than "+t),i){let s=n+" failed: Was called with "+r+(r===1?" argument.":" arguments.")+" Expects "+i+".";throw new Error(s)}};function es(n,e){return`${n} failed: ${e} argument `}function Je(n,e,t,r){if(!(r&&!t)&&typeof t!="function")throw new Error(es(n,e)+"must be a valid function.")}function EI(n,e,t,r){if(!(r&&!t)&&(typeof t!="object"||t===null))throw new Error(es(n,e)+"must be a valid context object.")}var Fne=4*60*60*1e3;var ql=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Do="[DEFAULT]";var Vl=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new dc;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch(i){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(R6(e))try{this.getOrInitializeService({instanceIdentifier:Do})}catch(t){}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch(s){}}}}clearInstance(e=Do){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){let e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Do){return this.instances.has(e)}getOptions(e=Do){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch(s){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:A6(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch(i){}return r||null}normalizeInstanceIdentifier(e=Do){return this.component?this.component.multipleInstances?e:Do:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function A6(n){return n===Do?void 0:n}function R6(n){return n.instantiationMode==="EAGER"}var Rp=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Vl(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};f();f();f();var bI={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};var T=function(n,e){if(!n)throw Oo(e)},Oo=function(n){return new Error("Firebase Database ("+bI.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};var DN=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},x6=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Dp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,l=s>>2,h=(s&3)<<4|a>>4,d=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(d=64)),r.push(t[l],t[h],t[d],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(DN(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):x6(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new II;let d=s<<2|a>>4;if(r.push(d),u!==64){let p=a<<4&240|u>>2;if(r.push(p),h!==64){let m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},II=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},wI=function(n){let e=DN(n);return Dp.encodeByteArray(e,!0)},RN=function(n){return wI(n).replace(/\./g,"")},xN=function(n){try{return Dp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function ON(n){return NN(void 0,n)}function NN(n,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:let t=e;return new Date(t.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return e}for(let t in e)!e.hasOwnProperty(t)||!D6(t)||(n[t]=NN(n[t],e[t]));return n}function D6(n){return n!=="__proto__"}var wt=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function kN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n),a="";return[RN(JSON.stringify(t)),RN(JSON.stringify(o)),a].join(".")}function O6(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function TI(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(O6())}function PN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function fr(){return bI.NODE_CLIENT===!0||bI.NODE_ADMIN===!0}function fc(n){return JSON.parse(n)}function Fe(n){return JSON.stringify(n)}var MN=function(n){let e={},t={},r={},i="";try{let s=n.split(".");e=fc(xN(s[0])||""),t=fc(xN(s[1])||""),i=s[2],r=t.d||{},delete t.d}catch(s){}return{header:e,claims:t,data:r,signature:i}};var BN=function(n){let e=MN(n),t=e.claims;return!!t&&typeof t=="object"&&t.hasOwnProperty("iat")},LN=function(n){let e=MN(n).claims;return typeof e=="object"&&e.admin===!0};function _n(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function ts(n,e){if(Object.prototype.hasOwnProperty.call(n,e))return n[e]}function Op(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function jl(n,e,t){let r={};for(let i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=e.call(t,n[i],i,n));return r}function UN(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}var xp=class{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);let r=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)r[h]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let h=0;h<16;h++)r[h]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let h=16;h<80;h++){let d=r[h-3]^r[h-8]^r[h-14]^r[h-16];r[h]=(d<<1|d>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4],u,l;for(let h=0;h<80;h++){h<40?h<20?(u=a^s&(o^a),l=1518500249):(u=s^o^a,l=1859775393):h<60?(u=s&o|a&(s|o),l=2400959708):(u=s^o^a,l=3395469782);let d=(i<<5|i>>>27)+u+c+l+r[h]&4294967295;c=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=d}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(e==null)return;t===void 0&&(t=e.length);let r=t-this.blockSize,i=0,s=this.buf_,o=this.inbuf_;for(;i<t;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<t;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<t;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){let e=[],t=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=t&255,t/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}};function ns(n,e){return`${n} failed: ${e} argument `}var FN=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);if(i>=55296&&i<=56319){let s=i-55296;r++,T(r<n.length,"Surrogate pair missing trail surrogate.");let o=n.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):i<65536?(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},zl=function(n){let e=0;for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,t++):e+=3}return e};var Gne=4*60*60*1e3;function Kt(n){return n&&n._delegate?n._delegate:n}var Np=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var qN="@firebase/database",VN="0.14.4";var Dw="";function Ow(n){Dw=n}var NI=class{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){t==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Fe(t))}get(e){let t=this.domStorage_.getItem(this.prefixedName_(e));return t==null?null:fc(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}};var kI=class{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){t==null?delete this.cache_[e]:this.cache_[e]=t}get(e){return _n(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}};var yk=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){let e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new NI(e)}}catch(e){}return new kI},ko=yk("localStorage"),PI=yk("sessionStorage");var gc=new mt("@firebase/database"),vk=function(){let n=1;return function(){return n++}}(),Ek=function(n){let e=FN(n),t=new xp;t.update(e);let r=t.digest();return Dp.encodeByteArray(r)},dh=function(...n){let e="";for(let t=0;t<n.length;t++){let r=n[t];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=dh.apply(null,r):typeof r=="object"?e+=Fe(r):e+=r,e+=" "}return e},Po=null,jN=!0,bk=function(n,e){T(!e||n===!0||n===!1,"Can't turn on custom loggers persistently."),n===!0?(gc.logLevel=W.VERBOSE,Po=gc.log.bind(gc),e&&PI.set("logging_enabled",!0)):typeof n=="function"?Po=n:(Po=null,PI.remove("logging_enabled"))},ot=function(...n){if(jN===!0&&(jN=!1,Po===null&&PI.get("logging_enabled")===!0&&bk(!0)),Po){let e=dh.apply(null,n);Po(e)}},fh=function(n){return function(...e){ot(n,...e)}},MI=function(...n){let e="FIREBASE INTERNAL ERROR: "+dh(...n);gc.error(e)},gr=function(...n){let e=`FIREBASE FATAL ERROR: ${dh(...n)}`;throw gc.error(e),new Error(e)},St=function(...n){let e="FIREBASE WARNING: "+dh(...n);gc.warn(e)},N6=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&St("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},nm=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},k6=function(n){if(fr()||document.readyState==="complete")n();else{let e=!1,t=function(){if(!document.body){setTimeout(t,Math.floor(10));return}e||(e=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&t()}),window.attachEvent("onload",t))}},as="[MIN_NAME]",Zr="[MAX_NAME]",qo=function(n,e){if(n===e)return 0;if(n===as||e===Zr)return-1;if(e===as||n===Zr)return 1;{let t=zN(n),r=zN(e);return t!==null?r!==null?t-r===0?n.length-e.length:t-r:-1:r!==null?1:n<e?-1:1}},P6=function(n,e){return n===e?0:n<e?-1:1},$l=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+Fe(e))},Nw=function(n){if(typeof n!="object"||n===null)return Fe(n);let e=[];for(let r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)r!==0&&(t+=","),t+=Fe(e[r]),t+=":",t+=Nw(n[e[r]]);return t+="}",t},Ik=function(n,e){let t=n.length;if(t<=e)return[n];let r=[];for(let i=0;i<t;i+=e)i+e>t?r.push(n.substring(i,t)):r.push(n.substring(i,i+e));return r};function at(n,e){for(let t in n)n.hasOwnProperty(t)&&e(t,n[t])}var wk=function(n){T(!nm(n),"Invalid JSON number");let e=11,t=52,r=(1<<e-1)-1,i,s,o,a,c;n===0?(s=0,o=0,i=1/n===-1/0?1:0):(i=n<0,n=Math.abs(n),n>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(n)/Math.LN2),r),s=a+r,o=Math.round(n*Math.pow(2,t-a)-Math.pow(2,t))):(s=0,o=Math.round(n/Math.pow(2,1-r-t))));let u=[];for(c=t;c;c-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(c=e;c;c-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();let l=u.join(""),h="";for(c=0;c<64;c+=8){let d=parseInt(l.substr(c,8),2).toString(16);d.length===1&&(d="0"+d),h=h+d}return h.toLowerCase()},M6=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},B6=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function L6(n,e){let t="Unknown Error";n==="too_big"?t="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?t="Client doesn't have permission to access the desired data.":n==="unavailable"&&(t="The service is unavailable");let r=new Error(n+" at "+e._path.toString()+": "+t);return r.code=n.toUpperCase(),r}var U6=new RegExp("^-?(0*)\\d{1,10}$"),F6=-2147483648,q6=2147483647,zN=function(n){if(U6.test(n)){let e=Number(n);if(e>=F6&&e<=q6)return e}return null},Sc=function(n){try{n()}catch(e){setTimeout(()=>{let t=e.stack||"";throw St("Exception was thrown by user callback.",t),e},Math.floor(0))}},V6=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Kl=function(n,e){let t=setTimeout(n,e);return typeof t=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):typeof t=="object"&&t.unref&&t.unref(),t};var BI=class{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t==null?void 0:t.getImmediate({optional:!0}),this.appCheck||t==null||t.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;(t=this.appCheckProvider)===null||t===void 0||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){St(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}};var LI=class{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&t.code==="auth/token-not-initialized"?(ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',St(e)}},is=class{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}};is.OWNER="owner";var Pp="5",Tk="v",Sk="s",Ck="r",Ak="f",Rk=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xk="ls",Dk="p",UI="ac",Ok="websocket",Nk="long_polling";var Mp=class{constructor(e,t,r,i,s=!1,o="",a=!1,c=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ko.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ko.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){let e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}};function j6(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function kk(n,e,t){T(typeof e=="string","typeof type must == string"),T(typeof t=="object","typeof params must == object");let r;if(e===Ok)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(e===Nk)r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);j6(n)&&(t.ns=n.namespace);let i=[];return at(t,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}var FI=class{constructor(){this.counters_={}}incrementCounter(e,t=1){_n(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ON(this.counters_)}};var SI={},CI={};function kw(n){let e=n.toString();return SI[e]||(SI[e]=new FI),SI[e]}function z6(n,e){let t=n.toString();return CI[t]||(CI[t]=e()),CI[t]}var qI=class{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){let r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Sc(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}};var $N="start",$6="close",G6="pLPCommand",W6="pRTLPCB",Pk="id",Mk="pw",Bk="ser",H6="cb",K6="seg",Y6="ts",Q6="d",J6="dframe",Lk=1870,Uk=30,X6=Lk-Uk,Z6=25e3,eG=3e4,pr=class{constructor(e,t,r,i,s,o,a){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=fh(e),this.stats_=kw(t),this.urlFn=c=>(this.appCheckToken&&(c[UI]=this.appCheckToken),kk(t,Nk,c))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new qI(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(eG)),k6(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Xl((...s)=>{let[o,a,c,u,l]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===$N)this.id=a,this.password=c;else if(o===$6)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{let[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);let r={};r[$N]="t",r[Bk]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[H6]=this.scriptTagHolder.uniqueCallbackIdentifier),r[Tk]=Pp,this.transportSessionId&&(r[Sk]=this.transportSessionId),this.lastSessionId&&(r[xk]=this.lastSessionId),this.applicationId&&(r[Dk]=this.applicationId),this.appCheckToken&&(r[UI]=this.appCheckToken),typeof location<"u"&&location.hostname&&Rk.test(location.hostname)&&(r[Ck]=Ak);let i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){pr.forceAllow_=!0}static forceDisallow(){pr.forceDisallow_=!0}static isAvailable(){return fr()?!1:pr.forceAllow_?!0:!pr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!M6()&&!B6()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){let t=Fe(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let r=wI(t),i=Ik(r,X6);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(fr())return;this.myDisconnFrame=document.createElement("iframe");let r={};r[J6]="t",r[Pk]=e,r[Mk]=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){let t=Fe(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}},Xl=class{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0,fr())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=vk(),window[G6+this.uniqueCallbackIdentifier]=e,window[W6+this.uniqueCallbackIdentifier]=t,this.myIFrame=Xl.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');let o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){ot("frame writing exception"),a.stack&&ot(a.stack),ot(a)}}}static createIFrame_(){let e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ot("No IE domain setting required")}catch(t){let r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));let e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;let e={};e[Pk]=this.myID,e[Mk]=this.myPW,e[Bk]=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Uk+r.length<=Lk;){let o=this.pendingSegs.shift();r=r+"&"+K6+i+"="+o.seg+"&"+Y6+i+"="+o.ts+"&"+Q6+i+"="+o.d,i++}return t=t+r,this.addLongPollTag_(t,this.currentSerial),!0}else return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);let r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(Z6)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,t){fr()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;let r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){let i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{ot("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch(r){}},Math.floor(1))}};var tG=16384,nG=45e3,Bp=null;typeof MozWebSocket<"u"?Bp=MozWebSocket:typeof WebSocket<"u"&&(Bp=WebSocket);var Yt=class{constructor(e,t,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=fh(this.connId),this.stats_=kw(t),this.connURL=Yt.connectionURL_(t,o,a,i,r),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,r,i,s){let o={};return o[Tk]=Pp,!fr()&&typeof location<"u"&&location.hostname&&Rk.test(location.hostname)&&(o[Ck]=Ak),t&&(o[Sk]=t),r&&(o[xk]=r),i&&(o[UI]=i),s&&(o[Dk]=s),kk(e,Ok,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ko.set("previous_websocket_failure",!0);try{let r;if(fr()){let i=this.nodeAdmin?"AdminNode":"Node";r={headers:{"User-Agent":`Firebase/${Pp}/${Dw}/browser/${i}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(r.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(r.headers["X-Firebase-AppCheck"]=this.appCheckToken);let s=process.env,o=this.connURL.indexOf("wss://")===0?s.HTTPS_PROXY||s.https_proxy:s.HTTP_PROXY||s.http_proxy;o&&(r.proxy={origin:o})}this.mySock=new Bp(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");let i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");let i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Yt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){let t=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(t);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Bp!==null&&!Yt.forceDisallow_}static previouslyFailed(){return ko.isInMemoryStorage||ko.get("previous_websocket_failure")===!0}markConnectionHealthy(){ko.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){let t=this.frames.join("");this.frames=null;let r=fc(t);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(T(this.frames===null,"We already have a frame buffer"),e.length<=6){let t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;let t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(t);else{let r=this.extractFrameCount_(t);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();let t=Fe(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);let r=Ik(t,tG);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(nG))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}};Yt.responsesRequiredToBeHealthy=2;Yt.healthyTimeout=3e4;var cs=class{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[pr,Yt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){let t=Yt&&Yt.isAvailable(),r=t&&!Yt.previouslyFailed();if(e.webSocketOnly&&(t||St("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Yt];else{let i=this.transports_=[];for(let s of cs.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);cs.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}};cs.globalTransportInitialized_=!1;var rG=6e4,iG=5e3,sG=10*1024,oG=100*1024,AI="t",GN="d",aG="s",WN="r",cG="e",HN="o",KN="a",YN="n",QN="p",uG="h",VI=class{constructor(e,t,r,i,s,o,a,c,u,l){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=u,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=fh("c:"+this.id+":"),this.transportManager_=new cs(t),this.log_("Connection created"),this.start_()}start_(){let e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));let i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Kl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>oG?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>sG?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){let t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(AI in e){let t=e[AI];t===KN?this.upgradeIfSecondaryHealthy_():t===WN?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):t===HN&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){let t=$l("t",e),r=$l("d",e);if(t==="c")this.onSecondaryControl_(r);else if(t==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+t)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:QN,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:KN,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:YN,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){let t=$l("t",e),r=$l("d",e);t==="c"?this.onControl_(r):t==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){let t=$l(AI,e);if(GN in e){let r=e[GN];if(t===uG){let i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(t===YN){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else t===aG?this.onConnectionShutdown_(r):t===WN?this.onReset_(r):t===cG?MI("Server Error: "+r):t===HN?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):MI("Unknown control packet command: "+t)}}onHandshake_(e){let t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),Pp!==r&&St("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){let e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;let t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),Kl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(rG))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Kl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(iG))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:QN,d:{}}}))}onSecondaryConnectionLost_(){let e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ko.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}};var Lp=class{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}};var Up=class{constructor(e){this.allowedEvents_=e,this.listeners_={},T(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){let r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});let i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);let i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===t&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){T(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}};var _c=class extends Up{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!TI()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new _c}getInitialEvent(e){return T(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}};var JN=32,XN=768,ee=class{constructor(e,t){if(t===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)this.pieces_[t]!==""&&(e+="/"+this.pieces_[t]);return e||"/"}};function Z(){return new ee("")}function j(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function us(n){return n.pieces_.length-n.pieceNum_}function le(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new ee(n.pieces_,e)}function Pw(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function lG(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)n.pieces_[t]!==""&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}function Zl(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Fk(n){if(n.pieceNum_>=n.pieces_.length)return null;let e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new ee(e,0)}function be(n,e){let t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof ee)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{let r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new ee(t,0)}function z(n){return n.pieceNum_>=n.pieces_.length}function Ot(n,e){let t=j(n),r=j(e);if(t===null)return e;if(t===r)return Ot(le(n),le(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function hG(n,e){let t=Zl(n,0),r=Zl(e,0);for(let i=0;i<t.length&&i<r.length;i++){let s=qo(t[i],r[i]);if(s!==0)return s}return t.length===r.length?0:t.length<r.length?-1:1}function Mw(n,e){if(us(n)!==us(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function yn(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(us(n)>us(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}var jI=class{constructor(e,t){this.errorPrefix_=t,this.parts_=Zl(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=zl(this.parts_[r]);qk(this)}};function dG(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=zl(e),qk(n)}function fG(n){let e=n.parts_.pop();n.byteLength_-=zl(e),n.parts_.length>0&&(n.byteLength_-=1)}function qk(n){if(n.byteLength_>XN)throw new Error(n.errorPrefix_+"has a key path longer than "+XN+" bytes ("+n.byteLength_+").");if(n.parts_.length>JN)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+JN+") or object contains a cycle "+No(n))}function No(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}var eh=class extends Up{constructor(){super(["visible"]);let e,t;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{let r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new eh}getInitialEvent(e){return T(e==="visible","Unknown event type: "+e),[this.visible_]}};var Gl=1e3,pG=60*5*1e3,ZN=30*1e3,mG=1.3,gG=3e4,_G="server_kill",ek=3,qn=class extends Lp{constructor(e,t,r,i,s,o,a,c){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=c,this.id=qn.nextPersistentConnectionId_++,this.log_=fh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Gl,this.maxReconnectDelay_=pG,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!fr())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");eh.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&_c.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,r){let i=++this.requestNumber_,s={r:i,a:e,b:t};this.log_(Fe(s)),T(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();let t=new wt,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{let a=o.d;o.s==="ok"?t.resolve(a):t.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;let s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),t.promise}listen(e,t,r,i){this.initConnection_();let s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),T(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");let a={onComplete:i,hashFn:t,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){let t=this.outstandingGets_[e];this.sendRequest("g",t.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(r)})}sendListen_(e){let t=e.query,r=t._path.toString(),i=t._queryIdentifier;this.log_("Listen on "+r+" for "+i);let s={p:r},o="q";e.tag&&(s.q=t._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{let c=a.d,u=a.s;qn.warnOnListenWarnings_(c,t),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(u,c))})}static warnOnListenWarnings_(e,t){if(e&&typeof e=="object"&&_n(e,"w")){let r=ts(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){let i='".indexOn": "'+t._queryParams.getIndex().toString()+'"',s=t._path.toString();St(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||LN(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=ZN)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){let e=this.authToken_,t=BN(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(t,r,i=>{let s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{let t=e.s,r=e.d||"error";t==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,r)})}unlisten(e,t){let r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),T(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,t)}sendUnlisten_(e,t,r,i){this.log_("Unlisten on "+e+" for "+t);let s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:r})}onDisconnectMerge(e,t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:r})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,r,i){let s={p:t,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,t,r,i){this.putInternal("p",e,t,r,i)}merge(e,t,r,i){this.putInternal("m",e,t,r,i)}putInternal(e,t,r,i,s){this.initConnection_();let o={p:t,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;let a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+t)}sendPut_(e){let t=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,r,s=>{this.log_(t+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){let t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,r=>{if(r.s!=="ok"){let s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Fe(e));let t=e.r,r=this.requestCBHash_[t];r&&(delete this.requestCBHash_[t],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),e==="d"?this.onDataUpdate_(t.p,t.d,!1,t.t):e==="m"?this.onDataUpdate_(t.p,t.d,!0,t.t):e==="c"?this.onListenRevoked_(t.p,t.q):e==="ac"?this.onAuthRevoked_(t.s,t.d):e==="apc"?this.onAppCheckRevoked_(t.s,t.d):e==="sd"?this.onSecurityDebugPacket_(t):MI("Unrecognized action received from server: "+Fe(e)+`
Are you using the latest client?`)}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){T(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Gl,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Gl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>gG&&(this.reconnectDelay_=Gl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());let e=new Date().getTime()-this.lastConnectionAttemptTime_,t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*mG)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;let e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+qn.nextConnectionId_++,s=this.lastSessionId,o=!1,a=null,c=function(){a?a.close():(o=!0,r())},u=function(h){T(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(h)};this.realtime_={close:c,sendRequest:u};let l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{let[h,d]=await Promise.all([this.authTokenProvider_.getToken(l),this.appCheckTokenProvider_.getToken(l)]);o?ot("getToken() completed but was canceled"):(ot("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=d&&d.token,a=new VI(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,r,p=>{St(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(_G)},s))}catch(h){this.log_("Failed to get token: "+h),o||(this.repoInfo_.nodeAdmin&&St(h),c())}}}interrupt(e){ot("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ot("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Op(this.interruptReasons_)&&(this.reconnectDelay_=Gl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){let t=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){let t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let r;t?r=t.map(s=>Nw(s)).join("$"):r="default";let i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,t){let r=new ee(e).toString(),i;if(this.listens.has(r)){let s=this.listens.get(r);i=s.get(t),s.delete(t),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,t){ot("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ek&&(this.reconnectDelay_=ZN,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){ot("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=ek&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(let e of this.listens.values())for(let t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){let e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){let e={},t="js";fr()&&(this.repoInfo_.nodeAdmin?t="admin_node":t="node"),e["sdk."+t+"."+Dw.replace(/\./g,"-")]=1,TI()?e["framework.cordova"]=1:PN()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){let e=_c.getInstance().currentlyOnline();return Op(this.interruptReasons_)&&e}};qn.nextPersistentConnectionId_=0;qn.nextConnectionId_=0;var V=class{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new V(e,t)}};var yc=class{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){let r=new V(as,e),i=new V(as,t);return this.compare(r,i)!==0}minPost(){return V.MIN}};var kp,Fp=class extends yc{static get __EMPTY_NODE(){return kp}static set __EMPTY_NODE(e){kp=e}compare(e,t){return qo(e.name,t.name)}isDefinedOn(e){throw Oo("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return V.MIN}maxPost(){return new V(Zr,kp)}makePost(e,t){return T(typeof e=="string","KeyIndex indexValue must always be a string."),new V(e,kp)}toString(){return".key"}},mr=new Fp;var mc=class{constructor(e,t,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?r(e.key,t):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),t;if(this.resultGenerator_?t=this.resultGenerator_(e.key,e.value):t={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}},Ve=class{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r!=null?r:Ve.RED,this.left=i!=null?i:Tt.EMPTY_NODE,this.right=s!=null?s:Tt.EMPTY_NODE}copy(e,t,r,i,s){return new Ve(e!=null?e:this.key,t!=null?t:this.value,r!=null?r:this.color,i!=null?i:this.left,s!=null?s:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i=i.copy(null,t,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Tt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let r,i;if(r=this,t(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),t(e,r.key)===0){if(r.right.isEmpty())return Tt.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){let e=this.copy(null,null,Ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){let e=this.copy(null,null,Ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){let e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");let e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}};Ve.RED=!0;Ve.BLACK=!1;var zI=class{copy(e,t,r,i,s){return this}insert(e,t,r){return new Ve(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}},Tt=class{constructor(e,t=Tt.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Tt(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Ve.BLACK,null,null))}remove(e){return new Tt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ve.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),t===0)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();)if(t=this.comparator_(e,r.key),t===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else t<0?r=r.left:t>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new mc(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new mc(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new mc(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new mc(this.root_,null,this.comparator_,!0,e)}};Tt.EMPTY_NODE=new zI;function yG(n,e){return qo(n.name,e.name)}function Bw(n,e){return qo(n,e)}var $I;function vG(n){$I=n}var Vk=function(n){return typeof n=="number"?"number:"+wk(n):"string:"+n},jk=function(n){if(n.isLeafNode()){let e=n.val();T(typeof e=="string"||typeof e=="number"||typeof e=="object"&&_n(e,".sv"),"Priority must be a string or number.")}else T(n===$I||n.isEmpty(),"priority of unexpected type.");T(n===$I||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};var tk,qe=class{constructor(e,t=qe.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=t,this.lazyHash_=null,T(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),jk(this.priorityNode_)}static set __childrenNodeConstructor(e){tk=e}static get __childrenNodeConstructor(){return tk}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new qe(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return z(e)?this:j(e)===".priority"?this.priorityNode_:qe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return e===".priority"?this.updatePriority(t):t.isEmpty()&&e!==".priority"?this:qe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){let r=j(e);return r===null?t:t.isEmpty()&&r!==".priority"?this:(T(r!==".priority"||us(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,qe.__childrenNodeConstructor.EMPTY_NODE.updateChild(le(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Vk(this.priorityNode_.val())+":");let t=typeof this.value_;e+=t+":",t==="number"?e+=wk(this.value_):e+=this.value_,this.lazyHash_=Ek(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===qe.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof qe.__childrenNodeConstructor?-1:(T(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){let t=typeof e.value_,r=typeof this.value_,i=qe.VALUE_TYPE_ORDER.indexOf(t),s=qe.VALUE_TYPE_ORDER.indexOf(r);return T(i>=0,"Unknown leaf type: "+t),T(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){let t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}else return!1}};qe.VALUE_TYPE_ORDER=["object","boolean","number","string"];var zk,$k;function EG(n){zk=n}function bG(n){$k=n}var GI=class extends yc{compare(e,t){let r=e.node.getPriority(),i=t.node.getPriority(),s=r.compareTo(i);return s===0?qo(e.name,t.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return V.MIN}maxPost(){return new V(Zr,new qe("[PRIORITY-POST]",$k))}makePost(e,t){let r=zk(e);return new V(t,new qe("[PRIORITY-POST]",r))}toString(){return".priority"}},de=new GI;var IG=Math.log(2),WI=class{constructor(e){let t=s=>parseInt(Math.log(s)/IG,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=t(e+1),this.current_=this.count-1;let i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){let e=!(this.bits_&1<<this.current_);return this.current_--,e}},qp=function(n,e,t,r){n.sort(e);let i=function(c,u){let l=u-c,h,d;if(l===0)return null;if(l===1)return h=n[c],d=t?t(h):h,new Ve(d,h.node,Ve.BLACK,null,null);{let p=parseInt(l/2,10)+c,m=i(c,p),_=i(p+1,u);return h=n[p],d=t?t(h):h,new Ve(d,h.node,Ve.BLACK,m,_)}},s=function(c){let u=null,l=null,h=n.length,d=function(m,_){let E=h-m,N=h;h-=m;let B=i(E+1,N),A=n[E],L=t?t(A):A;p(new Ve(L,A.node,_,null,B))},p=function(m){u?(u.left=m,u=m):(l=m,u=m)};for(let m=0;m<c.count;++m){let _=c.nextBitIsOne(),E=Math.pow(2,c.count-(m+1));_?d(E,Ve.BLACK):(d(E,Ve.BLACK),d(E,Ve.RED))}return l},o=new WI(n.length),a=s(o);return new Tt(r||e,a)};var RI,pc={},Un=class{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return T(pc&&de,"ChildrenNode.ts has not been loaded"),RI=RI||new Un({".priority":pc},{".priority":de}),RI}get(e){let t=ts(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Tt?t:null}hasIndex(e){return _n(this.indexSet_,e.toString())}addIndex(e,t){T(e!==mr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");let r=[],i=!1,s=t.getIterator(V.Wrap),o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=qp(r,e.getCompare()):a=pc;let c=e.toString(),u=Object.assign({},this.indexSet_);u[c]=e;let l=Object.assign({},this.indexes_);return l[c]=a,new Un(l,u)}addToIndexes(e,t){let r=jl(this.indexes_,(i,s)=>{let o=ts(this.indexSet_,s);if(T(o,"Missing index implementation for "+s),i===pc)if(o.isDefinedOn(e.node)){let a=[],c=t.getIterator(V.Wrap),u=c.getNext();for(;u;)u.name!==e.name&&a.push(u),u=c.getNext();return a.push(e),qp(a,o.getCompare())}else return pc;else{let a=t.get(e.name),c=i;return a&&(c=c.remove(new V(e.name,a))),c.insert(e,e.node)}});return new Un(r,this.indexSet_)}removeFromIndexes(e,t){let r=jl(this.indexes_,i=>{if(i===pc)return i;{let s=t.get(e.name);return s?i.remove(new V(e.name,s)):i}});return new Un(r,this.indexSet_)}};var Wl,k=class{constructor(e,t,r){this.children_=e,this.priorityNode_=t,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&jk(this.priorityNode_),this.children_.isEmpty()&&T(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return Wl||(Wl=new k(new Tt(Bw),null,Un.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Wl}updatePriority(e){return this.children_.isEmpty()?this:new k(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{let t=this.children_.get(e);return t===null?Wl:t}}getChild(e){let t=j(e);return t===null?this:this.getImmediateChild(t).getChild(le(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,t){if(T(t,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(t);{let r=new V(e,t),i,s;t.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,t),s=this.indexMap_.addToIndexes(r,this.children_));let o=i.isEmpty()?Wl:this.priorityNode_;return new k(i,o,s)}}updateChild(e,t){let r=j(e);if(r===null)return t;{T(j(e)!==".priority"||us(e)===1,".priority must be the last token in a path");let i=this.getImmediateChild(r).updateChild(le(e),t);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;let t={},r=0,i=0,s=!0;if(this.forEachChild(de,(o,a)=>{t[o]=a.val(e),r++,s&&k.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){let o=[];for(let a in t)o[a]=t[a];return o}else return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Vk(this.getPriority().val())+":"),this.forEachChild(de,(t,r)=>{let i=r.hash();i!==""&&(e+=":"+t+":"+i)}),this.lazyHash_=e===""?"":Ek(e)}return this.lazyHash_}getPredecessorChildName(e,t,r){let i=this.resolveIndex_(r);if(i){let s=i.getPredecessorKey(new V(e,t));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){let t=this.resolveIndex_(e);if(t){let r=t.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){let t=this.getFirstChildName(e);return t?new V(t,this.children_.get(t)):null}getLastChildName(e){let t=this.resolveIndex_(e);if(t){let r=t.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){let t=this.getLastChildName(e);return t?new V(t,this.children_.get(t)):null}forEachChild(e,t){let r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>t(i.name,i.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){let r=this.resolveIndex_(t);if(r)return r.getIteratorFrom(e,i=>i);{let i=this.children_.getIteratorFrom(e.name,V.Wrap),s=i.peek();for(;s!=null&&t.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){let r=this.resolveIndex_(t);if(r)return r.getReverseIteratorFrom(e,i=>i);{let i=this.children_.getReverseIteratorFrom(e.name,V.Wrap),s=i.peek();for(;s!=null&&t.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===ph?-1:0}withIndex(e){if(e===mr||this.indexMap_.hasIndex(e))return this;{let t=this.indexMap_.addIndex(e,this.children_);return new k(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===mr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{let t=e;if(this.getPriority().equals(t.getPriority()))if(this.children_.count()===t.children_.count()){let r=this.getIterator(de),i=t.getIterator(de),s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===mr?null:this.indexMap_.get(e.toString())}};k.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;var HI=class extends k{constructor(){super(new Tt(Bw),k.EMPTY_NODE,Un.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return k.EMPTY_NODE}isEmpty(){return!1}},ph=new HI;Object.defineProperties(V,{MIN:{value:new V(as,k.EMPTY_NODE)},MAX:{value:new V(Zr,ph)}});Fp.__EMPTY_NODE=k.EMPTY_NODE;qe.__childrenNodeConstructor=k;vG(ph);bG(ph);var wG=!0;function Te(n,e=null){if(n===null)return k.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(e=n[".priority"]),T(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){let t=n;return new qe(t,Te(e))}if(!(n instanceof Array)&&wG){let t=[],r=!1;if(at(n,(o,a)=>{if(o.substring(0,1)!=="."){let c=Te(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),t.push(new V(o,c)))}}),t.length===0)return k.EMPTY_NODE;let s=qp(t,yG,o=>o.name,Bw);if(r){let o=qp(t,de.getCompare());return new k(s,Te(e),new Un({".priority":o},{".priority":de}))}else return new k(s,Te(e),Un.Default)}else{let t=k.EMPTY_NODE;return at(n,(r,i)=>{if(_n(n,r)&&r.substring(0,1)!=="."){let s=Te(i);(s.isLeafNode()||!s.isEmpty())&&(t=t.updateImmediateChild(r,s))}}),t.updatePriority(Te(e))}}EG(Te);var th=class extends yc{constructor(e){super(),this.indexPath_=e,T(!z(e)&&j(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){let r=this.extractChild(e.node),i=this.extractChild(t.node),s=r.compareTo(i);return s===0?qo(e.name,t.name):s}makePost(e,t){let r=Te(e),i=k.EMPTY_NODE.updateChild(this.indexPath_,r);return new V(t,i)}maxPost(){let e=k.EMPTY_NODE.updateChild(this.indexPath_,ph);return new V(Zr,e)}toString(){return Zl(this.indexPath_,0).join("/")}};var KI=class extends yc{compare(e,t){let r=e.node.compareTo(t.node);return r===0?qo(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return V.MIN}maxPost(){return V.MAX}makePost(e,t){let r=Te(e);return new V(t,r)}toString(){return".value"}},Lw=new KI;function Gk(n){return{type:"value",snapshotNode:n}}function vc(n,e){return{type:"child_added",snapshotNode:e,childName:n}}function nh(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}function rh(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}function TG(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}var ih=class{constructor(e){this.index_=e}updateChild(e,t,r,i,s,o){T(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");let a=e.getImmediateChild(t);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(t)?o.trackChildChange(nh(t,a)):T(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(vc(t,r)):o.trackChildChange(rh(t,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(t,r).withIndex(this.index_)}updateFullNode(e,t,r){return r!=null&&(e.isLeafNode()||e.forEachChild(de,(i,s)=>{t.hasChild(i)||r.trackChildChange(nh(i,s))}),t.isLeafNode()||t.forEachChild(de,(i,s)=>{if(e.hasChild(i)){let o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(rh(i,s,o))}else r.trackChildChange(vc(i,s))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?k.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}};var Mo=class{constructor(e){this.indexedFilter_=new ih(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Mo.getStartPost_(e),this.endPost_=Mo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){let t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&r}updateChild(e,t,r,i,s,o){return this.matches(new V(t,r))||(r=k.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,r,i,s,o)}updateFullNode(e,t,r){t.isLeafNode()&&(t=k.EMPTY_NODE);let i=t.withIndex(this.index_);i=i.updatePriority(k.EMPTY_NODE);let s=this;return t.forEachChild(de,(o,a)=>{s.matches(new V(o,a))||(i=i.updateImmediateChild(o,k.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){let t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){let t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}else return e.getIndex().maxPost()}};var YI=class{constructor(e){this.withinDirectionalStart=t=>this.reverse_?this.withinEndPost(t):this.withinStartPost(t),this.withinDirectionalEnd=t=>this.reverse_?this.withinStartPost(t):this.withinEndPost(t),this.withinStartPost=t=>{let r=this.index_.compare(this.rangedFilter_.getStartPost(),t);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=t=>{let r=this.index_.compare(t,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Mo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,r,i,s,o){return this.rangedFilter_.matches(new V(t,r))||(r=k.EMPTY_NODE),e.getImmediateChild(t).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,r,i,s,o):this.fullLimitUpdateChild_(e,t,r,s,o)}updateFullNode(e,t,r){let i;if(t.isLeafNode()||t.isEmpty())i=k.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<t.numChildren()&&t.isIndexed(this.index_)){i=k.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){let a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=t.withIndex(this.index_),i=i.updatePriority(k.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){let a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,k.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,r,i,s){let o;if(this.reverse_){let h=this.index_.getCompare();o=(d,p)=>h(p,d)}else o=this.index_.getCompare();let a=e;T(a.numChildren()===this.limit_,"");let c=new V(t,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),l=this.rangedFilter_.matches(c);if(a.hasChild(t)){let h=a.getImmediateChild(t),d=i.getChildAfterChild(this.index_,u,this.reverse_);for(;d!=null&&(d.name===t||a.hasChild(d.name));)d=i.getChildAfterChild(this.index_,d,this.reverse_);let p=d==null?1:o(d,c);if(l&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(rh(t,r,h)),a.updateImmediateChild(t,r);{s!=null&&s.trackChildChange(nh(t,h));let _=a.updateImmediateChild(t,k.EMPTY_NODE);return d!=null&&this.rangedFilter_.matches(d)?(s!=null&&s.trackChildChange(vc(d.name,d.node)),_.updateImmediateChild(d.name,d.node)):_}}else return r.isEmpty()?e:l&&o(u,c)>=0?(s!=null&&(s.trackChildChange(nh(u.name,u.node)),s.trackChildChange(vc(t,r))),a.updateImmediateChild(t,r).updateImmediateChild(u.name,k.EMPTY_NODE)):e}};var Bo=class{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=de}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return T(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return T(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:as}hasEnd(){return this.endSet_}getIndexEndValue(){return T(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return T(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Zr}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return T(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===de}copy(){let e=new Bo;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}};function SG(n){return n.loadsAllData()?new ih(n.getIndex()):n.hasLimit()?new YI(n):new Mo(n)}function CG(n,e){let t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="l",t}function AG(n,e){let t=n.copy();return t.limitSet_=!0,t.limit_=e,t.viewFrom_="r",t}function QI(n,e,t){let r=n.copy();return r.startSet_=!0,e===void 0&&(e=null),r.indexStartValue_=e,t!=null?(r.startNameSet_=!0,r.indexStartName_=t):(r.startNameSet_=!1,r.indexStartName_=""),r}function RG(n,e,t){let r;return n.index_===mr||t?r=QI(n,e,t):r=QI(n,e,Zr),r.startAfterSet_=!0,r}function JI(n,e,t){let r=n.copy();return r.endSet_=!0,e===void 0&&(e=null),r.indexEndValue_=e,t!==void 0?(r.endNameSet_=!0,r.indexEndName_=t):(r.endNameSet_=!1,r.indexEndName_=""),r}function xG(n,e,t){let r;return n.index_===mr||t?r=JI(n,e,t):r=JI(n,e,as),r.endBeforeSet_=!0,r}function rm(n,e){let t=n.copy();return t.index_=e,t}function nk(n){let e={};if(n.isDefault())return e;let t;if(n.index_===de?t="$priority":n.index_===Lw?t="$value":n.index_===mr?t="$key":(T(n.index_ instanceof th,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=Fe(t),n.startSet_){let r=n.startAfterSet_?"startAfter":"startAt";e[r]=Fe(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+Fe(n.indexStartName_))}if(n.endSet_){let r=n.endBeforeSet_?"endBefore":"endAt";e[r]=Fe(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+Fe(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function rk(n){let e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;t===""&&(n.isViewFromLeft()?t="l":t="r"),e.vf=t}return n.index_!==de&&(e.i=n.index_.toString()),e}var Ec=class extends Lp{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=fh("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return t!==void 0?"tag$"+t:(T(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){let s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);let o=Ec.getListenId_(e,r),a={};this.listens_[o]=a;let c=nk(e._queryParams);this.restRequest_(s+".json",c,(u,l)=>{let h=l;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,r),ts(this.listens_,o)===a){let d;u?u===401?d="permission_denied":d="rest_error:"+u:d="ok",i(d,null)}})}unlisten(e,t){let r=Ec.getListenId_(e,t);delete this.listens_[r]}get(e){let t=nk(e._queryParams),r=e._path.toString(),i=new wt;return this.restRequest_(r+".json",t,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);let o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+UN(t);this.log_("Sending REST request for "+o);let a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=fc(a.responseText)}catch(u){St("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else a.status!==401&&a.status!==404&&St("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}};var XI=class{constructor(){this.rootNode_=k.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}};function Vp(){return{value:null,children:new Map}}function Cc(n,e,t){if(z(e))n.value=t,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(e,t);else{let r=j(e);n.children.has(r)||n.children.set(r,Vp());let i=n.children.get(r);e=le(e),Cc(i,e,t)}}function ZI(n,e){if(z(e))return n.value=null,n.children.clear(),!0;if(n.value!==null){if(n.value.isLeafNode())return!1;{let t=n.value;return n.value=null,t.forEachChild(de,(r,i)=>{Cc(n,new ee(r),i)}),ZI(n,e)}}else if(n.children.size>0){let t=j(e);return e=le(e),n.children.has(t)&&ZI(n.children.get(t),e)&&n.children.delete(t),n.children.size===0}else return!0}function ew(n,e,t){n.value!==null?t(e,n.value):DG(n,(r,i)=>{let s=new ee(e.toString()+"/"+r);ew(i,s,t)})}function DG(n,e){n.children.forEach((t,r)=>{e(r,t)})}var tw=class{constructor(e){this.collection_=e,this.last_=null}get(){let e=this.collection_.get(),t=Object.assign({},e);return this.last_&&at(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}};var ik=10*1e3,OG=30*1e3,NG=5*60*1e3,nw=class{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new tw(e);let r=ik+(OG-ik)*Math.random();Kl(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){let e=this.statsListener_.get(),t={},r=!1;at(e,(i,s)=>{s>0&&_n(this.statsToReport_,i)&&(t[i]=s,r=!0)}),r&&this.server_.reportStats(t),Kl(this.reportStats_.bind(this),Math.floor(Math.random()*2*NG))}};var Fn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Fn||(Fn={}));function Uw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Fw(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function qw(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}var bc=class{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Fn.ACK_USER_WRITE,this.source=Uw()}operationForChild(e){if(z(this.path)){if(this.affectedTree.value!=null)return T(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{let t=this.affectedTree.subtree(new ee(e));return new bc(Z(),t,this.revert)}}else return T(j(this.path)===e,"operationForChild called for unrelated child."),new bc(le(this.path),this.affectedTree,this.revert)}};var Lo=class{constructor(e,t){this.source=e,this.path=t,this.type=Fn.LISTEN_COMPLETE}operationForChild(e){return z(this.path)?new Lo(this.source,Z()):new Lo(this.source,le(this.path))}};var ei=class{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Fn.OVERWRITE}operationForChild(e){return z(this.path)?new ei(this.source,Z(),this.snap.getImmediateChild(e)):new ei(this.source,le(this.path),this.snap)}};var ls=class{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Fn.MERGE}operationForChild(e){if(z(this.path)){let t=this.children.subtree(new ee(e));return t.isEmpty()?null:t.value?new ei(this.source,Z(),t.value):new ls(this.source,Z(),t)}else return T(j(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ls(this.source,le(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}};var _r=class{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(z(e))return this.isFullyInitialized()&&!this.filtered_;let t=j(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}};var rw=class{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}};function kG(n,e,t,r){let i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&n.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(TG(o.childName,o.snapshotNode))}),Hl(n,i,"child_removed",e,r,t),Hl(n,i,"child_added",e,r,t),Hl(n,i,"child_moved",s,r,t),Hl(n,i,"child_changed",e,r,t),Hl(n,i,"value",e,r,t),i}function Hl(n,e,t,r,i,s){let o=r.filter(a=>a.type===t);o.sort((a,c)=>MG(n,a,c)),o.forEach(a=>{let c=PG(n,a,s);i.forEach(u=>{u.respondsTo(a.type)&&e.push(u.createEvent(c,n.query_))})})}function PG(n,e,t){return e.type==="value"||e.type==="child_removed"||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}function MG(n,e,t){if(e.childName==null||t.childName==null)throw Oo("Should only compare child_ events.");let r=new V(e.childName,e.snapshotNode),i=new V(t.childName,t.snapshotNode);return n.index_.compare(r,i)}function im(n,e){return{eventCache:n,serverCache:e}}function Yl(n,e,t,r){return im(new _r(e,t,r),n.serverCache)}function Wk(n,e,t,r){return im(n.eventCache,new _r(e,t,r))}function jp(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Uo(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}var xI,BG=()=>(xI||(xI=new Tt(P6)),xI),ae=class{constructor(e,t=BG()){this.value=e,this.children=t}static fromObject(e){let t=new ae(null);return at(e,(r,i)=>{t=t.set(new ee(r),i)}),t}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(this.value!=null&&t(this.value))return{path:Z(),value:this.value};if(z(e))return null;{let r=j(e),i=this.children.get(r);if(i!==null){let s=i.findRootMostMatchingPathAndValue(le(e),t);return s!=null?{path:be(new ee(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(z(e))return this;{let t=j(e),r=this.children.get(t);return r!==null?r.subtree(le(e)):new ae(null)}}set(e,t){if(z(e))return new ae(t,this.children);{let r=j(e),s=(this.children.get(r)||new ae(null)).set(le(e),t),o=this.children.insert(r,s);return new ae(this.value,o)}}remove(e){if(z(e))return this.children.isEmpty()?new ae(null):new ae(null,this.children);{let t=j(e),r=this.children.get(t);if(r){let i=r.remove(le(e)),s;return i.isEmpty()?s=this.children.remove(t):s=this.children.insert(t,i),this.value===null&&s.isEmpty()?new ae(null):new ae(this.value,s)}else return this}}get(e){if(z(e))return this.value;{let t=j(e),r=this.children.get(t);return r?r.get(le(e)):null}}setTree(e,t){if(z(e))return t;{let r=j(e),s=(this.children.get(r)||new ae(null)).setTree(le(e),t),o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new ae(this.value,o)}}fold(e){return this.fold_(Z(),e)}fold_(e,t){let r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(be(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Z(),t)}findOnPath_(e,t,r){let i=this.value?r(t,this.value):!1;if(i)return i;if(z(e))return null;{let s=j(e),o=this.children.get(s);return o?o.findOnPath_(le(e),be(t,s),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Z(),t)}foreachOnPath_(e,t,r){if(z(e))return this;{this.value&&r(t,this.value);let i=j(e),s=this.children.get(i);return s?s.foreachOnPath_(le(e),be(t,i),r):new ae(null)}}foreach(e){this.foreach_(Z(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(be(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}};var an=class{constructor(e){this.writeTree_=e}static empty(){return new an(new ae(null))}};function Ql(n,e,t){if(z(e))return new an(new ae(t));{let r=n.writeTree_.findRootMostValueAndPath(e);if(r!=null){let i=r.path,s=r.value,o=Ot(i,e);return s=s.updateChild(o,t),new an(n.writeTree_.set(i,s))}else{let i=new ae(t),s=n.writeTree_.setTree(e,i);return new an(s)}}}function iw(n,e,t){let r=n;return at(t,(i,s)=>{r=Ql(r,be(e,i),s)}),r}function sk(n,e){if(z(e))return an.empty();{let t=n.writeTree_.setTree(e,new ae(null));return new an(t)}}function sw(n,e){return Vo(n,e)!=null}function Vo(n,e){let t=n.writeTree_.findRootMostValueAndPath(e);return t!=null?n.writeTree_.get(t.path).getChild(Ot(t.path,e)):null}function ok(n){let e=[],t=n.writeTree_.value;return t!=null?t.isLeafNode()||t.forEachChild(de,(r,i)=>{e.push(new V(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new V(r,i.value))}),e}function ss(n,e){if(z(e))return n;{let t=Vo(n,e);return t!=null?new an(new ae(t)):new an(n.writeTree_.subtree(e))}}function ow(n){return n.writeTree_.isEmpty()}function Ic(n,e){return Hk(Z(),n.writeTree_,e)}function Hk(n,e,t){if(e.value!=null)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(T(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):t=Hk(be(n,i),s,t)}),!t.getChild(n).isEmpty()&&r!==null&&(t=t.updateChild(be(n,".priority"),r)),t}}function sm(n,e){return Jk(e,n)}function LG(n,e,t,r,i){T(r>n.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=Ql(n.visibleWrites,e,t)),n.lastWriteId=r}function UG(n,e,t,r){T(r>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:e,children:t,writeId:r,visible:!0}),n.visibleWrites=iw(n.visibleWrites,e,t),n.lastWriteId=r}function FG(n,e){for(let t=0;t<n.allWrites.length;t++){let r=n.allWrites[t];if(r.writeId===e)return r}return null}function qG(n,e){let t=n.allWrites.findIndex(a=>a.writeId===e);T(t>=0,"removeWrite called with nonexistent writeId.");let r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,s=!1,o=n.allWrites.length-1;for(;i&&o>=0;){let a=n.allWrites[o];a.visible&&(o>=t&&VG(a,r.path)?i=!1:yn(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return jG(n),!0;if(r.snap)n.visibleWrites=sk(n.visibleWrites,r.path);else{let a=r.children;at(a,c=>{n.visibleWrites=sk(n.visibleWrites,be(r.path,c))})}return!0}else return!1}function VG(n,e){if(n.snap)return yn(n.path,e);for(let t in n.children)if(n.children.hasOwnProperty(t)&&yn(be(n.path,t),e))return!0;return!1}function jG(n){n.visibleWrites=Kk(n.allWrites,zG,Z()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function zG(n){return n.visible}function Kk(n,e,t){let r=an.empty();for(let i=0;i<n.length;++i){let s=n[i];if(e(s)){let o=s.path,a;if(s.snap)yn(t,o)?(a=Ot(t,o),r=Ql(r,a,s.snap)):yn(o,t)&&(a=Ot(o,t),r=Ql(r,Z(),s.snap.getChild(a)));else if(s.children){if(yn(t,o))a=Ot(t,o),r=iw(r,a,s.children);else if(yn(o,t))if(a=Ot(o,t),z(a))r=iw(r,Z(),s.children);else{let c=ts(s.children,j(a));if(c){let u=c.getChild(le(a));r=Ql(r,Z(),u)}}}else throw Oo("WriteRecord should have .snap or .children")}}return r}function Yk(n,e,t,r,i){if(!r&&!i){let s=Vo(n.visibleWrites,e);if(s!=null)return s;{let o=ss(n.visibleWrites,e);if(ow(o))return t;if(t==null&&!sw(o,Z()))return null;{let a=t||k.EMPTY_NODE;return Ic(o,a)}}}else{let s=ss(n.visibleWrites,e);if(!i&&ow(s))return t;if(!i&&t==null&&!sw(s,Z()))return null;{let o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(yn(u.path,e)||yn(e,u.path))},a=Kk(n.allWrites,o,e),c=t||k.EMPTY_NODE;return Ic(a,c)}}}function $G(n,e,t){let r=k.EMPTY_NODE,i=Vo(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(de,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(t){let s=ss(n.visibleWrites,e);return t.forEachChild(de,(o,a)=>{let c=Ic(ss(s,new ee(o)),a);r=r.updateImmediateChild(o,c)}),ok(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{let s=ss(n.visibleWrites,e);return ok(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function GG(n,e,t,r,i){T(r||i,"Either existingEventSnap or existingServerSnap must exist");let s=be(e,t);if(sw(n.visibleWrites,s))return null;{let o=ss(n.visibleWrites,s);return ow(o)?i.getChild(t):Ic(o,i.getChild(t))}}function WG(n,e,t,r){let i=be(e,t),s=Vo(n.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(t)){let o=ss(n.visibleWrites,i);return Ic(o,r.getNode().getImmediateChild(t))}else return null}function HG(n,e){return Vo(n.visibleWrites,e)}function KG(n,e,t,r,i,s,o){let a,c=ss(n.visibleWrites,e),u=Vo(c,Z());if(u!=null)a=u;else if(t!=null)a=Ic(c,t);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){let l=[],h=o.getCompare(),d=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o),p=d.getNext();for(;p&&l.length<i;)h(p,r)!==0&&l.push(p),p=d.getNext();return l}else return[]}function YG(){return{visibleWrites:an.empty(),allWrites:[],lastWriteId:-1}}function zp(n,e,t,r){return Yk(n.writeTree,n.treePath,e,t,r)}function Vw(n,e){return $G(n.writeTree,n.treePath,e)}function ak(n,e,t,r){return GG(n.writeTree,n.treePath,e,t,r)}function $p(n,e){return HG(n.writeTree,be(n.treePath,e))}function QG(n,e,t,r,i,s){return KG(n.writeTree,n.treePath,e,t,r,i,s)}function jw(n,e,t){return WG(n.writeTree,n.treePath,e,t)}function Qk(n,e){return Jk(be(n.treePath,e),n.writeTree)}function Jk(n,e){return{treePath:n,writeTree:e}}var aw=class{constructor(){this.changeMap=new Map}trackChildChange(e){let t=e.type,r=e.childName;T(t==="child_added"||t==="child_changed"||t==="child_removed","Only child changes supported for tracking"),T(r!==".priority","Only non-priority child changes can be tracked.");let i=this.changeMap.get(r);if(i){let s=i.type;if(t==="child_added"&&s==="child_removed")this.changeMap.set(r,rh(r,e.snapshotNode,i.snapshotNode));else if(t==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(t==="child_removed"&&s==="child_changed")this.changeMap.set(r,nh(r,i.oldSnap));else if(t==="child_changed"&&s==="child_added")this.changeMap.set(r,vc(r,e.snapshotNode));else if(t==="child_changed"&&s==="child_changed")this.changeMap.set(r,rh(r,e.snapshotNode,i.oldSnap));else throw Oo("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}};var cw=class{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}},Xk=new cw,sh=class{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){let t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{let r=this.optCompleteServerCache_!=null?new _r(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return jw(this.writes_,e,r)}}getChildAfterChild(e,t,r){let i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Uo(this.viewCache_),s=QG(this.writes_,i,t,1,r,e);return s.length===0?null:s[0]}};function JG(n){return{filter:n}}function XG(n,e){T(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),T(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function ZG(n,e,t,r,i){let s=new aw,o,a;if(t.type===Fn.OVERWRITE){let u=t;u.source.fromUser?o=uw(n,e,u.path,u.snap,r,i,s):(T(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered()&&!z(u.path),o=Gp(n,e,u.path,u.snap,r,i,a,s))}else if(t.type===Fn.MERGE){let u=t;u.source.fromUser?o=tW(n,e,u.path,u.children,r,i,s):(T(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.serverCache.isFiltered(),o=lw(n,e,u.path,u.children,r,i,a,s))}else if(t.type===Fn.ACK_USER_WRITE){let u=t;u.revert?o=iW(n,e,u.path,r,i,s):o=nW(n,e,u.path,u.affectedTree,r,i,s)}else if(t.type===Fn.LISTEN_COMPLETE)o=rW(n,e,t.path,r,s);else throw Oo("Unknown operation type: "+t.type);let c=s.getChanges();return eW(e,o,c),{viewCache:o,changes:c}}function eW(n,e,t){let r=e.eventCache;if(r.isFullyInitialized()){let i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=jp(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&t.push(Gk(jp(e)))}}function Zk(n,e,t,r,i,s){let o=e.eventCache;if($p(r,t)!=null)return e;{let a,c;if(z(t))if(T(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){let u=Uo(e),l=u instanceof k?u:k.EMPTY_NODE,h=Vw(r,l);a=n.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{let u=zp(r,Uo(e));a=n.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{let u=j(t);if(u===".priority"){T(us(t)===1,"Can't have a priority with additional path components");let l=o.getNode();c=e.serverCache.getNode();let h=ak(r,t,l,c);h!=null?a=n.filter.updatePriority(l,h):a=o.getNode()}else{let l=le(t),h;if(o.isCompleteForChild(u)){c=e.serverCache.getNode();let d=ak(r,t,o.getNode(),c);d!=null?h=o.getNode().getImmediateChild(u).updateChild(l,d):h=o.getNode().getImmediateChild(u)}else h=jw(r,u,e.serverCache);h!=null?a=n.filter.updateChild(o.getNode(),u,h,l,i,s):a=o.getNode()}}return Yl(e,a,o.isFullyInitialized()||z(t),n.filter.filtersNodes())}}function Gp(n,e,t,r,i,s,o,a){let c=e.serverCache,u,l=o?n.filter:n.filter.getIndexedFilter();if(z(t))u=l.updateFullNode(c.getNode(),r,null);else if(l.filtersNodes()&&!c.isFiltered()){let p=c.getNode().updateChild(t,r);u=l.updateFullNode(c.getNode(),p,null)}else{let p=j(t);if(!c.isCompleteForPath(t)&&us(t)>1)return e;let m=le(t),E=c.getNode().getImmediateChild(p).updateChild(m,r);p===".priority"?u=l.updatePriority(c.getNode(),E):u=l.updateChild(c.getNode(),p,E,m,Xk,null)}let h=Wk(e,u,c.isFullyInitialized()||z(t),l.filtersNodes()),d=new sh(i,h,s);return Zk(n,h,t,i,d,a)}function uw(n,e,t,r,i,s,o){let a=e.eventCache,c,u,l=new sh(i,e,s);if(z(t))u=n.filter.updateFullNode(e.eventCache.getNode(),r,o),c=Yl(e,u,!0,n.filter.filtersNodes());else{let h=j(t);if(h===".priority")u=n.filter.updatePriority(e.eventCache.getNode(),r),c=Yl(e,u,a.isFullyInitialized(),a.isFiltered());else{let d=le(t),p=a.getNode().getImmediateChild(h),m;if(z(d))m=r;else{let _=l.getCompleteChild(h);_!=null?Pw(d)===".priority"&&_.getChild(Fk(d)).isEmpty()?m=_:m=_.updateChild(d,r):m=k.EMPTY_NODE}if(p.equals(m))c=e;else{let _=n.filter.updateChild(a.getNode(),h,m,d,l,o);c=Yl(e,_,a.isFullyInitialized(),n.filter.filtersNodes())}}}return c}function ck(n,e){return n.eventCache.isCompleteForChild(e)}function tW(n,e,t,r,i,s,o){let a=e;return r.foreach((c,u)=>{let l=be(t,c);ck(e,j(l))&&(a=uw(n,a,l,u,i,s,o))}),r.foreach((c,u)=>{let l=be(t,c);ck(e,j(l))||(a=uw(n,a,l,u,i,s,o))}),a}function uk(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function lw(n,e,t,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let c=e,u;z(t)?u=r:u=new ae(null).setTree(t,r);let l=e.serverCache.getNode();return u.children.inorderTraversal((h,d)=>{if(l.hasChild(h)){let p=e.serverCache.getNode().getImmediateChild(h),m=uk(n,p,d);c=Gp(n,c,new ee(h),m,i,s,o,a)}}),u.children.inorderTraversal((h,d)=>{let p=!e.serverCache.isCompleteForChild(h)&&d.value===null;if(!l.hasChild(h)&&!p){let m=e.serverCache.getNode().getImmediateChild(h),_=uk(n,m,d);c=Gp(n,c,new ee(h),_,i,s,o,a)}}),c}function nW(n,e,t,r,i,s,o){if($p(i,t)!=null)return e;let a=e.serverCache.isFiltered(),c=e.serverCache;if(r.value!=null){if(z(t)&&c.isFullyInitialized()||c.isCompleteForPath(t))return Gp(n,e,t,c.getNode().getChild(t),i,s,a,o);if(z(t)){let u=new ae(null);return c.getNode().forEachChild(mr,(l,h)=>{u=u.set(new ee(l),h)}),lw(n,e,t,u,i,s,a,o)}else return e}else{let u=new ae(null);return r.foreach((l,h)=>{let d=be(t,l);c.isCompleteForPath(d)&&(u=u.set(l,c.getNode().getChild(d)))}),lw(n,e,t,u,i,s,a,o)}}function rW(n,e,t,r,i){let s=e.serverCache,o=Wk(e,s.getNode(),s.isFullyInitialized()||z(t),s.isFiltered());return Zk(n,o,t,r,Xk,i)}function iW(n,e,t,r,i,s){let o;if($p(r,t)!=null)return e;{let a=new sh(r,e,i),c=e.eventCache.getNode(),u;if(z(t)||j(t)===".priority"){let l;if(e.serverCache.isFullyInitialized())l=zp(r,Uo(e));else{let h=e.serverCache.getNode();T(h instanceof k,"serverChildren would be complete if leaf node"),l=Vw(r,h)}l=l,u=n.filter.updateFullNode(c,l,s)}else{let l=j(t),h=jw(r,l,e.serverCache);h==null&&e.serverCache.isCompleteForChild(l)&&(h=c.getImmediateChild(l)),h!=null?u=n.filter.updateChild(c,l,h,le(t),a,s):e.eventCache.getNode().hasChild(l)?u=n.filter.updateChild(c,l,k.EMPTY_NODE,le(t),a,s):u=c,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=zp(r,Uo(e)),o.isLeafNode()&&(u=n.filter.updateFullNode(u,o,s)))}return o=e.serverCache.isFullyInitialized()||$p(r,Z())!=null,Yl(e,u,o,n.filter.filtersNodes())}}var hw=class{constructor(e,t){this.query_=e,this.eventRegistrations_=[];let r=this.query_._queryParams,i=new ih(r.getIndex()),s=SG(r);this.processor_=JG(s);let o=t.serverCache,a=t.eventCache,c=i.updateFullNode(k.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(k.EMPTY_NODE,a.getNode(),null),l=new _r(c,o.isFullyInitialized(),i.filtersNodes()),h=new _r(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=im(h,l),this.eventGenerator_=new rw(this.query_)}get query(){return this.query_}};function sW(n){return n.viewCache_.serverCache.getNode()}function oW(n){return jp(n.viewCache_)}function aW(n,e){let t=Uo(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!z(e)&&!t.getImmediateChild(j(e)).isEmpty())?t.getChild(e):null}function lk(n){return n.eventRegistrations_.length===0}function cW(n,e){n.eventRegistrations_.push(e)}function hk(n,e,t){let r=[];if(t){T(e==null,"A cancel should cancel all event registrations.");let i=n.query._path;n.eventRegistrations_.forEach(s=>{let o=s.createCancelEvent(t,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<n.eventRegistrations_.length;++s){let o=n.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(n.eventRegistrations_.slice(s+1));break}}n.eventRegistrations_=i}else n.eventRegistrations_=[];return r}function dk(n,e,t,r){e.type===Fn.MERGE&&e.source.queryId!==null&&(T(Uo(n.viewCache_),"We should always have a full cache before handling merges"),T(jp(n.viewCache_),"Missing event cache, even though we have a server cache"));let i=n.viewCache_,s=ZG(n.processor_,i,e,t,r);return XG(n.processor_,s.viewCache),T(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=s.viewCache,eP(n,s.changes,s.viewCache.eventCache.getNode(),null)}function uW(n,e){let t=n.viewCache_.eventCache,r=[];return t.getNode().isLeafNode()||t.getNode().forEachChild(de,(s,o)=>{r.push(vc(s,o))}),t.isFullyInitialized()&&r.push(Gk(t.getNode())),eP(n,r,t.getNode(),e)}function eP(n,e,t,r){let i=r?[r]:n.eventRegistrations_;return kG(n.eventGenerator_,e,t,i)}var Wp,Hp=class{constructor(){this.views=new Map}};function lW(n){T(!Wp,"__referenceConstructor has already been defined"),Wp=n}function hW(){return T(Wp,"Reference.ts has not been loaded"),Wp}function dW(n){return n.views.size===0}function zw(n,e,t,r){let i=e.source.queryId;if(i!==null){let s=n.views.get(i);return T(s!=null,"SyncTree gave us an op for an invalid query."),dk(s,e,t,r)}else{let s=[];for(let o of n.views.values())s=s.concat(dk(o,e,t,r));return s}}function tP(n,e,t,r,i){let s=e._queryIdentifier,o=n.views.get(s);if(!o){let a=zp(t,i?r:null),c=!1;a?c=!0:r instanceof k?(a=Vw(t,r),c=!1):(a=k.EMPTY_NODE,c=!1);let u=im(new _r(a,c,!1),new _r(r,i,!1));return new hw(e,u)}return o}function fW(n,e,t,r,i,s){let o=tP(n,e,r,i,s);return n.views.has(e._queryIdentifier)||n.views.set(e._queryIdentifier,o),cW(o,t),uW(o,t)}function pW(n,e,t,r){let i=e._queryIdentifier,s=[],o=[],a=hs(n);if(i==="default")for(let[c,u]of n.views.entries())o=o.concat(hk(u,t,r)),lk(u)&&(n.views.delete(c),u.query._queryParams.loadsAllData()||s.push(u.query));else{let c=n.views.get(i);c&&(o=o.concat(hk(c,t,r)),lk(c)&&(n.views.delete(i),c.query._queryParams.loadsAllData()||s.push(c.query)))}return a&&!hs(n)&&s.push(new(hW())(e._repo,e._path)),{removed:s,events:o}}function nP(n){let e=[];for(let t of n.views.values())t.query._queryParams.loadsAllData()||e.push(t);return e}function os(n,e){let t=null;for(let r of n.views.values())t=t||aW(r,e);return t}function rP(n,e){if(e._queryParams.loadsAllData())return om(n);{let r=e._queryIdentifier;return n.views.get(r)}}function iP(n,e){return rP(n,e)!=null}function hs(n){return om(n)!=null}function om(n){for(let e of n.views.values())if(e.query._queryParams.loadsAllData())return e;return null}var Kp;function mW(n){T(!Kp,"__referenceConstructor has already been defined"),Kp=n}function gW(){return T(Kp,"Reference.ts has not been loaded"),Kp}var _W=1,Yp=class{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ae(null),this.pendingWriteTree_=YG(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}};function $w(n,e,t,r,i){return LG(n.pendingWriteTree_,e,t,r,i),i?Ac(n,new ei(Uw(),e,t)):[]}function yW(n,e,t,r){UG(n.pendingWriteTree_,e,t,r);let i=ae.fromObject(t);return Ac(n,new ls(Uw(),e,i))}function rs(n,e,t=!1){let r=FG(n.pendingWriteTree_,e);if(qG(n.pendingWriteTree_,e)){let s=new ae(null);return r.snap!=null?s=s.set(Z(),!0):at(r.children,o=>{s=s.set(new ee(o),!0)}),Ac(n,new bc(r.path,s,t))}else return[]}function mh(n,e,t){return Ac(n,new ei(Fw(),e,t))}function vW(n,e,t){let r=ae.fromObject(t);return Ac(n,new ls(Fw(),e,r))}function EW(n,e){return Ac(n,new Lo(Fw(),e))}function bW(n,e,t){let r=Gw(n,t);if(r){let i=Ww(r),s=i.path,o=i.queryId,a=Ot(s,e),c=new Lo(qw(o),a);return Hw(n,s,c)}else return[]}function Qp(n,e,t,r,i=!1){let s=e._path,o=n.syncPointTree_.get(s),a=[];if(o&&(e._queryIdentifier==="default"||iP(o,e))){let c=pW(o,e,t,r);dW(o)&&(n.syncPointTree_=n.syncPointTree_.remove(s));let u=c.removed;if(a=c.events,!i){let l=u.findIndex(d=>d._queryParams.loadsAllData())!==-1,h=n.syncPointTree_.findOnPath(s,(d,p)=>hs(p));if(l&&!h){let d=n.syncPointTree_.subtree(s);if(!d.isEmpty()){let p=TW(d);for(let m=0;m<p.length;++m){let _=p[m],E=_.query,N=cP(n,_);n.listenProvider_.startListening(Jl(E),oh(n,E),N.hashFn,N.onComplete)}}}!h&&u.length>0&&!r&&(l?n.listenProvider_.stopListening(Jl(e),null):u.forEach(d=>{let p=n.queryToTagMap.get(cm(d));n.listenProvider_.stopListening(Jl(d),p)}))}SW(n,u)}return a}function sP(n,e,t,r){let i=Gw(n,r);if(i!=null){let s=Ww(i),o=s.path,a=s.queryId,c=Ot(o,e),u=new ei(qw(a),c,t);return Hw(n,o,u)}else return[]}function IW(n,e,t,r){let i=Gw(n,r);if(i){let s=Ww(i),o=s.path,a=s.queryId,c=Ot(o,e),u=ae.fromObject(t),l=new ls(qw(a),c,u);return Hw(n,o,l)}else return[]}function dw(n,e,t,r=!1){let i=e._path,s=null,o=!1;n.syncPointTree_.foreachOnPath(i,(d,p)=>{let m=Ot(d,i);s=s||os(p,m),o=o||hs(p)});let a=n.syncPointTree_.get(i);a?(o=o||hs(a),s=s||os(a,Z())):(a=new Hp,n.syncPointTree_=n.syncPointTree_.set(i,a));let c;s!=null?c=!0:(c=!1,s=k.EMPTY_NODE,n.syncPointTree_.subtree(i).foreachChild((p,m)=>{let _=os(m,Z());_&&(s=s.updateImmediateChild(p,_))}));let u=iP(a,e);if(!u&&!e._queryParams.loadsAllData()){let d=cm(e);T(!n.queryToTagMap.has(d),"View does not exist, but we have a tag");let p=CW();n.queryToTagMap.set(d,p),n.tagToQueryMap.set(p,d)}let l=sm(n.pendingWriteTree_,i),h=fW(a,e,t,l,s,c);if(!u&&!o&&!r){let d=rP(a,e);h=h.concat(AW(n,e,d))}return h}function am(n,e,t){let i=n.pendingWriteTree_,s=n.syncPointTree_.findOnPath(e,(o,a)=>{let c=Ot(o,e),u=os(a,c);if(u)return u});return Yk(i,e,s,t,!0)}function wW(n,e){let t=e._path,r=null;n.syncPointTree_.foreachOnPath(t,(u,l)=>{let h=Ot(u,t);r=r||os(l,h)});let i=n.syncPointTree_.get(t);i?r=r||os(i,Z()):(i=new Hp,n.syncPointTree_=n.syncPointTree_.set(t,i));let s=r!=null,o=s?new _r(r,!0,!1):null,a=sm(n.pendingWriteTree_,e._path),c=tP(i,e,a,s?o.getNode():k.EMPTY_NODE,s);return oW(c)}function Ac(n,e){return oP(e,n.syncPointTree_,null,sm(n.pendingWriteTree_,Z()))}function oP(n,e,t,r){if(z(n.path))return aP(n,e,t,r);{let i=e.get(Z());t==null&&i!=null&&(t=os(i,Z()));let s=[],o=j(n.path),a=n.operationForChild(o),c=e.children.get(o);if(c&&a){let u=t?t.getImmediateChild(o):null,l=Qk(r,o);s=s.concat(oP(a,c,u,l))}return i&&(s=s.concat(zw(i,n,r,t))),s}}function aP(n,e,t,r){let i=e.get(Z());t==null&&i!=null&&(t=os(i,Z()));let s=[];return e.children.inorderTraversal((o,a)=>{let c=t?t.getImmediateChild(o):null,u=Qk(r,o),l=n.operationForChild(o);l&&(s=s.concat(aP(l,a,c,u)))}),i&&(s=s.concat(zw(i,n,r,t))),s}function cP(n,e){let t=e.query,r=oh(n,t);return{hashFn:()=>(sW(e)||k.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?bW(n,t._path,r):EW(n,t._path);{let s=L6(i,t);return Qp(n,t,null,s)}}}}function oh(n,e){let t=cm(e);return n.queryToTagMap.get(t)}function cm(n){return n._path.toString()+"$"+n._queryIdentifier}function Gw(n,e){return n.tagToQueryMap.get(e)}function Ww(n){let e=n.indexOf("$");return T(e!==-1&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new ee(n.substr(0,e))}}function Hw(n,e,t){let r=n.syncPointTree_.get(e);T(r,"Missing sync point for query tag that we're tracking");let i=sm(n.pendingWriteTree_,e);return zw(r,t,i,null)}function TW(n){return n.fold((e,t,r)=>{if(t&&hs(t))return[om(t)];{let i=[];return t&&(i=nP(t)),at(r,(s,o)=>{i=i.concat(o)}),i}})}function Jl(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(gW())(n._repo,n._path):n}function SW(n,e){for(let t=0;t<e.length;++t){let r=e[t];if(!r._queryParams.loadsAllData()){let i=cm(r),s=n.queryToTagMap.get(i);n.queryToTagMap.delete(i),n.tagToQueryMap.delete(s)}}}function CW(){return _W++}function AW(n,e,t){let r=e._path,i=oh(n,e),s=cP(n,t),o=n.listenProvider_.startListening(Jl(e),i,s.hashFn,s.onComplete),a=n.syncPointTree_.subtree(r);if(i)T(!hs(a.value),"If we're adding a query, it shouldn't be shadowed");else{let c=a.fold((u,l,h)=>{if(!z(u)&&l&&hs(l))return[om(l).query];{let d=[];return l&&(d=d.concat(nP(l).map(p=>p.query))),at(h,(p,m)=>{d=d.concat(m)}),d}});for(let u=0;u<c.length;++u){let l=c[u];n.listenProvider_.stopListening(Jl(l),oh(n,l))}}return o}var ah=class{constructor(e){this.node_=e}getImmediateChild(e){let t=this.node_.getImmediateChild(e);return new ah(t)}node(){return this.node_}},ch=class{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){let t=be(this.path_,e);return new ch(this.syncTree_,t)}node(){return am(this.syncTree_,this.path_)}},RW=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},fk=function(n,e,t){if(!n||typeof n!="object")return n;if(T(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return xW(n[".sv"],e,t);if(typeof n[".sv"]=="object")return DW(n[".sv"],e);T(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},xW=function(n,e,t){switch(n){case"timestamp":return t.timestamp;default:T(!1,"Unexpected server value: "+n)}},DW=function(n,e,t){n.hasOwnProperty("increment")||T(!1,"Unexpected server value: "+JSON.stringify(n,null,2));let r=n.increment;typeof r!="number"&&T(!1,"Unexpected increment value: "+r);let i=e.node();if(T(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;let o=i.getValue();return typeof o!="number"?r:o+r},uP=function(n,e,t,r){return Yw(e,new ch(t,n),r)},Kw=function(n,e,t){return Yw(n,new ah(e),t)};function Yw(n,e,t){let r=n.getPriority().val(),i=fk(r,e.getImmediateChild(".priority"),t),s;if(n.isLeafNode()){let o=n,a=fk(o.getValue(),e,t);return a!==o.getValue()||i!==o.getPriority().val()?new qe(a,Te(i)):n}else{let o=n;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new qe(i))),o.forEachChild(de,(a,c)=>{let u=Yw(c,e.getImmediateChild(a),t);u!==c&&(s=s.updateImmediateChild(a,u))}),s}}var uh=class{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}};function um(n,e){let t=e instanceof ee?e:new ee(e),r=n,i=j(t);for(;i!==null;){let s=ts(r.node.children,i)||{children:{},childCount:0};r=new uh(i,r,s),t=le(t),i=j(t)}return r}function jo(n){return n.node.value}function Qw(n,e){n.node.value=e,fw(n)}function lP(n){return n.node.childCount>0}function OW(n){return jo(n)===void 0&&!lP(n)}function lm(n,e){at(n.node.children,(t,r)=>{e(new uh(t,n,r))})}function hP(n,e,t,r){t&&!r&&e(n),lm(n,i=>{hP(i,e,!0,r)}),t&&r&&e(n)}function NW(n,e,t){let r=t?n:n.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function gh(n){return new ee(n.parent===null?n.name:gh(n.parent)+"/"+n.name)}function fw(n){n.parent!==null&&kW(n.parent,n.name,n)}function kW(n,e,t){let r=OW(t),i=_n(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,fw(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,fw(n))}var PW=/[\[\].#$\/\u0000-\u001F\u007F]/,MW=/[\[\].#$\u0000-\u001F\u007F]/,DI=10*1024*1024,hm=function(n){return typeof n=="string"&&n.length!==0&&!PW.test(n)},dP=function(n){return typeof n=="string"&&n.length!==0&&!MW.test(n)},BW=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dP(n)},lh=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!nm(n)||n&&typeof n=="object"&&_n(n,".sv")},yr=function(n,e,t,r){r&&e===void 0||_h(ns(n,"value"),e,t)},_h=function(n,e,t){let r=t instanceof ee?new jI(t,n):t;if(e===void 0)throw new Error(n+"contains undefined "+No(r));if(typeof e=="function")throw new Error(n+"contains a function "+No(r)+" with contents = "+e.toString());if(nm(e))throw new Error(n+"contains "+e.toString()+" "+No(r));if(typeof e=="string"&&e.length>DI/3&&zl(e)>DI)throw new Error(n+"contains a string greater than "+DI+" utf8 bytes "+No(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(at(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!hm(o)))throw new Error(n+" contains an invalid key ("+o+") "+No(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);dG(r,o),_h(n,a,r),fG(r)}),i&&s)throw new Error(n+' contains ".value" child '+No(r)+" in addition to actual children.")}},LW=function(n,e){let t,r;for(t=0;t<e.length;t++){r=e[t];let s=Zl(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!hm(s[o]))throw new Error(n+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(hG);let i=null;for(t=0;t<e.length;t++){if(r=e[t],i!==null&&yn(i,r))throw new Error(n+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},fP=function(n,e,t,r){if(r&&e===void 0)return;let i=ns(n,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");let s=[];at(e,(o,a)=>{let c=new ee(o);if(_h(i,a,be(t,c)),Pw(c)===".priority"&&!lh(a))throw new Error(i+"contains an invalid value for '"+c.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(c)}),LW(i,s)},Jw=function(n,e,t){if(!(t&&e===void 0)){if(nm(e))throw new Error(ns(n,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!lh(e))throw new Error(ns(n,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},yh=function(n,e,t,r){if(!(r&&t===void 0)&&!hm(t))throw new Error(ns(n,e)+'was an invalid key = "'+t+`".  Firebase keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]").`)},Rc=function(n,e,t,r){if(!(r&&t===void 0)&&!dP(t))throw new Error(ns(n,e)+'was an invalid path = "'+t+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},UW=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Rc(n,e,t,r)},on=function(n,e){if(j(e)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},pP=function(n,e){let t=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!hm(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||t.length!==0&&!BW(t))throw new Error(ns(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};var pw=class{constructor(){this.eventLists_=[],this.recursionDepth_=0}};function dm(n,e){let t=null;for(let r=0;r<e.length;r++){let i=e[r],s=i.getPath();t!==null&&!Mw(s,t.path)&&(n.eventLists_.push(t),t=null),t===null&&(t={events:[],path:s}),t.events.push(i)}t&&n.eventLists_.push(t)}function mP(n,e,t){dm(n,t),gP(n,r=>Mw(r,e))}function cn(n,e,t){dm(n,t),gP(n,r=>yn(r,e)||yn(e,r))}function gP(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){let i=n.eventLists_[r];if(i){let s=i.path;e(s)?(FW(n.eventLists_[r]),n.eventLists_[r]=null):t=!1}}t&&(n.eventLists_=[]),n.recursionDepth_--}function FW(n){for(let e=0;e<n.events.length;e++){let t=n.events[e];if(t!==null){n.events[e]=null;let r=t.getEventRunner();Po&&ot("event: "+t.toString()),Sc(r)}}}var _P="repo_interrupt",qW=25,mw=class{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new pw,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Vp(),this.transactionQueueTree_=new uh,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}};function VW(n,e,t){if(n.stats_=kw(n.repoInfo_),n.forceRestClient_||V6())n.server_=new Ec(n.repoInfo_,(r,i,s,o)=>{pk(n,r,i,s,o)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>mk(n,!0),0);else{if(typeof t<"u"&&t!==null){if(typeof t!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fe(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new qn(n.repoInfo_,e,(r,i,s,o)=>{pk(n,r,i,s,o)},r=>{mk(n,r)},r=>{jW(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=z6(n.repoInfo_,()=>new nw(n.stats_,n.server_)),n.infoData_=new XI,n.infoSyncTree_=new Yp({startListening:(r,i,s,o)=>{let a=[],c=n.infoData_.getNode(r._path);return c.isEmpty()||(a=mh(n.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Xw(n,"connected",!1),n.serverSyncTree_=new Yp({startListening:(r,i,s,o)=>(n.server_.listen(r,s,i,(a,c)=>{let u=o(a,c);cn(n.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}function yP(n){let t=n.infoData_.getNode(new ee(".info/serverTimeOffset")).val()||0;return new Date().getTime()+t}function vh(n){return RW({timestamp:yP(n)})}function pk(n,e,t,r,i){n.dataUpdateCount++;let s=new ee(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let o=[];if(i)if(r){let c=jl(t,u=>Te(u));o=IW(n.serverSyncTree_,s,c,i)}else{let c=Te(t);o=sP(n.serverSyncTree_,s,c,i)}else if(r){let c=jl(t,u=>Te(u));o=vW(n.serverSyncTree_,s,c)}else{let c=Te(t);o=mh(n.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=wc(n,s)),cn(n.eventQueue_,a,o)}function mk(n,e){Xw(n,"connected",e),e===!1&&GW(n)}function jW(n,e){at(e,(t,r)=>{Xw(n,t,r)})}function Xw(n,e,t){let r=new ee("/.info/"+e),i=Te(t);n.infoData_.updateSnapshot(r,i);let s=mh(n.infoSyncTree_,r,i);cn(n.eventQueue_,r,s)}function fm(n){return n.nextWriteId_++}function zW(n,e,t){let r=wW(n.serverSyncTree_,e);return r!=null?Promise.resolve(r):n.server_.get(e).then(i=>{let s=Te(i).withIndex(e._queryParams.getIndex());dw(n.serverSyncTree_,e,t,!0);let o;if(e._queryParams.loadsAllData())o=mh(n.serverSyncTree_,e._path,s);else{let a=oh(n.serverSyncTree_,e);o=sP(n.serverSyncTree_,e._path,s,a)}return cn(n.eventQueue_,e._path,o),Qp(n.serverSyncTree_,e,t,null,!0),s},i=>(xc(n,"get for query "+Fe(e)+" failed: "+i),Promise.reject(new Error(i))))}function Zw(n,e,t,r,i){xc(n,"set",{path:e.toString(),value:t,priority:r});let s=vh(n),o=Te(t,r),a=am(n.serverSyncTree_,e),c=Kw(o,a,s),u=fm(n),l=$w(n.serverSyncTree_,e,c,u,!0);dm(n.eventQueue_,l),n.server_.put(e.toString(),o.val(!0),(d,p)=>{let m=d==="ok";m||St("set at "+e+" failed: "+d);let _=rs(n.serverSyncTree_,u,!m);cn(n.eventQueue_,e,_),ds(n,i,d,p)});let h=t0(n,e);wc(n,h),cn(n.eventQueue_,h,[])}function $W(n,e,t,r){xc(n,"update",{path:e.toString(),value:t});let i=!0,s=vh(n),o={};if(at(t,(a,c)=>{i=!1,o[a]=uP(be(e,a),Te(c),n.serverSyncTree_,s)}),i)ot("update() called with empty data.  Don't do anything."),ds(n,r,"ok",void 0);else{let a=fm(n),c=yW(n.serverSyncTree_,e,o,a);dm(n.eventQueue_,c),n.server_.merge(e.toString(),t,(u,l)=>{let h=u==="ok";h||St("update at "+e+" failed: "+u);let d=rs(n.serverSyncTree_,a,!h),p=d.length>0?wc(n,e):e;cn(n.eventQueue_,p,d),ds(n,r,u,l)}),at(t,u=>{let l=t0(n,be(e,u));wc(n,l)}),cn(n.eventQueue_,e,[])}}function GW(n){xc(n,"onDisconnectEvents");let e=vh(n),t=Vp();ew(n.onDisconnect_,Z(),(i,s)=>{let o=uP(i,s,n.serverSyncTree_,e);Cc(t,i,o)});let r=[];ew(t,Z(),(i,s)=>{r=r.concat(mh(n.serverSyncTree_,i,s));let o=t0(n,i);wc(n,o)}),n.onDisconnect_=Vp(),cn(n.eventQueue_,Z(),r)}function WW(n,e,t){n.server_.onDisconnectCancel(e.toString(),(r,i)=>{r==="ok"&&ZI(n.onDisconnect_,e),ds(n,t,r,i)})}function gk(n,e,t,r){let i=Te(t);n.server_.onDisconnectPut(e.toString(),i.val(!0),(s,o)=>{s==="ok"&&Cc(n.onDisconnect_,e,i),ds(n,r,s,o)})}function HW(n,e,t,r,i){let s=Te(t,r);n.server_.onDisconnectPut(e.toString(),s.val(!0),(o,a)=>{o==="ok"&&Cc(n.onDisconnect_,e,s),ds(n,i,o,a)})}function KW(n,e,t,r){if(Op(t)){ot("onDisconnect().update() called with empty data.  Don't do anything."),ds(n,r,"ok",void 0);return}n.server_.onDisconnectMerge(e.toString(),t,(i,s)=>{i==="ok"&&at(t,(o,a)=>{let c=Te(a);Cc(n.onDisconnect_,be(e,o),c)}),ds(n,r,i,s)})}function YW(n,e,t){let r;j(e._path)===".info"?r=dw(n.infoSyncTree_,e,t):r=dw(n.serverSyncTree_,e,t),mP(n.eventQueue_,e._path,r)}function gw(n,e,t){let r;j(e._path)===".info"?r=Qp(n.infoSyncTree_,e,t):r=Qp(n.serverSyncTree_,e,t),mP(n.eventQueue_,e._path,r)}function vP(n){n.persistentConnection_&&n.persistentConnection_.interrupt(_P)}function QW(n){n.persistentConnection_&&n.persistentConnection_.resume(_P)}function xc(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),ot(t,...e)}function ds(n,e,t,r){e&&Sc(()=>{if(t==="ok")e(null);else{let i=(t||"error").toUpperCase(),s=i;r&&(s+=": "+r);let o=new Error(s);o.code=i,e(o)}})}function JW(n,e,t,r,i,s){xc(n,"transaction on "+e);let o={path:e,update:t,onComplete:r,status:null,order:vk(),applyLocally:s,retryCount:0,unwatcher:i,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=e0(n,e,void 0);o.currentInputSnapshot=a;let c=o.update(a.val());if(c===void 0)o.unwatcher(),o.currentOutputSnapshotRaw=null,o.currentOutputSnapshotResolved=null,o.onComplete&&o.onComplete(null,!1,o.currentInputSnapshot);else{_h("transaction failed: Data returned ",c,o.path),o.status=0;let u=um(n.transactionQueueTree_,e),l=jo(u)||[];l.push(o),Qw(u,l);let h;typeof c=="object"&&c!==null&&_n(c,".priority")?(h=ts(c,".priority"),T(lh(h),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):h=(am(n.serverSyncTree_,e)||k.EMPTY_NODE).getPriority().val();let d=vh(n),p=Te(c,h),m=Kw(p,a,d);o.currentOutputSnapshotRaw=p,o.currentOutputSnapshotResolved=m,o.currentWriteId=fm(n);let _=$w(n.serverSyncTree_,e,m,o.currentWriteId,o.applyLocally);cn(n.eventQueue_,e,_),pm(n,n.transactionQueueTree_)}}function e0(n,e,t){return am(n.serverSyncTree_,e,t)||k.EMPTY_NODE}function pm(n,e=n.transactionQueueTree_){if(e||mm(n,e),jo(e)){let t=bP(n,e);T(t.length>0,"Sending zero length transaction queue"),t.every(i=>i.status===0)&&XW(n,gh(e),t)}else lP(e)&&lm(e,t=>{pm(n,t)})}function XW(n,e,t){let r=t.map(u=>u.currentWriteId),i=e0(n,e,r),s=i,o=i.hash();for(let u=0;u<t.length;u++){let l=t[u];T(l.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),l.status=1,l.retryCount++;let h=Ot(e,l.path);s=s.updateChild(h,l.currentOutputSnapshotRaw)}let a=s.val(!0),c=e;n.server_.put(c.toString(),a,u=>{xc(n,"transaction put response",{path:c.toString(),status:u});let l=[];if(u==="ok"){let h=[];for(let d=0;d<t.length;d++)t[d].status=2,l=l.concat(rs(n.serverSyncTree_,t[d].currentWriteId)),t[d].onComplete&&h.push(()=>t[d].onComplete(null,!0,t[d].currentOutputSnapshotResolved)),t[d].unwatcher();mm(n,um(n.transactionQueueTree_,e)),pm(n,n.transactionQueueTree_),cn(n.eventQueue_,e,l);for(let d=0;d<h.length;d++)Sc(h[d])}else{if(u==="datastale")for(let h=0;h<t.length;h++)t[h].status===3?t[h].status=4:t[h].status=0;else{St("transaction at "+c.toString()+" failed: "+u);for(let h=0;h<t.length;h++)t[h].status=4,t[h].abortReason=u}wc(n,e)}},o)}function wc(n,e){let t=EP(n,e),r=gh(t),i=bP(n,t);return ZW(n,i,r),r}function ZW(n,e,t){if(e.length===0)return;let r=[],i=[],o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){let c=e[a],u=Ot(t,c.path),l=!1,h;if(T(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),c.status===4)l=!0,h=c.abortReason,i=i.concat(rs(n.serverSyncTree_,c.currentWriteId,!0));else if(c.status===0)if(c.retryCount>=qW)l=!0,h="maxretry",i=i.concat(rs(n.serverSyncTree_,c.currentWriteId,!0));else{let d=e0(n,c.path,o);c.currentInputSnapshot=d;let p=e[a].update(d.val());if(p!==void 0){_h("transaction failed: Data returned ",p,c.path);let m=Te(p);typeof p=="object"&&p!=null&&_n(p,".priority")||(m=m.updatePriority(d.getPriority()));let E=c.currentWriteId,N=vh(n),B=Kw(m,d,N);c.currentOutputSnapshotRaw=m,c.currentOutputSnapshotResolved=B,c.currentWriteId=fm(n),o.splice(o.indexOf(E),1),i=i.concat($w(n.serverSyncTree_,c.path,B,c.currentWriteId,c.applyLocally)),i=i.concat(rs(n.serverSyncTree_,E,!0))}else l=!0,h="nodata",i=i.concat(rs(n.serverSyncTree_,c.currentWriteId,!0))}cn(n.eventQueue_,t,i),i=[],l&&(e[a].status=2,function(d){setTimeout(d,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(h==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(h),!1,null))))}mm(n,n.transactionQueueTree_);for(let a=0;a<r.length;a++)Sc(r[a]);pm(n,n.transactionQueueTree_)}function EP(n,e){let t,r=n.transactionQueueTree_;for(t=j(e);t!==null&&jo(r)===void 0;)r=um(r,t),e=le(e),t=j(e);return r}function bP(n,e){let t=[];return IP(n,e,t),t.sort((r,i)=>r.order-i.order),t}function IP(n,e,t){let r=jo(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);lm(e,i=>{IP(n,i,t)})}function mm(n,e){let t=jo(e);if(t){let r=0;for(let i=0;i<t.length;i++)t[i].status!==2&&(t[r]=t[i],r++);t.length=r,Qw(e,t.length>0?t:void 0)}lm(e,r=>{mm(n,r)})}function t0(n,e){let t=gh(EP(n,e)),r=um(n.transactionQueueTree_,e);return NW(r,i=>{OI(n,i)}),OI(n,r),hP(r,i=>{OI(n,i)}),t}function OI(n,e){let t=jo(e);if(t){let r=[],i=[],s=-1;for(let o=0;o<t.length;o++)t[o].status===3||(t[o].status===1?(T(s===o-1,"All SENT items should be at beginning of queue."),s=o,t[o].status=3,t[o].abortReason="set"):(T(t[o].status===0,"Unexpected transaction status in abort"),t[o].unwatcher(),i=i.concat(rs(n.serverSyncTree_,t[o].currentWriteId,!0)),t[o].onComplete&&r.push(t[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Qw(e,void 0):t.length=s+1,cn(n.eventQueue_,gh(e),i);for(let o=0;o<r.length;o++)Sc(r[o])}}function e4(n){let e="",t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(s){}e+="/"+i}return e}function t4(n){let e={};n.charAt(0)==="?"&&(n=n.substring(1));for(let t of n.split("&")){if(t.length===0)continue;let r=t.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):St(`Invalid query segment '${t}' in query '${n}'`)}return e}var _w=function(n,e){let t=n4(n),r=t.namespace;t.domain==="firebase.com"&&gr(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&t.domain!=="localhost"&&gr("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||N6();let i=t.scheme==="ws"||t.scheme==="wss";return{repoInfo:new Mp(t.host,t.secure,r,i,e,"",r!==t.subdomain),path:new ee(t.pathString)}},n4=function(n){let e="",t="",r="",i="",s="",o=!0,a="https",c=443;if(typeof n=="string"){let u=n.indexOf("//");u>=0&&(a=n.substring(0,u-1),n=n.substring(u+2));let l=n.indexOf("/");l===-1&&(l=n.length);let h=n.indexOf("?");h===-1&&(h=n.length),e=n.substring(0,Math.min(l,h)),l<h&&(i=e4(n.substring(l,h)));let d=t4(n.substring(Math.min(n.length,h)));u=e.indexOf(":"),u>=0?(o=a==="https"||a==="wss",c=parseInt(e.substring(u+1),10)):u=e.length;let p=e.slice(0,u);if(p.toLowerCase()==="localhost")t="localhost";else if(p.split(".").length<=2)t=p;else{let m=e.indexOf(".");r=e.substring(0,m).toLowerCase(),t=e.substring(m+1),s=r}"ns"in d&&(s=d.ns)}return{host:e,port:c,domain:t,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};var _k="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",r4=function(){let n=0,e=[];return function(t){let r=t===n;n=t;let i,s=new Array(8);for(i=7;i>=0;i--)s[i]=_k.charAt(t%64),t=Math.floor(t/64);T(t===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=_k.charAt(e[i]);return T(o.length===20,"nextPushId: Length should be 20."),o}}();var Jp=class{constructor(e,t,r,i){this.eventType=e,this.eventRegistration=t,this.snapshot=r,this.prevName=i}getPath(){let e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Fe(this.snapshot.exportVal())}},Xp=class{constructor(e,t,r){this.eventRegistration=e,this.error=t,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}};var hh=class{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return T(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}};var Zp=class{constructor(e,t){this._repo=e,this._path=t}cancel(){let e=new wt;return WW(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){on("OnDisconnect.remove",this._path);let e=new wt;return gk(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){on("OnDisconnect.set",this._path),yr("OnDisconnect.set",e,this._path,!1);let t=new wt;return gk(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){on("OnDisconnect.setWithPriority",this._path),yr("OnDisconnect.setWithPriority",e,this._path,!1),Jw("OnDisconnect.setWithPriority",t,!1);let r=new wt;return HW(this._repo,this._path,e,t,r.wrapCallback(()=>{})),r.promise}update(e){on("OnDisconnect.update",this._path),fP("OnDisconnect.update",e,this._path,!1);let t=new wt;return KW(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}};var ht=class{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return z(this._path)?null:Pw(this._path)}get ref(){return new Nt(this._repo,this._path)}get _queryIdentifier(){let e=rk(this._queryParams),t=Nw(e);return t==="{}"?"default":t}get _queryObject(){return rk(this._queryParams)}isEqual(e){if(e=Kt(e),!(e instanceof ht))return!1;let t=this._repo===e._repo,r=Mw(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return t&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+lG(this._path)}};function gm(n,e){if(n._orderByCalled===!0)throw new Error(e+": You can't combine multiple orderBy calls.")}function ps(n){let e=null,t=null;if(n.hasStart()&&(e=n.getIndexStartValue()),n.hasEnd()&&(t=n.getIndexEndValue()),n.getIndex()===mr){let r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(n.hasStart()){if(n.getIndexStartName()!==as)throw new Error(r);if(typeof e!="string")throw new Error(i)}if(n.hasEnd()){if(n.getIndexEndName()!==Zr)throw new Error(r);if(typeof t!="string")throw new Error(i)}}else if(n.getIndex()===de){if(e!=null&&!lh(e)||t!=null&&!lh(t))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(T(n.getIndex()instanceof th||n.getIndex()===Lw,"unknown index type."),e!=null&&typeof e=="object"||t!=null&&typeof t=="object")throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function _m(n){if(n.hasStart()&&n.hasEnd()&&n.hasLimit()&&!n.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}var Nt=class extends ht{constructor(e,t){super(e,t,new Bo,!1)}get parent(){let e=Fk(this._path);return e===null?null:new Nt(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}},ti=class{constructor(e,t,r){this._node=e,this.ref=t,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){let t=new ee(e),r=fs(this.ref,e);return new ti(this._node.getChild(t),r,de)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new ti(i,fs(this.ref,r),de)))}hasChild(e){let t=new ee(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}};function n0(n,e){return n=Kt(n),n._checkNotDeleted("ref"),e!==void 0?fs(n._root,e):n._root}function r0(n,e){n=Kt(n),n._checkNotDeleted("refFromURL");let t=_w(e,n._repo.repoInfo_.nodeAdmin);pP("refFromURL",t);let r=t.repoInfo;return!n._repo.repoInfo_.isCustomHost()&&r.host!==n._repo.repoInfo_.host&&gr("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+n._repo.repoInfo_.host+")"),n0(n,t.path.toString())}function fs(n,e){return n=Kt(n),j(n._path)===null?UW("child","path",e,!1):Rc("child","path",e,!1),new Nt(n._repo,be(n._path,e))}function wP(n,e){n=Kt(n),on("push",n._path),yr("push",e,n._path,!0);let t=yP(n._repo),r=r4(t),i=fs(n,r),s=fs(n,r),o;return e!=null?o=ym(s,e).then(()=>s):o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function TP(n){return on("remove",n._path),ym(n,null)}function ym(n,e){n=Kt(n),on("set",n._path),yr("set",e,n._path,!1);let t=new wt;return Zw(n._repo,n._path,e,null,t.wrapCallback(()=>{})),t.promise}function SP(n,e){n=Kt(n),on("setPriority",n._path),Jw("setPriority",e,!1);let t=new wt;return Zw(n._repo,be(n._path,".priority"),e,null,t.wrapCallback(()=>{})),t.promise}function CP(n,e,t){if(on("setWithPriority",n._path),yr("setWithPriority",e,n._path,!1),Jw("setWithPriority",t,!1),n.key===".length"||n.key===".keys")throw"setWithPriority failed: "+n.key+" is a read-only object.";let r=new wt;return Zw(n._repo,n._path,e,t,r.wrapCallback(()=>{})),r.promise}function AP(n,e){fP("update",e,n._path,!1);let t=new wt;return $W(n._repo,n._path,e,t.wrapCallback(()=>{})),t.promise}function RP(n){n=Kt(n);let e=new hh(()=>{}),t=new Fo(e);return zW(n._repo,n,t).then(r=>new ti(r,new Nt(n._repo,n._path),n._queryParams.getIndex()))}var Fo=class{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,t){let r=t._queryParams.getIndex();return new Jp("value",this,new ti(e.snapshotNode,new Nt(t._repo,t._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Xp(this,e,t):null}matches(e){return e instanceof Fo?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}},Tc=class{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t=e==="children_added"?"child_added":e;return t=t==="children_removed"?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Xp(this,e,t):null}createEvent(e,t){T(e.childName!=null,"Child events should have a childName.");let r=fs(new Nt(t._repo,t._path),e.childName),i=t._queryParams.getIndex();return new Jp(e.type,this,new ti(e.snapshotNode,r,i),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Tc?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}};function Eh(n,e,t,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){let c=t,u=(l,h)=>{gw(n._repo,n,a),c(l,h)};u.userCallback=t.userCallback,u.context=t.context,t=u}let o=new hh(t,s||void 0),a=e==="value"?new Fo(o):new Tc(e,o);return YW(n._repo,n,a),()=>gw(n._repo,n,a)}function vm(n,e,t,r){return Eh(n,"value",e,t,r)}function i0(n,e,t,r){return Eh(n,"child_added",e,t,r)}function s0(n,e,t,r){return Eh(n,"child_changed",e,t,r)}function o0(n,e,t,r){return Eh(n,"child_moved",e,t,r)}function a0(n,e,t,r){return Eh(n,"child_removed",e,t,r)}function c0(n,e,t){let r=null,i=t?new hh(t):null;e==="value"?r=new Fo(i):e&&(r=new Tc(e,i)),gw(n._repo,n,r)}var un=class{},em=class extends un{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){yr("endAt",this._value,e._path,!0);let t=JI(e._queryParams,this._value,this._key);if(_m(t),ps(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ht(e._repo,e._path,t,e._orderByCalled)}};function xP(n,e){return yh("endAt","key",e,!0),new em(n,e)}var yw=class extends un{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){yr("endBefore",this._value,e._path,!1);let t=xG(e._queryParams,this._value,this._key);if(_m(t),ps(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new ht(e._repo,e._path,t,e._orderByCalled)}};function DP(n,e){return yh("endBefore","key",e,!0),new yw(n,e)}var tm=class extends un{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){yr("startAt",this._value,e._path,!0);let t=QI(e._queryParams,this._value,this._key);if(_m(t),ps(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new ht(e._repo,e._path,t,e._orderByCalled)}};function OP(n=null,e){return yh("startAt","key",e,!0),new tm(n,e)}var vw=class extends un{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){yr("startAfter",this._value,e._path,!1);let t=RG(e._queryParams,this._value,this._key);if(_m(t),ps(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new ht(e._repo,e._path,t,e._orderByCalled)}};function NP(n,e){return yh("startAfter","key",e,!0),new vw(n,e)}var Ew=class extends un{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new ht(e._repo,e._path,CG(e._queryParams,this._limit),e._orderByCalled)}};function kP(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new Ew(n)}var bw=class extends un{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new ht(e._repo,e._path,AG(e._queryParams,this._limit),e._orderByCalled)}};function PP(n){if(typeof n!="number"||Math.floor(n)!==n||n<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new bw(n)}var Iw=class extends un{constructor(e){super(),this._path=e}_apply(e){gm(e,"orderByChild");let t=new ee(this._path);if(z(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");let r=new th(t),i=rm(e._queryParams,r);return ps(i),new ht(e._repo,e._path,i,!0)}};function MP(n){if(n==="$key")throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if(n==="$priority")throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if(n==="$value")throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return Rc("orderByChild","path",n,!1),new Iw(n)}var ww=class extends un{_apply(e){gm(e,"orderByKey");let t=rm(e._queryParams,mr);return ps(t),new ht(e._repo,e._path,t,!0)}};function BP(){return new ww}var Tw=class extends un{_apply(e){gm(e,"orderByPriority");let t=rm(e._queryParams,de);return ps(t),new ht(e._repo,e._path,t,!0)}};function LP(){return new Tw}var Sw=class extends un{_apply(e){gm(e,"orderByValue");let t=rm(e._queryParams,Lw);return ps(t),new ht(e._repo,e._path,t,!0)}};function UP(){return new Sw}var Cw=class extends un{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(yr("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new em(this._value,this._key)._apply(new tm(this._value,this._key)._apply(e))}};function FP(n,e){return yh("equalTo","key",e,!0),new Cw(n,e)}function vn(n,...e){let t=Kt(n);for(let r of e)t=r._apply(t);return t}lW(Nt);mW(Nt);var i4="FIREBASE_DATABASE_EMULATOR_HOST",Aw={},s4=!1;function o4(n,e,t,r){n.repoInfo_=new Mp(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}function u0(n,e,t,r,i){let s=r||n.options.databaseURL;s===void 0&&(n.options.projectId||gr("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ot("Using default host for project ",n.options.projectId),s=`${n.options.projectId}-default-rtdb.firebaseio.com`);let o=_w(s,i),a=o.repoInfo,c,u;typeof process<"u"&&process.env&&(u=process.env[i4]),u?(c=!0,s=`http://${u}?ns=${a.namespace}`,o=_w(s,i),a=o.repoInfo):c=!o.repoInfo.secure;let l=i&&c?new is(is.OWNER):new LI(n.name,n.options,e);pP("Invalid Firebase Database URL",o),z(o.path)||gr("Database URL must point to the root of a Firebase Database (not including a child path).");let h=c4(a,n,l,new BI(n.name,t));return new Rw(h,n)}function a4(n,e){let t=Aw[e];(!t||t[n.key]!==n)&&gr(`Database ${e}(${n.repoInfo_}) has already been deleted.`),vP(n),delete t[n.key]}function c4(n,e,t,r){let i=Aw[e.name];i||(i={},Aw[e.name]=i);let s=i[n.toURLString()];return s&&gr("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new mw(n,s4,t,r),i[n.toURLString()]=s,s}var Rw=class{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(VW(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Nt(this._repo,Z())),this._rootInternal}_delete(){return this._rootInternal!==null&&(a4(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&gr("Cannot call "+e+" on a deleted database.")}};function qP(){cs.IS_TRANSPORT_INITIALIZED&&St("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function VP(){qP(),pr.forceDisallow()}function jP(){qP(),Yt.forceDisallow(),pr.forceAllow()}function zP(n,e,t,r={}){n=Kt(n),n._checkNotDeleted("useEmulator"),n._instanceStarted&&gr("Cannot call useEmulator() after instance has already been initialized.");let i=n._repoInternal,s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&gr('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new is(is.OWNER);else if(r.mockUserToken){let o=typeof r.mockUserToken=="string"?r.mockUserToken:kN(r.mockUserToken,n.app.options.projectId);s=new is(o)}o4(i,e,t,s)}function $P(n){n=Kt(n),n._checkNotDeleted("goOffline"),vP(n._repo)}function GP(n){n=Kt(n),n._checkNotDeleted("goOnline"),QW(n._repo)}function WP(n,e){bk(n,e)}function u4(n){Ow(Mt),Ie(new Np("database",(e,{instanceIdentifier:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return u0(r,i,s,t)},"PUBLIC").setMultipleInstances(!0)),ie(qN,VN,n),ie(qN,VN,"esm2017")}var l4={".sv":"timestamp"};function HP(){return l4}function KP(n){return{".sv":{increment:n}}}var xw=class{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}};function YP(n,e,t){var r;if(n=Kt(n),on("Reference.transaction",n._path),n.key===".length"||n.key===".keys")throw"Reference.transaction failed: "+n.key+" is a read-only object.";let i=(r=t==null?void 0:t.applyLocally)!==null&&r!==void 0?r:!0,s=new wt,o=(c,u,l)=>{let h=null;c?s.reject(c):(h=new ti(l,new Nt(n._repo,n._path),de),s.resolve(new xw(u,h)))},a=vm(n,()=>{});return JW(n._repo,n._path,e,o,a,i),s.promise}qn.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)};qn.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)};u4();var h4="@firebase/database-compat",d4="0.3.4";var f4=new mt("@firebase/database-compat"),QP=function(n){let e="FIREBASE WARNING: "+n;f4.warn(e)};var p4=function(n,e,t,r){if(!(r&&t===void 0)&&typeof t!="boolean")throw new Error(es(n,e)+"must be a boolean.")},m4=function(n,e,t){if(!(t&&e===void 0))switch(e){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(es(n,"eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}};var l0=class{constructor(e){this._delegate=e}cancel(e){M("OnDisconnect.cancel",0,1,arguments.length),Je("OnDisconnect.cancel","onComplete",e,!0);let t=this._delegate.cancel();return e&&t.then(()=>e(null),r=>e(r)),t}remove(e){M("OnDisconnect.remove",0,1,arguments.length),Je("OnDisconnect.remove","onComplete",e,!0);let t=this._delegate.remove();return e&&t.then(()=>e(null),r=>e(r)),t}set(e,t){M("OnDisconnect.set",1,2,arguments.length),Je("OnDisconnect.set","onComplete",t,!0);let r=this._delegate.set(e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){M("OnDisconnect.setWithPriority",2,3,arguments.length),Je("OnDisconnect.setWithPriority","onComplete",r,!0);let i=this._delegate.setWithPriority(e,t);return r&&i.then(()=>r(null),s=>r(s)),i}update(e,t){if(M("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,QP("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Je("OnDisconnect.update","onComplete",t,!0);let r=this._delegate.update(e);return t&&r.then(()=>t(null),i=>t(i)),r}};var h0=class{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return M("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}};var vr=class{constructor(e,t){this._database=e,this._delegate=t}val(){return M("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return M("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return M("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return M("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return M("DataSnapshot.child",0,1,arguments.length),e=String(e),Rc("DataSnapshot.child","path",e,!1),new vr(this._database,this._delegate.child(e))}hasChild(e){return M("DataSnapshot.hasChild",1,1,arguments.length),Rc("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return M("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return M("DataSnapshot.forEach",1,1,arguments.length),Je("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new vr(this._database,t)))}hasChildren(){return M("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return M("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return M("DataSnapshot.ref",0,0,arguments.length),new kt(this._database,this._delegate.ref)}get ref(){return this.getRef()}},Xe=class{constructor(e,t){this.database=e,this._delegate=t}on(e,t,r,i){var s;M("Query.on",2,4,arguments.length),Je("Query.on","callback",t,!1);let o=Xe.getCancelAndContextArgs_("Query.on",r,i),a=(u,l)=>{t.call(o.context,new vr(this.database,u),l)};a.userCallback=t,a.context=o.context;let c=(s=o.cancel)===null||s===void 0?void 0:s.bind(o.context);switch(e){case"value":return vm(this._delegate,a,c),t;case"child_added":return i0(this._delegate,a,c),t;case"child_removed":return a0(this._delegate,a,c),t;case"child_changed":return s0(this._delegate,a,c),t;case"child_moved":return o0(this._delegate,a,c),t;default:throw new Error(es("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,r){if(M("Query.off",0,3,arguments.length),m4("Query.off",e,!0),Je("Query.off","callback",t,!0),EI("Query.off","context",r,!0),t){let i=()=>{};i.userCallback=t,i.context=r,c0(this._delegate,e,i)}else c0(this._delegate,e)}get(){return RP(this._delegate).then(e=>new vr(this.database,e))}once(e,t,r,i){M("Query.once",1,4,arguments.length),Je("Query.once","callback",t,!0);let s=Xe.getCancelAndContextArgs_("Query.once",r,i),o=new dc,a=(u,l)=>{let h=new vr(this.database,u);t&&t.call(s.context,h,l),o.resolve(h)};a.userCallback=t,a.context=s.context;let c=u=>{s.cancel&&s.cancel.call(s.context,u),o.reject(u)};switch(e){case"value":vm(this._delegate,a,c,{onlyOnce:!0});break;case"child_added":i0(this._delegate,a,c,{onlyOnce:!0});break;case"child_removed":a0(this._delegate,a,c,{onlyOnce:!0});break;case"child_changed":s0(this._delegate,a,c,{onlyOnce:!0});break;case"child_moved":o0(this._delegate,a,c,{onlyOnce:!0});break;default:throw new Error(es("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return M("Query.limitToFirst",1,1,arguments.length),new Xe(this.database,vn(this._delegate,kP(e)))}limitToLast(e){return M("Query.limitToLast",1,1,arguments.length),new Xe(this.database,vn(this._delegate,PP(e)))}orderByChild(e){return M("Query.orderByChild",1,1,arguments.length),new Xe(this.database,vn(this._delegate,MP(e)))}orderByKey(){return M("Query.orderByKey",0,0,arguments.length),new Xe(this.database,vn(this._delegate,BP()))}orderByPriority(){return M("Query.orderByPriority",0,0,arguments.length),new Xe(this.database,vn(this._delegate,LP()))}orderByValue(){return M("Query.orderByValue",0,0,arguments.length),new Xe(this.database,vn(this._delegate,UP()))}startAt(e=null,t){return M("Query.startAt",0,2,arguments.length),new Xe(this.database,vn(this._delegate,OP(e,t)))}startAfter(e=null,t){return M("Query.startAfter",0,2,arguments.length),new Xe(this.database,vn(this._delegate,NP(e,t)))}endAt(e=null,t){return M("Query.endAt",0,2,arguments.length),new Xe(this.database,vn(this._delegate,xP(e,t)))}endBefore(e=null,t){return M("Query.endBefore",0,2,arguments.length),new Xe(this.database,vn(this._delegate,DP(e,t)))}equalTo(e,t){return M("Query.equalTo",1,2,arguments.length),new Xe(this.database,vn(this._delegate,FP(e,t)))}toString(){return M("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return M("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if(M("Query.isEqual",1,1,arguments.length),!(e instanceof Xe)){let t="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(t)}return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,r){let i={cancel:void 0,context:void 0};if(t&&r)i.cancel=t,Je(e,"cancel",i.cancel,!0),i.context=r,EI(e,"context",i.context,!0);else if(t)if(typeof t=="object"&&t!==null)i.context=t;else if(typeof t=="function")i.cancel=t;else throw new Error(es(e,"cancelOrContext")+" must either be a cancel callback or a context object.");return i}get ref(){return new kt(this.database,new Nt(this._delegate._repo,this._delegate._path))}},kt=class extends Xe{constructor(e,t){super(e,new ht(t._repo,t._path,new Bo,!1)),this.database=e,this._delegate=t}getKey(){return M("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return M("Reference.child",1,1,arguments.length),typeof e=="number"&&(e=String(e)),new kt(this.database,fs(this._delegate,e))}getParent(){M("Reference.parent",0,0,arguments.length);let e=this._delegate.parent;return e?new kt(this.database,e):null}getRoot(){return M("Reference.root",0,0,arguments.length),new kt(this.database,this._delegate.root)}set(e,t){M("Reference.set",1,2,arguments.length),Je("Reference.set","onComplete",t,!0);let r=ym(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}update(e,t){if(M("Reference.update",1,2,arguments.length),Array.isArray(e)){let i={};for(let s=0;s<e.length;++s)i[""+s]=e[s];e=i,QP("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}on("Reference.update",this._delegate._path),Je("Reference.update","onComplete",t,!0);let r=AP(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}setWithPriority(e,t,r){M("Reference.setWithPriority",2,3,arguments.length),Je("Reference.setWithPriority","onComplete",r,!0);let i=CP(this._delegate,e,t);return r&&i.then(()=>r(null),s=>r(s)),i}remove(e){M("Reference.remove",0,1,arguments.length),Je("Reference.remove","onComplete",e,!0);let t=TP(this._delegate);return e&&t.then(()=>e(null),r=>e(r)),t}transaction(e,t,r){M("Reference.transaction",1,3,arguments.length),Je("Reference.transaction","transactionUpdate",e,!1),Je("Reference.transaction","onComplete",t,!0),p4("Reference.transaction","applyLocally",r,!0);let i=YP(this._delegate,e,{applyLocally:r}).then(s=>new h0(s.committed,new vr(this.database,s.snapshot)));return t&&i.then(s=>t(null,s.committed,s.snapshot),s=>t(s,!1,null)),i}setPriority(e,t){M("Reference.setPriority",1,2,arguments.length),Je("Reference.setPriority","onComplete",t,!0);let r=SP(this._delegate,e);return t&&r.then(()=>t(null),i=>t(i)),r}push(e,t){M("Reference.push",0,2,arguments.length),Je("Reference.push","onComplete",t,!0);let r=wP(this._delegate,e),i=r.then(o=>new kt(this.database,o));t&&i.then(()=>t(null),o=>t(o));let s=new kt(this.database,r);return s.then=i.then.bind(i),s.catch=i.catch.bind(i,void 0),s}onDisconnect(){return on("Reference.onDisconnect",this._delegate._path),new l0(new Zp(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}};var zo=class{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:VP,forceLongPolling:jP}}useEmulator(e,t,r={}){zP(this._delegate,e,t,r)}ref(e){if(M("database.ref",0,1,arguments.length),e instanceof kt){let t=r0(this._delegate,e.toString());return new kt(this,t)}else{let t=n0(this._delegate,e);return new kt(this,t)}}refFromURL(e){M("database.refFromURL",1,1,arguments.length);let r=r0(this._delegate,e);return new kt(this,r)}goOffline(){return M("database.goOffline",0,0,arguments.length),$P(this._delegate)}goOnline(){return M("database.goOnline",0,0,arguments.length),GP(this._delegate)}};zo.ServerValue={TIMESTAMP:HP(),increment:n=>KP(n)};function g4({app:n,url:e,version:t,customAuthImpl:r,namespace:i,nodeAdmin:s=!1}){Ow(t);let o=new Vl("auth-internal",new Rp("database-standalone"));return o.setComponent(new ql("auth-internal",()=>r,"PRIVATE")),{instance:new zo(u0(n,o,void 0,e,s),n),namespace:i}}var _4=Object.freeze({__proto__:null,initStandalone:g4});var y4=zo.ServerValue;function v4(n){n.INTERNAL.registerComponent(new ql("database-compat",(e,{instanceIdentifier:t})=>{let r=e.getProvider("app-compat").getImmediate(),i=e.getProvider("database").getImmediate({identifier:t});return new zo(i,r)},"PUBLIC").setServiceProps({Reference:kt,Query:Xe,Database:zo,DataSnapshot:vr,enableLogging:WP,INTERNAL:_4,ServerValue:y4}).setMultipleInstances(!0)),n.registerVersion(h4,d4)}v4(se);f();f();f();var fre=4*60*60*1e3;function d0(n){return n&&n._delegate?n._delegate:n}f();var Em=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var E4="@firebase/firestore-compat",b4="0.3.5";function g0(n,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new b("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function JP(){if(typeof Uint8Array>"u")throw new b("unimplemented","Uint8Arrays are not available in this environment.")}function XP(){if(!lA())throw new b("unimplemented","Blobs are unavailable in Firestore in this environment.")}var Go=class{constructor(e){this._delegate=e}static fromBase64String(e){return XP(),new Go(Zt.fromBase64String(e))}static fromUint8Array(e){return JP(),new Go(Zt.fromUint8Array(e))}toBase64(){return XP(),this._delegate.toBase64()}toUint8Array(){return JP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};function f0(n){return I4(n,["next","error","complete"])}function I4(n,e){if(typeof n!="object"||n===null)return!1;let t=n;for(let r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}var p0=class{enableIndexedDbPersistence(e,t){return kR(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return PR(e._delegate)}clearIndexedDbPersistence(e){return BR(e._delegate)}},bm=class{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof In||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){let t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Ls("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},t),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,t,r={}){xR(this._delegate,e,t,r)}enableNetwork(){return UR(this._delegate)}disableNetwork(){return FR(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,Iv("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return LR(this._delegate)}onSnapshotsInSync(e){return mx(this._delegate,e)}get app(){if(!this._appCompat)throw new b("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ms(this,wv(this._delegate,e))}catch(t){throw Pt(t,"collection()","Firestore.collection()")}}doc(e){try{return new Qt(this,Xu(this._delegate,e))}catch(t){throw Pt(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new dt(this,DR(this._delegate,e))}catch(t){throw Pt(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return gx(this._delegate,t=>e(new Im(this,t)))}batch(){return We(this._delegate),new wm(new df(this._delegate,e=>Va(this._delegate,e)))}loadBundle(e){return qR(this._delegate,e)}namedQuery(e){return VR(this._delegate,e).then(t=>t?new dt(this,t):null)}},Dc=class extends Pa{constructor(e){super(),this.firestore=e}convertBytes(e){return new Go(new Zt(e))}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return Qt.forKey(t,this.firestore,null)}};function w4(n){nA(n)}var Im=class{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Dc(e)}get(e){let t=$o(e);return this._delegate.get(t).then(r=>new Wo(this._firestore,new dn(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){let i=$o(e);return r?(g0("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let s=$o(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){let t=$o(e);return this._delegate.delete(t),this}},wm=class{constructor(e){this._delegate=e}set(e,t,r){let i=$o(e);return r?(g0("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){let s=$o(e);return arguments.length===2?this._delegate.update(s,t):this._delegate.update(s,t,r,...i),this}delete(e){let t=$o(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}},ri=class{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){let r=new _i(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Ho(this._firestore,r),t!=null?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){let r=ri.INSTANCES,i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(t);return s||(s=new ri(e,new Dc(e),t),i.set(t,s)),s}};ri.INSTANCES=new WeakMap;var Qt=class{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Dc(e)}static forPath(e,t,r){if(e.length%2!==0)throw new b("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Qt(t,new oe(t._delegate,r,new S(e)))}static forKey(e,t,r){return new Qt(t,new oe(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new ms(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ms(this.firestore,wv(this._delegate,e))}catch(t){throw Pt(t,"collection()","DocumentReference.collection()")}}isEqual(e){return e=d0(e),e instanceof oe?Tv(this._delegate,e):!1}set(e,t){t=g0("DocumentReference.set",t);try{return t?Ov(this._delegate,e,t):Ov(this._delegate,e)}catch(r){throw Pt(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return arguments.length===1?Nv(this._delegate,e):Nv(this._delegate,e,t,...r)}catch(i){throw Pt(i,"updateDoc()","DocumentReference.update()")}}delete(){return fx(this._delegate)}onSnapshot(...e){let t=ZP(e),r=e1(e,i=>new Wo(this.firestore,new dn(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return kv(this._delegate,t,r)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=cx(this._delegate):(e==null?void 0:e.source)==="server"?t=ux(this._delegate):t=ax(this._delegate),t.then(r=>new Wo(this.firestore,new dn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Qt(this.firestore,e?this._delegate.withConverter(ri.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function Pt(n,e,t){return n.message=n.message.replace(e,t),n}function ZP(n){for(let e of n)if(typeof e=="object"&&!f0(e))return e;return{}}function e1(n,e){var t,r;let i;return f0(n[0])?i=n[0]:f0(n[1])?i=n[1]:typeof n[0]=="function"?i={next:n[0],error:n[1],complete:n[2]}:i={next:n[1],error:n[2],complete:n[3]},{next:s=>{i.next&&i.next(e(s))},error:(t=i.error)===null||t===void 0?void 0:t.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}var Wo=class{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Qt(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return Dv(this._delegate,e._delegate)}},Ho=class extends Wo{data(e){let t=this._delegate.data(e);return rA(t!==void 0,"Document in a QueryDocumentSnapshot should exist"),t}},dt=class{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Dc(e)}where(e,t,r){try{return new dt(this.firestore,Mr(this._delegate,QR(e,t,r)))}catch(i){throw Pt(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new dt(this.firestore,Mr(this._delegate,JR(e,t)))}catch(r){throw Pt(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new dt(this.firestore,Mr(this._delegate,XR(e)))}catch(t){throw Pt(t,"limit()","Query.limit()")}}limitToLast(e){try{return new dt(this.firestore,Mr(this._delegate,ZR(e)))}catch(t){throw Pt(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new dt(this.firestore,Mr(this._delegate,ex(...e)))}catch(t){throw Pt(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new dt(this.firestore,Mr(this._delegate,tx(...e)))}catch(t){throw Pt(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new dt(this.firestore,Mr(this._delegate,nx(...e)))}catch(t){throw Pt(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new dt(this.firestore,Mr(this._delegate,rx(...e)))}catch(t){throw Pt(t,"endAt()","Query.endAt()")}}isEqual(e){return Sv(this._delegate,e._delegate)}get(e){let t;return(e==null?void 0:e.source)==="cache"?t=hx(this._delegate):(e==null?void 0:e.source)==="server"?t=dx(this._delegate):t=lx(this._delegate),t.then(r=>new bh(this.firestore,new Cn(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){let t=ZP(e),r=e1(e,i=>new bh(this.firestore,new Cn(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return kv(this._delegate,t,r)}withConverter(e){return new dt(this.firestore,e?this._delegate.withConverter(ri.getInstance(this.firestore,e)):this._delegate.withConverter(null))}},m0=class{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new Ho(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}},bh=class{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new dt(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Ho(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new m0(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new Ho(this._firestore,r))})}isEqual(e){return Dv(this._delegate,e._delegate)}},ms=class extends dt{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){let e=this._delegate.parent;return e?new Qt(this.firestore,e):null}doc(e){try{return e===void 0?new Qt(this.firestore,Xu(this._delegate)):new Qt(this.firestore,Xu(this._delegate,e))}catch(t){throw Pt(t,"doc()","CollectionReference.doc()")}}add(e){return px(this._delegate,e).then(t=>new Qt(this.firestore,t))}isEqual(e){return Tv(this._delegate,e._delegate)}withConverter(e){return new ms(this.firestore,e?this._delegate.withConverter(ri.getInstance(this.firestore,e)):this._delegate.withConverter(null))}};function $o(n){return X(n,oe)}var Ih=class{constructor(...e){this._delegate=new Sn(...e)}static documentId(){return new Ih(ge.keyField().canonicalString())}isEqual(e){return e=d0(e),e instanceof Sn?this._delegate._internalPath.isEqual(e._internalPath):!1}};var ni=class{constructor(e){this._delegate=e}static serverTimestamp(){let e=yx();return e._methodName="FieldValue.serverTimestamp",new ni(e)}static delete(){let e=_x();return e._methodName="FieldValue.delete",new ni(e)}static arrayUnion(...e){let t=vx(...e);return t._methodName="FieldValue.arrayUnion",new ni(t)}static arrayRemove(...e){let t=Ex(...e);return t._methodName="FieldValue.arrayRemove",new ni(t)}static increment(e){let t=bx(e);return t._methodName="FieldValue.increment",new ni(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}};var T4={Firestore:bm,GeoPoint:Ys,Timestamp:ue,Blob:Go,Transaction:Im,WriteBatch:wm,DocumentReference:Qt,DocumentSnapshot:Wo,Query:dt,QueryDocumentSnapshot:Ho,QuerySnapshot:bh,CollectionReference:ms,FieldPath:Ih,FieldValue:ni,setLogLevel:w4,CACHE_SIZE_UNLIMITED:OR};function S4(n,e){n.INTERNAL.registerComponent(new Em("firestore-compat",t=>{let r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},T4)))}function C4(n){S4(n,(e,t)=>new bm(e,t,new p0)),n.registerVersion(E4,b4)}C4(se);f();f();f();f();var n1=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},A4=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],a=n[t++],c=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},r1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0,l=s>>2,h=(s&3)<<4|a>>4,d=(a&15)<<2|u>>6,p=u&63;c||(p=64,o||(d=64)),r.push(t[l],t[h],t[d],t[p])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(n1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):A4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new _0;let d=s<<2|a>>4;if(r.push(d),u!==64){let p=a<<4&240|u>>2;if(r.push(p),h!==64){let m=u<<6&192|h;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},_0=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},R4=function(n){let e=n1(n);return r1.encodeByteArray(e,!0)},t1=function(n){return R4(n).replace(/\./g,"")},x4=function(n){try{return r1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function D4(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("Unable to locate global object.")}var O4=()=>D4().__FIREBASE_DEFAULTS__,N4=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},k4=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(t){return}let e=n&&x4(n[1]);return e&&JSON.parse(e)},P4=()=>{try{return O4()||N4()||k4()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}};function i1(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n),a="";return[t1(JSON.stringify(t)),t1(JSON.stringify(o)),a].join(".")}function s1(){var n;let e=(n=P4())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(window.process)==="[object process]"}catch(t){return!1}}var M4="FirebaseError",Ko=class extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=M4,Object.setPrototypeOf(this,Ko.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,y0.prototype.create)}},y0=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?B4(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ko(i,a,r)}};function B4(n,e){return n.replace(L4,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var L4=/\{\$([^}]+)}/g;var Rre=4*60*60*1e3;function ii(n){return n&&n._delegate?n._delegate:n}f();var Tm=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var p1="firebasestorage.googleapis.com",m1="storageBucket",U4=2*60*1e3,F4=10*60*1e3,q4=1e3;var fe=class extends Ko{constructor(e,t,r=0){super(v0(e),`Firebase Storage: ${t} (${v0(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,fe.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return v0(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},pe;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(pe||(pe={}));function v0(n){return"storage/"+n}function A0(){let n="An unknown error occurred, please check the error payload for server response.";return new fe(pe.UNKNOWN,n)}function V4(n){return new fe(pe.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function j4(n){return new fe(pe.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function z4(){let n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new fe(pe.UNAUTHENTICATED,n)}function $4(){return new fe(pe.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function G4(n){return new fe(pe.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function g1(){return new fe(pe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _1(){return new fe(pe.CANCELED,"User canceled the upload/download.")}function W4(n){return new fe(pe.INVALID_URL,"Invalid URL '"+n+"'.")}function H4(n){return new fe(pe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function K4(){return new fe(pe.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+m1+"' property when initializing the app?")}function y1(){return new fe(pe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Y4(){return new fe(pe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function Q4(){return new fe(pe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function J4(n){return new fe(pe.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qo(n){return new fe(pe.INVALID_ARGUMENT,n)}function v1(){return new fe(pe.APP_DELETED,"The Firebase app was deleted.")}function R0(n){return new fe(pe.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Th(n,e){return new fe(pe.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function wh(n){throw new fe(pe.INTERNAL_ERROR,"Internal error: "+n)}var Ze=class{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=Ze.makeFromUrl(e,t)}catch(i){return new Ze(e,"")}if(r.path==="")return r;throw H4(e)}static makeFromUrl(e,t){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(L){L.path.charAt(L.path.length-1)==="/"&&(L.path_=L.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),c={bucket:1,path:3};function u(L){L.path_=decodeURIComponent(L.path)}let l="v[A-Za-z0-9_]+",h=t.replace(/[.]/g,"\\."),d="(/([^?#]*).*)?$",p=new RegExp(`^https?://${h}/${l}/b/${i}/o${d}`,"i"),m={bucket:1,path:3},_=t===p1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,E="([^?#]*)",N=new RegExp(`^https?://${_}/${i}/${E}`,"i"),A=[{regex:a,indices:c,postModify:s},{regex:p,indices:m,postModify:u},{regex:N,indices:{bucket:1,path:2},postModify:u}];for(let L=0;L<A.length;L++){let $=A[L],K=$.regex.exec(e);if(K){let Ne=K[$.indices.bucket],pt=K[$.indices.path];pt||(pt=""),r=new Ze(Ne,pt),$.postModify(r);break}}if(r==null)throw W4(e);return r}},b0=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function X4(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function c(){return a===2}let u=!1;function l(...E){u||(u=!0,e.apply(null,E))}function h(E){i=setTimeout(()=>{i=null,n(p,c())},E)}function d(){s&&clearTimeout(s)}function p(E,...N){if(u){d();return}if(E){d(),l.call(null,E,...N);return}if(c()||o){d(),l.call(null,E,...N);return}r<64&&(r*=2);let A;a===1?(a=2,A=0):A=(r+Math.random())*1e3,h(A)}let m=!1;function _(E){m||(m=!0,d(),!u&&(i!==null?(E||(a=2),clearTimeout(i),h(0)):E||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,_(!0)},t),_}function Z4(n){n(!1)}function e3(n){return n!==void 0}function t3(n){return typeof n=="function"}function n3(n){return typeof n=="object"&&!Array.isArray(n)}function Am(n){return typeof n=="string"||n instanceof String}function o1(n){return x0()&&n instanceof Blob}function x0(){return typeof Blob<"u"&&!s1()}function I0(n,e,t,r){if(r<e)throw Qo(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw Qo(`Invalid value for '${n}'. Expected ${t} or less.`)}function gs(n,e,t){let r=e;return t==null&&(r=`https://${e}`),`${t}://${r}/v0${n}`}function E1(n){let e=encodeURIComponent,t="?";for(let r in n)if(n.hasOwnProperty(r)){let i=e(r)+"="+e(n[r]);t=t+i+"&"}return t=t.slice(0,-1),t}var Yo;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Yo||(Yo={}));function b1(n,e){let t=n>=500&&n<600,i=[408,429].indexOf(n)!==-1,s=e.indexOf(n)!==-1;return t||i||s}var w0=class{constructor(e,t,r,i,s,o,a,c,u,l,h,d=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=l,this.connectionFactory_=h,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Nc(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let c=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(c,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===Yo.NO_ERROR,c=s.getStatus();if(!a||b1(c,this.additionalRetryCodes_)&&this.retry){let l=s.getErrorCode()===Yo.ABORT;r(!1,new Nc(!1,null,l));return}let u=this.successCodes_.indexOf(c)!==-1;r(!0,new Nc(u,s))})},t=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let c=this.callback_(a,a.getResponse());e3(c)?s(c):s()}catch(c){o(c)}else if(a!==null){let c=A0();c.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,c)):o(c)}else if(i.canceled){let c=this.appDelete_?v1():_1();o(c)}else{let c=g1();o(c)}};this.canceled_?t(!1,new Nc(!1,null,!0)):this.backoffId_=X4(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Z4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Nc=class{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}};function r3(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function i3(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e!=null?e:"AppManager")}function s3(n,e){e&&(n["X-Firebase-GMPID"]=e)}function o3(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function a3(n,e,t,r,i,s,o=!0){let a=E1(n.urlParams),c=n.url+a,u=Object.assign({},n.headers);return s3(u,e),r3(u,t),i3(u,s),o3(u,r),new w0(c,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}function c3(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function u3(...n){let e=c3();if(e!==void 0){let t=new e;for(let r=0;r<n.length;r++)t.append(n[r]);return t.getBlob()}else{if(x0())return new Blob(n);throw new fe(pe.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function l3(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}function h3(n){if(typeof atob>"u")throw J4("base-64");return atob(n)}var ln={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},Sh=class{constructor(e,t){this.data=e,this.contentType=t||null}};function D0(n,e){switch(n){case ln.RAW:return new Sh(I1(e));case ln.BASE64:case ln.BASE64URL:return new Sh(w1(n,e));case ln.DATA_URL:return new Sh(f3(e),p3(e))}throw A0()}function I1(n){let e=[];for(let t=0;t<n.length;t++){let r=n.charCodeAt(t);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=n.charCodeAt(++t);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function d3(n){let e;try{e=decodeURIComponent(n)}catch(t){throw Th(ln.DATA_URL,"Malformed data URL.")}return I1(e)}function w1(n,e){switch(n){case ln.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Th(n,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ln.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Th(n,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=h3(e)}catch(i){throw i.message.includes("polyfill")?i:Th(n,"Invalid character found")}let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}var Cm=class{constructor(e){this.base64=!1,this.contentType=null;let t=e.match(/^data:([^,]+)?,/);if(t===null)throw Th(ln.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=t[1]||null;r!=null&&(this.base64=m3(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function f3(n){let e=new Cm(n);return e.base64?w1(ln.BASE64,e.rest):d3(e.rest)}function p3(n){return new Cm(n).contentType}function m3(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}var En=class{constructor(e,t){let r=0,i="";o1(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,t){if(o1(this.data_)){let r=this.data_,i=l3(r,e,t);return i===null?null:new En(i)}else{let r=new Uint8Array(this.data_.buffer,e,t-e);return new En(r,!0)}}static getBlob(...e){if(x0()){let t=e.map(r=>r instanceof En?r.data_:r);return new En(u3.apply(null,t))}else{let t=e.map(o=>Am(o)?D0(ln.RAW,o).data:o.data_),r=0;t.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return t.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new En(i,!0)}}uploadData(){return this.data_}};function O0(n){let e;try{e=JSON.parse(n)}catch(t){return null}return n3(e)?e:null}function g3(n){if(n.length===0)return null;let e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function _3(n,e){let t=e.split("/").filter(r=>r.length>0).join("/");return n.length===0?t:n+"/"+t}function T1(n){let e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}function y3(n,e){return e}var ft=class{constructor(e,t,r,i){this.server=e,this.local=t||e,this.writable=!!r,this.xform=i||y3}},Sm=null;function v3(n){return!Am(n)||n.length<2?n:T1(n)}function Rm(){if(Sm)return Sm;let n=[];n.push(new ft("bucket")),n.push(new ft("generation")),n.push(new ft("metageneration")),n.push(new ft("name","fullPath",!0));function e(s,o){return v3(o)}let t=new ft("name");t.xform=e,n.push(t);function r(s,o){return o!==void 0?Number(o):o}let i=new ft("size");return i.xform=r,n.push(i),n.push(new ft("timeCreated")),n.push(new ft("updated")),n.push(new ft("md5Hash",null,!0)),n.push(new ft("cacheControl",null,!0)),n.push(new ft("contentDisposition",null,!0)),n.push(new ft("contentEncoding",null,!0)),n.push(new ft("contentLanguage",null,!0)),n.push(new ft("contentType",null,!0)),n.push(new ft("metadata","customMetadata",!0)),Sm=n,Sm}function E3(n,e){function t(){let r=n.bucket,i=n.fullPath,s=new Ze(r,i);return e._makeStorageReference(s)}Object.defineProperty(n,"ref",{get:t})}function b3(n,e,t){let r={};r.type="file";let i=t.length;for(let s=0;s<i;s++){let o=t[s];r[o.local]=o.xform(r,e[o.server])}return E3(r,n),r}function S1(n,e,t){let r=O0(e);return r===null?null:b3(n,r,t)}function I3(n,e,t,r){let i=O0(e);if(i===null||!Am(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(u=>{let l=n.bucket,h=n.fullPath,d="/b/"+o(l)+"/o/"+o(h),p=gs(d,t,r),m=E1({alt:"media",token:u});return p+m})[0]}function N0(n,e){let t={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(t[s.server]=n[s.local])}return JSON.stringify(t)}var a1="prefixes",c1="items";function w3(n,e,t){let r={prefixes:[],items:[],nextPageToken:t.nextPageToken};if(t[a1])for(let i of t[a1]){let s=i.replace(/\/$/,""),o=n._makeStorageReference(new Ze(e,s));r.prefixes.push(o)}if(t[c1])for(let i of t[c1]){let s=n._makeStorageReference(new Ze(e,i.name));r.items.push(s)}return r}function T3(n,e,t){let r=O0(t);return r===null?null:w3(n,e,r)}var Vn=class{constructor(e,t,r,i){this.url=e,this.method=t,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function br(n){if(!n)throw A0()}function xm(n,e){function t(r,i){let s=S1(n,i,e);return br(s!==null),s}return t}function S3(n,e){function t(r,i){let s=T3(n,e,i);return br(s!==null),s}return t}function C3(n,e){function t(r,i){let s=S1(n,i,e);return br(s!==null),I3(s,i,n.host,n._protocol)}return t}function Pc(n){function e(t,r){let i;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?i=$4():i=z4():t.getStatus()===402?i=j4(n.bucket):t.getStatus()===403?i=G4(n.path):i=r,i.status=t.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Dm(n){let e=Pc(n);function t(r,i){let s=e(r,i);return r.getStatus()===404&&(s=V4(n.path)),s.serverResponse=i.serverResponse,s}return t}function C1(n,e,t){let r=e.fullServerUrl(),i=gs(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new Vn(i,s,xm(n,t),o);return a.errorHandler=Dm(e),a}function A3(n,e,t,r,i){let s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",t&&t.length>0&&(s.delimiter=t),r&&(s.pageToken=r),i&&(s.maxResults=i);let o=e.bucketOnlyServerUrl(),a=gs(o,n.host,n._protocol),c="GET",u=n.maxOperationRetryTime,l=new Vn(a,c,S3(n,e.bucket),u);return l.urlParams=s,l.errorHandler=Pc(e),l}function R3(n,e,t){let r=e.fullServerUrl(),i=gs(r,n.host,n._protocol),s="GET",o=n.maxOperationRetryTime,a=new Vn(i,s,C3(n,t),o);return a.errorHandler=Dm(e),a}function x3(n,e,t,r){let i=e.fullServerUrl(),s=gs(i,n.host,n._protocol),o="PATCH",a=N0(t,r),c={"Content-Type":"application/json; charset=utf-8"},u=n.maxOperationRetryTime,l=new Vn(s,o,xm(n,r),u);return l.headers=c,l.body=a,l.errorHandler=Dm(e),l}function D3(n,e){let t=e.fullServerUrl(),r=gs(t,n.host,n._protocol),i="DELETE",s=n.maxOperationRetryTime;function o(c,u){}let a=new Vn(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=Dm(e),a}function O3(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function A1(n,e,t){let r=Object.assign({},t);return r.fullPath=n.path,r.size=e.size(),r.contentType||(r.contentType=O3(null,e)),r}function N3(n,e,t,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let A="";for(let L=0;L<2;L++)A=A+Math.random().toString().slice(2);return A}let c=a();o["Content-Type"]="multipart/related; boundary="+c;let u=A1(e,r,i),l=N0(u,t),h="--"+c+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+l+`\r
--`+c+`\r
Content-Type: `+u.contentType+`\r
\r
`,d=`\r
--`+c+"--",p=En.getBlob(h,r,d);if(p===null)throw y1();let m={name:u.fullPath},_=gs(s,n.host,n._protocol),E="POST",N=n.maxUploadRetryTime,B=new Vn(_,E,xm(n,t),N);return B.urlParams=m,B.headers=o,B.body=p.uploadData(),B.errorHandler=Pc(e),B}var kc=class{constructor(e,t,r,i){this.current=e,this.total=t,this.finalized=!!r,this.metadata=i||null}};function k0(n,e){let t=null;try{t=n.getResponseHeader("X-Goog-Upload-Status")}catch(i){br(!1)}return br(!!t&&(e||["active"]).indexOf(t)!==-1),t}function k3(n,e,t,r,i){let s=e.bucketOnlyServerUrl(),o=A1(e,r,i),a={name:o.fullPath},c=gs(s,n.host,n._protocol),u="POST",l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=N0(o,t),d=n.maxUploadRetryTime;function p(_){k0(_);let E;try{E=_.getResponseHeader("X-Goog-Upload-URL")}catch(N){br(!1)}return br(Am(E)),E}let m=new Vn(c,u,p,d);return m.urlParams=a,m.headers=l,m.body=h,m.errorHandler=Pc(e),m}function P3(n,e,t,r){let i={"X-Goog-Upload-Command":"query"};function s(u){let l=k0(u,["active","final"]),h=null;try{h=u.getResponseHeader("X-Goog-Upload-Size-Received")}catch(p){br(!1)}h||br(!1);let d=Number(h);return br(!isNaN(d)),new kc(d,r.size(),l==="final")}let o="POST",a=n.maxUploadRetryTime,c=new Vn(t,o,s,a);return c.headers=i,c.errorHandler=Pc(e),c}var u1=256*1024;function M3(n,e,t,r,i,s,o,a){let c=new kc(0,0);if(o?(c.current=o.current,c.total=o.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw Y4();let u=c.total-c.current,l=u;i>0&&(l=Math.min(l,i));let h=c.current,d=h+l,p="";l===0?p="finalize":u===l?p="upload, finalize":p="upload";let m={"X-Goog-Upload-Command":p,"X-Goog-Upload-Offset":`${c.current}`},_=r.slice(h,d);if(_===null)throw y1();function E(L,$){let K=k0(L,["active","final"]),Ne=c.current+l,pt=r.size(),Es;return K==="final"?Es=xm(e,s)(L,$):Es=null,new kc(Ne,pt,K==="final",Es)}let N="POST",B=e.maxUploadRetryTime,A=new Vn(t,N,E,B);return A.headers=m,A.body=_.uploadData(),A.progressCallback=a||null,A.errorHandler=Pc(n),A}var R1={STATE_CHANGED:"state_changed"},Ct={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function E0(n){switch(n){case"running":case"pausing":case"canceling":return Ct.RUNNING;case"paused":return Ct.PAUSED;case"success":return Ct.SUCCESS;case"canceled":return Ct.CANCELED;case"error":return Ct.ERROR;default:return Ct.ERROR}}var T0=class{constructor(e,t,r){if(t3(e)||t!=null||r!=null)this.next=e,this.error=t!=null?t:void 0,this.complete=r!=null?r:void 0;else{let s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}};function Oc(n){return(...e)=>{Promise.resolve().then(()=>n(...e))}}var l1=null,S0=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Yo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Yo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Yo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,r,i){if(this.sent_)throw wh("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wh("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wh("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw wh("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wh("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},C0=class extends S0{initXhr(){this.xhr_.responseType="text"}};function Er(){return l1?l1():new C0}var Ch=class{constructor(e,t,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=r,this._mappings=Rm(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(pe.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{let s=this.isExponentialBackoffExpired();if(b1(i.status,[]))if(s)i=g1();else{this.sleepTime=Math.max(this.sleepTime*2,q4),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(pe.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}_makeProgressCallback(){let e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,r])=>{switch(this._state){case"running":e(t,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,t)=>{let r=k3(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Er,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){let e=this._uploadUrl;this._resolveToken((t,r)=>{let i=P3(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,Er,t,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){let e=u1*this._chunkMultiplier,t=new kc(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=M3(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(c){this._error=c,this._transition("error");return}let a=this._ref.storage._makeRequest(o,Er,i,s,!1);this._request=a,a.getPromise().then(c=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(c.current),c.finalized?(this._metadata=c.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){u1*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{let r=C1(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,Er,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{let r=N3(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,Er,e,t);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){let t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":let t=this._state==="paused";this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=_1(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){let e=E0(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,r,i){let s=new T0(t||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){let t=this._observers.indexOf(e);t!==-1&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(t=>{this._notifyObserver(t)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(E0(this._state)){case Ct.SUCCESS:Oc(this._resolve.bind(null,this.snapshot))();break;case Ct.CANCELED:case Ct.ERROR:let t=this._reject;Oc(t.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(E0(this._state)){case Ct.RUNNING:case Ct.PAUSED:e.next&&Oc(e.next.bind(e,this.snapshot))();break;case Ct.SUCCESS:e.complete&&Oc(e.complete.bind(e))();break;case Ct.CANCELED:case Ct.ERROR:e.error&&Oc(e.error.bind(e,this._error))();break;default:e.error&&Oc(e.error.bind(e,this._error))()}}resume(){let e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){let e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){let e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}};var si=class{constructor(e,t){this._service=e,t instanceof Ze?this._location=t:this._location=Ze.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new si(e,t)}get root(){let e=new Ze(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return T1(this._location.path)}get storage(){return this._service}get parent(){let e=g3(this._location.path);if(e===null)return null;let t=new Ze(this._location.bucket,e);return new si(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw R0(e)}};function B3(n,e,t){return n._throwIfRoot("uploadBytesResumable"),new Ch(n,new En(e),t)}function L3(n){let e={prefixes:[],items:[]};return x1(n,e).then(()=>e)}async function x1(n,e,t){let i=await D1(n,{pageToken:t});e.prefixes.push(...i.prefixes),e.items.push(...i.items),i.nextPageToken!=null&&await x1(n,e,i.nextPageToken)}function D1(n,e){e!=null&&typeof e.maxResults=="number"&&I0("options.maxResults",1,1e3,e.maxResults);let t=e||{},r=A3(n.storage,n._location,"/",t.pageToken,t.maxResults);return n.storage.makeRequestWithTokens(r,Er)}function U3(n){n._throwIfRoot("getMetadata");let e=C1(n.storage,n._location,Rm());return n.storage.makeRequestWithTokens(e,Er)}function F3(n,e){n._throwIfRoot("updateMetadata");let t=x3(n.storage,n._location,e,Rm());return n.storage.makeRequestWithTokens(t,Er)}function q3(n){n._throwIfRoot("getDownloadURL");let e=R3(n.storage,n._location,Rm());return n.storage.makeRequestWithTokens(e,Er).then(t=>{if(t===null)throw Q4();return t})}function V3(n){n._throwIfRoot("deleteObject");let e=D3(n.storage,n._location);return n.storage.makeRequestWithTokens(e,Er)}function O1(n,e){let t=_3(n._location.path,e),r=new Ze(n._location.bucket,t);return new si(n.storage,r)}function j3(n){return/^[A-Za-z]+:\/\//.test(n)}function z3(n,e){return new si(n,e)}function N1(n,e){if(n instanceof Ah){let t=n;if(t._bucket==null)throw K4();let r=new si(t,t._bucket);return e!=null?N1(r,e):r}else return e!==void 0?O1(n,e):n}function $3(n,e){if(e&&j3(e)){if(n instanceof Ah)return z3(n,e);throw Qo("To use ref(service, url), the first argument must be a Storage instance.")}else return N1(n,e)}function h1(n,e){let t=e==null?void 0:e[m1];return t==null?null:Ze.makeFromBucketSpec(t,n)}function G3(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";let{mockUserToken:i}=r;i&&(n._overrideAuthToken=typeof i=="string"?i:i1(i,n.app.options.projectId))}var Ah=class{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=p1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=U4,this._maxUploadRetryTime=F4,this._requests=new Set,i!=null?this._bucket=Ze.makeFromBucketSpec(i,this._host):this._bucket=h1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Ze.makeFromBucketSpec(this._url,e):this._bucket=h1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){I0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){I0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new si(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new b0(v1());{let o=a3(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,t){let[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,r,i).getPromise()}},d1="@firebase/storage",f1="0.11.2";var W3="storage";function k1(n,e,t){return n=ii(n),B3(n,e,t)}function P1(n){return n=ii(n),U3(n)}function M1(n,e){return n=ii(n),F3(n,e)}function B1(n,e){return n=ii(n),D1(n,e)}function L1(n){return n=ii(n),L3(n)}function U1(n){return n=ii(n),q3(n)}function F1(n){return n=ii(n),V3(n)}function P0(n,e){return n=ii(n),$3(n,e)}function q1(n,e){return O1(n,e)}function V1(n,e,t,r={}){G3(n,e,t,r)}function H3(n,{instanceIdentifier:e}){let t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new Ah(t,r,i,e,Mt)}function K3(){Ie(new Tm(W3,H3,"PUBLIC").setMultipleInstances(!0)),ie(d1,f1,""),ie(d1,f1,"esm2017")}K3();f();f();var Vre=4*60*60*1e3;var Om=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Mc=class{constructor(e,t,r){this._delegate=e,this.task=t,this.ref=r}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}};var Nm=class{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new Mc(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(r=>{if(e)return e(new Mc(r,this,this._ref))},t)}on(e,t,r,i){let s;return t&&(typeof t=="function"?s=o=>t(new Mc(o,this,this._ref)):s={next:t.next?o=>t.next(new Mc(o,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,s,r||void 0,i||void 0)}},km=class{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new jn(e,this._service))}get items(){return this._delegate.items.map(e=>new jn(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}};var jn=class{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){let t=q1(this._delegate,e);return new jn(t,this.storage)}get root(){return new jn(this._delegate.root,this.storage)}get parent(){let e=this._delegate.parent;return e==null?null:new jn(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new Nm(k1(this._delegate,e,t),this)}putString(e,t=ln.RAW,r){this._throwIfRoot("putString");let i=D0(t,e),s=Object.assign({},r);return s.contentType==null&&i.contentType!=null&&(s.contentType=i.contentType),new Nm(new Ch(this._delegate,new En(i.data,!0),s),this)}listAll(){return L1(this._delegate).then(e=>new km(e,this.storage))}list(e){return B1(this._delegate,e||void 0).then(t=>new km(t,this.storage))}getMetadata(){return P1(this._delegate)}updateMetadata(e){return M1(this._delegate,e)}getDownloadURL(){return U1(this._delegate)}delete(){return this._throwIfRoot("delete"),F1(this._delegate)}_throwIfRoot(e){if(this._delegate._location.path==="")throw R0(e)}};var Pm=class{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(j1(e))throw Qo("ref() expected a child path but got a URL, use refFromURL instead.");return new jn(P0(this._delegate,e),this)}refFromURL(e){if(!j1(e))throw Qo("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Ze.makeFromUrl(e,this._delegate.host)}catch(t){throw Qo("refFromUrl() expected a valid full URL but got an invalid one.")}return new jn(P0(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,r={}){V1(this._delegate,e,t,r)}};function j1(n){return/^[A-Za-z]+:\/\//.test(n)}var Y3="@firebase/storage-compat",Q3="0.3.2";var J3="storage-compat";function X3(n,{instanceIdentifier:e}){let t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("storage").getImmediate({identifier:e});return new Pm(t,r)}function Z3(n){let e={TaskState:Ct,TaskEvent:R1,StringFormat:ln,Storage:Pm,Reference:jn};n.INTERNAL.registerComponent(new Om(J3,X3,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),n.registerVersion(Y3,Q3)}Z3(se);f();f();f();f();var eH="FirebaseError",Jo=class extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=eH,Object.setPrototypeOf(this,Jo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,M0.prototype.create)}},M0=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?tH(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Jo(i,a,r)}};function tH(n,e){return n.replace(nH,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var nH=/\{\$([^}]+)}/g;var tie=4*60*60*1e3;function Mm(n){return n&&n._delegate?n._delegate:n}f();var Bm=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var rH="type.googleapis.com/google.protobuf.Int64Value",iH="type.googleapis.com/google.protobuf.UInt64Value";function H1(n,e){let t={};for(let r in n)n.hasOwnProperty(r)&&(t[r]=e(n[r]));return t}function B0(n){if(n==null)return null;if(n instanceof Number&&(n=n.valueOf()),typeof n=="number"&&isFinite(n)||n===!0||n===!1||Object.prototype.toString.call(n)==="[object String]")return n;if(n instanceof Date)return n.toISOString();if(Array.isArray(n))return n.map(e=>B0(e));if(typeof n=="function"||typeof n=="object")return H1(n,e=>B0(e));throw new Error("Data cannot be encoded in JSON: "+n)}function Lm(n){if(n==null)return n;if(n["@type"])switch(n["@type"]){case rH:case iH:{let e=Number(n.value);if(isNaN(e))throw new Error("Data cannot be decoded from JSON: "+n);return e}default:throw new Error("Data cannot be decoded from JSON: "+n)}return Array.isArray(n)?n.map(e=>Lm(e)):typeof n=="function"||typeof n=="object"?H1(n,e=>Lm(e)):n}var K1="functions";var z1={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},_s=class extends Jo{constructor(e,t,r){super(`${K1}/${e}`,t||""),this.details=r}};function sH(n){if(n>=200&&n<300)return"ok";switch(n){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function oH(n,e){let t=sH(n),r=t,i;try{let s=e&&e.error;if(s){let o=s.status;if(typeof o=="string"){if(!z1[o])return new _s("internal","internal");t=z1[o],r=o}let a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=Lm(i))}}catch(s){}return t==="ok"?null:new _s(t,r,i)}var L0=class{constructor(e,t,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=e.getImmediate({optional:!0}),this.messaging=t.getImmediate({optional:!0}),this.auth||e.get().then(i=>this.auth=i,()=>{}),this.messaging||t.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{let e=await this.auth.getToken();return e==null?void 0:e.accessToken}catch(e){return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch(e){return}}async getAppCheckToken(){if(this.appCheck){let e=await this.appCheck.getToken();return e.error?null:e.token}return null}async getContext(){let e=await this.getAuthToken(),t=await this.getMessagingToken(),r=await this.getAppCheckToken();return{authToken:e,messagingToken:t,appCheckToken:r}}};var $1="us-central1";function aH(n){let e=null;return{promise:new Promise((t,r)=>{e=setTimeout(()=>{r(new _s("deadline-exceeded","deadline-exceeded"))},n)}),cancel:()=>{e&&clearTimeout(e)}}}var U0=class{constructor(e,t,r,i,s=$1,o){this.app=e,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new L0(t,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{let a=new URL(s);this.customDomain=a.origin,this.region=$1}catch(a){this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(e){let t=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${t}/${this.region}/${e}`:this.customDomain!==null?`${this.customDomain}/${e}`:`https://${this.region}-${t}.cloudfunctions.net/${e}`}};function cH(n,e,t){n.emulatorOrigin=`http://${e}:${t}`}function uH(n,e,t){return r=>dH(n,e,r,t||{})}function lH(n,e,t){return r=>Y1(n,e,r,t||{})}async function hH(n,e,t,r){t["Content-Type"]="application/json";let i;try{i=await r(n,{method:"POST",body:JSON.stringify(e),headers:t})}catch(o){return{status:0,json:null}}let s=null;try{s=await i.json()}catch(o){}return{status:i.status,json:s}}function dH(n,e,t,r){let i=n._url(e);return Y1(n,i,t,r)}async function Y1(n,e,t,r){t=B0(t);let i={data:t},s={},o=await n.contextProvider.getContext();o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);let a=r.timeout||7e4,c=aH(a),u=await Promise.race([hH(e,i,s,n.fetchImpl),c.promise,n.cancelAllRequests]);if(c.cancel(),!u)throw new _s("cancelled","Firebase Functions instance was deleted.");let l=oH(u.status,u.json);if(l)throw l;if(!u.json)throw new _s("internal","Response is not valid JSON object.");let h=u.json.data;if(typeof h>"u"&&(h=u.json.result),typeof h>"u")throw new _s("internal","Response is missing data field.");return{data:Lm(h)}}var G1="@firebase/functions",W1="0.9.4";var fH="auth-internal",pH="app-check-internal",mH="messaging-internal";function gH(n,e){let t=(r,{instanceIdentifier:i})=>{let s=r.getProvider("app").getImmediate(),o=r.getProvider(fH),a=r.getProvider(mH),c=r.getProvider(pH);return new U0(s,o,a,c,i,n)};Ie(new Bm(K1,t,"PUBLIC").setMultipleInstances(!0)),ie(G1,W1,e),ie(G1,W1,"esm2017")}function F0(n,e,t){cH(Mm(n),e,t)}function Q1(n,e,t){return uH(Mm(n),e,t)}function J1(n,e,t){return lH(Mm(n),e,t)}gH(fetch.bind(self));f();var _H="FirebaseError",ys=class extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=_H,Object.setPrototypeOf(this,ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,q0.prototype.create)}},q0=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?yH(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ys(i,a,r)}};function yH(n,e){return n.replace(vH,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var vH=/\{\$([^}]+)}/g;var pie=4*60*60*1e3;f();var Um=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var EH="@firebase/functions-compat",bH="0.3.4";var Fm=class{constructor(e,t){this.app=e,this._delegate=t,this._region=this._delegate.region,this._customDomain=this._delegate.customDomain}httpsCallable(e,t){return Q1(this._delegate,e,t)}httpsCallableFromURL(e,t){return J1(this._delegate,e,t)}useFunctionsEmulator(e){let t=e.match("[a-zA-Z]+://([a-zA-Z0-9.-]+)(?::([0-9]+))?");if(t==null)throw new ys("functions","No origin provided to useFunctionsEmulator()");if(t[2]==null)throw new ys("functions","Port missing in origin provided to useFunctionsEmulator()");return F0(this._delegate,t[1],Number(t[2]))}useEmulator(e,t){return F0(this._delegate,e,t)}};var IH="us-central1",wH=(n,{instanceIdentifier:e})=>{let t=n.getProvider("app-compat").getImmediate(),r=n.getProvider("functions").getImmediate({identifier:e!=null?e:IH});return new Fm(t,r)};function TH(){let n={Functions:Fm};se.INTERNAL.registerComponent(new Um("functions-compat",wH,"PUBLIC").setServiceProps(n).setMultipleInstances(!0))}TH();se.registerVersion(EH,bH);f();var xie=Xo("emulators");function X1(n){return!1}var Rh=se.initializeApp(dg.firebase);Rh.firestore().settings({experimentalAutoDetectLongPolling:!0,ignoreUndefinedProperties:!0,merge:!0});X1(Rh);function V0(){return Rh.firestore()}function Vie(){return Rh.storage()}function jie(n){return Rh.database(n?`https://${n}.firebaseio.com`:void 0)}function zie(){let{currentUser:n}=se.auth();return n==null?void 0:n.uid}function vs(n,e=t=>JSON.stringify(t)){if(typeof n=="string")return n;if(!n)return"";if(n instanceof se.firestore.Query){let t=n._delegate._query,r=t.path.toString();return t.filters&&t.filters.forEach(i=>{r+=`#filter.${i.field.toString()}${i.op}${e(i.value)}`}),t.explicitOrderBy&&t.explicitOrderBy.forEach(i=>{r+=`#orderBy.${i.field.toString()}=${i.dir}`}),t.collectionGroup&&(r+=`#collectionGroup=${t.collectionGroup}`),typeof t.limit=="number"&&(r+=`#limit=${t.limit}`),t.limitType&&(r+=`#limitType=${t.limitType}`),t.startAt&&(r+=`#startAt=${e(t.startAt.position)}${t.startAt.before}`),t.endAt&&(r+=`#endAt=${e(t.endAt.position)}${t.endAt.before}`),r}return n.path}f();f();function j0(n){let e=n&&n.code&&n.code.toString().toLowerCase()||"",t=n&&n.message&&n.message.toLowerCase()||"";return e==="permission-denied"||e==="permission_denied"||t.indexOf("permission_denied")>=0||t.indexOf("permission denied")>=0}async function Yie(n,e){try{return await n()}catch(t){if(j0(t))return e||null;throw t}}var SH=Xo("firestore.debug");function $0(){let n=V0().batch(),e=[],t=[],r={listenToDocument:i=>{t.push(i)},set:(...i)=>(n.set(...i),e.push({type:"set",path:i[0].path,data:i[1]}),t.forEach(s=>{s(i[0],i[1])}),r),update:(...i)=>(n.update(...i),e.push(...Z1(...i)),r),delete:(...i)=>(n.delete(...i),e.push({type:"delete",path:i[0].path}),r),commit:async(...i)=>{try{return await n.commit(...i)}catch(s){throw W0(s,e.map(({path:o})=>o),{attachments:[{name:"operations.json",type:"application/json",body:JSON.stringify(e)}]})}finally{e=[]}}};return r}function ise(n){let e=new $i("firestore.runTransaction"),t=[],r=[];return e.wrap(async()=>{try{return await V0().runTransaction(i=>{let s={listenToDocument:o=>{r.push(o)},get:(...o)=>(t.push({type:"get",path:o[0].path}),i.get(...o)),set:(...o)=>(i.set(...o),t.push({type:"set",path:o[0].path,data:o[1]}),r.forEach(a=>{a(o[0],o[1])}),s),update:(...o)=>(i.update(...o),t.push(...Z1(...o)),s),delete:(...o)=>(i.delete(...o),t.push({type:"delete",path:o[0].path}),s)};return n(s)})}catch(i){throw W0(i,t.map(({path:s})=>s),{attachments:[{name:"operations.json",type:"application/json",body:JSON.stringify(t)}]})}finally{t=[]}})}async function G0(n){try{return await n.get()}catch(e){throw W0(e,[n])}}function CH(n){let[e,...t]=n.split("#"),r=e.split("/"),i="";for(let s=0;s<r.length;s=s+1){let o=s%2===0?r[s]:"<doc>";i+=`${i.length?"/":""}${o}`}return t.length>0?`${i}#${t.join("#")}`:i}function Z1(...n){let e=[];if(typeof n[1]=="string"||n[1]instanceof se.firestore.FieldPath){let t={};for(let r=1;r<n.length;r=r+2){let i=n[r],s=n[r+1];t[i]=s}e.push({type:"update",path:n[0].path,data:t})}else e.push({type:"update",path:n[0].path,data:n[1]});return e}function W0(n,e,t={}){if(!j0(n)||n.isCustomPermissionDeniedError)return n;let r=e.map(a=>CH(AH(a))).reduce((a,c)=>(a.set(c,(a.get(c)||0)+1),a),new Map),i=Array.from(r.entries()).map(([a,c])=>c>1?`${a}(${c})`:a).sort(),s=`${i.join(", ")}${jc==="test"?`:

${n.message}`:""}`,o=["firestore",`firestore-paths:${i.join(",")}`];return SH.error(`Firestore operation failed for ${s}`),new z0(s,{...t,fingerprint:o})}function AH(n){return vs(n,()=>"V")}var z0=class extends lo{constructor(t,r){super(`Missing or insufficient permissions for ${t}`,r);this.isCustomPermissionDeniedError=!0;this.code="permission-denied"}};var xh=class extends lo{constructor(e,t){let r=t==null?void 0:t.fingerprint,i="Document not found";r||(r=[`document-not-found:${RH(e)}`],i+=` ${e}`),super(i,{...t,fingerprint:r})}};function RH(n){let[e,...t]=n;return(e==="/"?t.join(""):n).split("/").filter((i,s)=>s%2===0).join("/")}async function eM(n,e){let t=await n.get(e);return t.exists?t.data():null}async function pse(n,e){let t=await n.get(e);if(!t.exists)throw new xh(e.path);return t.data()}function H0(n,e=null){let t=new $i("firestore.getDocument");return t.label("Path",vs(n)),t.wrap(async()=>{let r=await G0(n);return r.exists?r.data():e})}async function tM(n){let e=new $i("firestore.getCollection");return e.label("Path",vs(n)),e.wrap(async()=>(await G0(n)).docs.map(r=>r.data()))}async function mse(n){let e=await H0(n);if(!e)throw new xh(n.path);return e}function gse(n){let e=new $i("firestore.commitBatch");e.start();let t=$0(),r=n(t);return r instanceof Promise?r.then(i=>t.commit().then(()=>(e.resolve(),i))).catch(i=>{throw e.reject(i),i}):t.commit().then(()=>(e.resolve(),r),i=>{throw e.reject(i),i})}function _se(n){let e=$0(),t=n(e),r=e.commit();return[t,r]}f();var xH=(a=>(a.SpaceViewsRead="space:views:read",a.SpaceContentRead="space:content:read",a.SpaceContentWrite="space:content:write",a.SpaceMetadataRead="space:metadata:read",a.SpaceMetadataWrite="space:metadata:write",a.SpaceScriptInject="space:script:inject",a.SpaceScriptCookies="space:script:cookies",a))(xH||{});var DH=(s=>(s.Analytics="analytics",s.Collaboration="collaboration",s.Marketing="marketing",s.Content="content",s.Other="other",s))(DH||{});var OH=(i=>(i.IntegrationRead="integration:read",i.IntegrationUpdate="integration:update",i.IntegrationInstallationRead="integration:installation:read",i.IntegrationInstallationUpdate="integration:installation:update",i))(OH||{});var K0=class{constructor(e={}){this.baseUrl="{host}/v1";this.securityData=null;this.abortControllers=new Map;this.customFetch=(...e)=>fetch(...e);this.baseApiParams={credentials:"same-origin",headers:{},redirect:"follow",referrerPolicy:"no-referrer"};this.setSecurityData=e=>{this.securityData=e};this.contentFormatters={["application/json"]:e=>e!==null&&(typeof e=="object"||typeof e=="string")?JSON.stringify(e):e,["multipart/form-data"]:e=>Object.keys(e||{}).reduce((t,r)=>{let i=e[r];return i instanceof Blob?t.append(r,i):typeof i=="object"&&i!==null?t.append(r,JSON.stringify(i)):t.append(r,`${i}`),t},new FormData),["application/x-www-form-urlencoded"]:e=>this.toQueryString(e)};this.createAbortSignal=e=>{if(this.abortControllers.has(e)){let r=this.abortControllers.get(e);return r?r.signal:void 0}let t=new AbortController;return this.abortControllers.set(e,t),t.signal};this.abortRequest=e=>{let t=this.abortControllers.get(e);t&&(t.abort(),this.abortControllers.delete(e))};this.request=async({body:e,secure:t,path:r,type:i,query:s,format:o,baseUrl:a,cancelToken:c,...u})=>{let l=(typeof t=="boolean"?t:this.baseApiParams.secure)&&this.securityWorker&&await this.securityWorker(this.securityData)||{},h=this.mergeRequestParams(u,l),d=s&&this.toQueryString(s),p=this.contentFormatters[i||"application/json"],m=o||h.format;return this.customFetch(`${a||this.baseUrl||""}${r}${d?`?${d}`:""}`,{...h,headers:{...i&&i!=="multipart/form-data"?{"Content-Type":i}:{},...h.headers||{}},signal:c?this.createAbortSignal(c):void 0,body:typeof e>"u"||e===null?null:p(e)}).then(async _=>{var B;let E=_;E.data=null,E.error=null;let N=m?await _[m]().then(A=>(E.ok?E.data=A:E.error=A,E)).catch(A=>(E.error=A,E)):E;if(c&&this.abortControllers.delete(c),!_.ok){let{error:A={code:_.status||422,message:_.statusText||"Unknown error"}}=(B=N.error)!=null?B:{};throw aT.fromStatusCode(A.code,A.message)}return N})};Object.assign(this,e)}encodeQueryParam(e,t){return`${encodeURIComponent(e)}=${encodeURIComponent(typeof t=="number"?t:`${t}`)}`}addQueryParam(e,t){return this.encodeQueryParam(t,e[t])}addArrayQueryParam(e,t){return e[t].map(i=>this.encodeQueryParam(t,i)).join("&")}toQueryString(e){let t=e||{};return Object.keys(t).filter(i=>typeof t[i]<"u").map(i=>Array.isArray(t[i])?this.addArrayQueryParam(t,i):this.addQueryParam(t,i)).join("&")}addQueryParams(e){let t=this.toQueryString(e);return t?`?${t}`:""}mergeRequestParams(e,t){return{...this.baseApiParams,...e,...t||{},headers:{...this.baseApiParams.headers||{},...e.headers||{},...t&&t.headers||{}}}}},qm=class extends K0{constructor(){super(...arguments);this.api={getApiInformation:(t={})=>this.request({path:"/",method:"GET",secure:!0,format:"json",...t})};this.search={searchContent:(t,r={})=>this.request({path:"/search",method:"GET",query:t,secure:!0,format:"json",...r}),askQueryWithGet:(t,r={})=>this.request({path:"/search/ask",method:"GET",query:t,secure:!0,format:"json",...r}),askQuery:(t,r={})=>this.request({path:"/search/ask",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...r}),getRecommendedQuestions:(t,r={})=>this.request({path:"/search/questions",method:"POST",body:t,secure:!0,type:"application/json",format:"json",...r})};this.users={getAuthenticatedUser:(t={})=>this.request({path:"/user",method:"GET",secure:!0,format:"json",...t}),listSpacesForAuthenticatedUser:(t,r={})=>this.request({path:"/user/spaces",method:"GET",query:t,secure:!0,format:"json",...r}),getUserById:(t,r={})=>this.request({path:`/users/${t}`,method:"GET",secure:!0,format:"json",...r})};this.spaces={getSpaceById:(t,r={})=>this.request({path:`/spaces/${t}`,method:"GET",secure:!0,format:"json",...r}),updateSpaceById:(t,r,i={})=>this.request({path:`/spaces/${t}`,method:"PATCH",body:r,secure:!0,type:"application/json",format:"json",...i}),searchSpaceContent:(t,r,i={})=>this.request({path:`/spaces/${t}/search`,method:"GET",query:r,secure:!0,format:"json",...i}),askQueryInSpaceWithGet:(t,r,i={})=>this.request({path:`/spaces/${t}/search/ask`,method:"GET",query:r,secure:!0,format:"json",...i}),askQueryInSpace:(t,r,i={})=>this.request({path:`/spaces/${t}/search/ask`,method:"POST",body:r,secure:!0,type:"application/json",format:"json",...i}),getRecommendedQuestionsInSpace:(t,r={})=>this.request({path:`/spaces/${t}/search/questions`,method:"GET",secure:!0,format:"json",...r}),importGitRepository:(t,r,i={})=>this.request({path:`/spaces/${t}/git/import`,method:"POST",body:r,secure:!0,type:"application/json",...i}),exportToGitRepository:(t,r,i={})=>this.request({path:`/spaces/${t}/git/export`,method:"POST",body:r,secure:!0,type:"application/json",...i}),getCurrentRevision:(t,r={})=>this.request({path:`/spaces/${t}/content`,method:"GET",secure:!0,format:"json",...r}),importContent:(t,r,i={})=>this.request({path:`/spaces/${t}/content/import`,method:"POST",body:r,secure:!0,type:"application/json",format:"json",...i}),listFiles:(t,r,i={})=>this.request({path:`/spaces/${t}/content/files`,method:"GET",query:r,secure:!0,...i}),getPageById:(t,r,i,s={})=>this.request({path:`/spaces/${t}/content/page/${r}`,method:"GET",query:i,secure:!0,format:"json",...s}),importContentInPageById:(t,r,i,s={})=>this.request({path:`/spaces/${t}/content/page/${r}/import`,method:"POST",body:i,secure:!0,type:"application/json",format:"json",...s}),getPageByPath:(t,r,i,s={})=>this.request({path:`/spaces/${t}/content/path/${r}`,method:"GET",query:i,secure:!0,format:"json",...s}),createChangeRequest:(t,r,i={})=>this.request({path:`/spaces/${t}/change-requests`,method:"POST",body:r,secure:!0,type:"application/json",format:"json",...i}),mergeChangeRequest:(t,r,i={})=>this.request({path:`/spaces/${t}/change-requests/${r}/merge`,method:"POST",secure:!0,format:"json",...i}),updateChangeRequest:(t,r,i={})=>this.request({path:`/spaces/${t}/change-requests/${r}/update`,method:"POST",secure:!0,format:"json",...i}),getRevisionOfChangeRequestById:(t,r,i={})=>this.request({path:`/spaces/${t}/change-requests/${r}/content`,method:"GET",secure:!0,format:"json",...i}),importContentInChangeRequest:(t,r,i,s={})=>this.request({path:`/spaces/${t}/change-requests/${r}/content/import`,method:"POST",body:i,secure:!0,type:"application/json",format:"json",...s}),listFilesInChangeRequestById:(t,r,i,s={})=>this.request({path:`/spaces/${t}/change-requests/${r}/content/files`,method:"GET",query:i,secure:!0,...s}),getPageInChangeRequestById:(t,r,i,s,o={})=>this.request({path:`/spaces/${t}/change-requests/${r}/content/page/${i}`,method:"GET",query:s,secure:!0,format:"json",...o}),importContentInChangeRequestPageById:(t,r,i,s,o={})=>this.request({path:`/spaces/${t}/change-requests/${r}/content/page/${i}/import`,method:"POST",body:s,secure:!0,type:"application/json",format:"json",...o}),getPageInChangeRequestByPath:(t,r,i,s,o={})=>this.request({path:`/spaces/${t}/change-requests/${r}/content/path/${i}`,method:"GET",query:s,secure:!0,format:"json",...o}),getRevisionById:(t,r,i={})=>this.request({path:`/spaces/${t}/revisions/${r}`,method:"GET",secure:!0,format:"json",...i}),listFilesInRevisionById:(t,r,i,s={})=>this.request({path:`/spaces/${t}/revisions/${r}/files`,method:"GET",query:i,secure:!0,...s}),getPageInRevisionById:(t,r,i,s,o={})=>this.request({path:`/spaces/${t}/revisions/${r}/page/${i}`,method:"GET",query:s,secure:!0,format:"json",...o}),getPageInRevisionByPath:(t,r,i,s,o={})=>this.request({path:`/spaces/${t}/revisions/${r}/path/${i}`,method:"GET",query:s,secure:!0,format:"json",...o})};this.backoffice={reindexSpaceContentSearch:(t,r={})=>this.request({path:`/spaces/${t}/search`,method:"PUT",secure:!0,...r}),purgeCloudflareCdnCache:(t,r={})=>this.request({path:"/backoffice/cdn-cache/purge",method:"POST",body:t,secure:!0,type:"application/json",...r}),getCustomDomainInfo:(t,r={})=>this.request({path:`/backoffice/custom-domains/${t}`,method:"GET",secure:!0,format:"json",...r}),createCloudflareHostname:(t,r={})=>this.request({path:`/backoffice/custom-domains/${t}/cloudflare`,method:"PUT",secure:!0,...r}),restartCloudflareHostnameValidation:(t,r={})=>this.request({path:`/backoffice/custom-domains/${t}/cloudflare`,method:"PATCH",secure:!0,...r}),getCurrentBackOfficeStaffInfo:(t={})=>this.request({path:"/backoffice/staff/me",method:"GET",secure:!0,format:"json",...t}),getUserBackOfficeInfo:(t,r={})=>this.request({path:`/backoffice/users/${t}`,method:"GET",secure:!0,format:"json",...r}),blockUser:(t,r,i={})=>this.request({path:`/backoffice/users/${t}/block`,method:"PATCH",body:r,secure:!0,type:"application/json",format:"json",...i}),impersonateUser:(t,r={})=>this.request({path:`/backoffice/users/${t}/impersonate`,method:"POST",secure:!0,format:"json",...r}),markUserAsVerified:(t,r={})=>this.request({path:`/backoffice/users/${t}/verify`,method:"POST",secure:!0,format:"json",...r})};this.hive={getHiveAccessTokenForSpace:(t,r={})=>this.request({path:`/spaces/${t}/hive/token`,method:"GET",secure:!0,format:"json",...r})};this.analytics={getContentAnalyticsForSpaceById:(t,r={})=>this.request({path:`/spaces/${t}/insights/content`,method:"GET",secure:!0,format:"json",...r}),getSearchAnalyticsForSpaceById:(t,r,i={})=>this.request({path:`/spaces/${t}/insights/search`,method:"GET",query:r,secure:!0,format:"json",...i}),getTrafficAnalyticsForSpaceById:(t,r,i={})=>this.request({path:`/spaces/${t}/insights/traffic`,method:"GET",query:r,secure:!0,format:"json",...i}),trackViewInSpaceById:(t,r,i={})=>this.request({path:`/spaces/${t}/insights/track_view`,method:"POST",body:r,secure:!0,type:"application/json",...i})};this.permissions={listPermissionsAggregateInSpace:(t,r,i={})=>this.request({path:`/spaces/${t}/permissions/aggregate`,method:"GET",query:r,secure:!0,format:"json",...i}),listPermissionsAggregateInCollection:(t,r,i={})=>this.request({path:`/collections/${t}/permissions/aggregate`,method:"GET",query:r,secure:!0,format:"json",...i}),listSpacesForOrganizationMember:(t,r,i,s={})=>this.request({path:`/orgs/${t}/members/${r}/spaces`,method:"GET",query:i,secure:!0,format:"json",...s})};this.collections={getCollectionById:(t,r={})=>this.request({path:`/collections/${t}`,method:"GET",secure:!0,format:"json",...r}),updateCollectionById:(t,r,i={})=>this.request({path:`/collections/${t}`,method:"PATCH",body:r,secure:!0,type:"application/json",format:"json",...i}),listSpacesInCollectionById:(t,r,i={})=>this.request({path:`/collections/${t}/spaces`,method:"GET",query:r,secure:!0,format:"json",...i})};this.integrations={listIntegrations:(t,r={})=>this.request({path:"/integrations",method:"GET",query:t,secure:!0,format:"json",...r}),getIntegrationByName:(t,r={})=>this.request({path:`/integrations/${t}`,method:"GET",secure:!0,format:"json",...r}),publishIntegration:(t,r,i={})=>this.request({path:`/integrations/${t}`,method:"POST",body:r,secure:!0,type:"application/json",format:"json",...i}),unpublishIntegration:(t,r={})=>this.request({path:`/integrations/${t}`,method:"DELETE",secure:!0,...r}),listIntegrationInstallations:(t,r,i={})=>this.request({path:`/integrations/${t}/installations`,method:"GET",query:r,secure:!0,format:"json",...i}),listIntegrationEvents:(t,r,i={})=>this.request({path:`/integrations/${t}/events`,method:"GET",query:r,secure:!0,format:"json",...i}),getIntegrationEvent:(t,r,i={})=>this.request({path:`/integrations/${t}/events/${r}`,method:"GET",secure:!0,format:"json",...i}),listIntegrationSpaceInstallations:(t,r,i={})=>this.request({path:`/integrations/${t}/spaces`,method:"GET",query:r,secure:!0,format:"json",...i}),updateIntegrationDevSpace:(t,r,i,s={})=>this.request({path:`/integrations/${t}/spaces/${r}/dev`,method:"PUT",body:i,secure:!0,type:"application/json",...s}),removeIntegrationDevSpace:(t,r,i={})=>this.request({path:`/integrations/${t}/spaces/${r}/dev`,method:"DELETE",secure:!0,...i}),renderIntegrationUiWithGet:(t,r,i={})=>this.request({path:`/integrations/${t}/render`,method:"GET",query:r,secure:!0,format:"json",...i}),renderIntegrationUiWithPost:(t,r,i={})=>this.request({path:`/integrations/${t}/render`,method:"POST",body:r,secure:!0,type:"application/json",format:"json",...i}),updateIntegrationInstallation:(t,r,i,s={})=>this.request({path:`/integrations/${t}/installations/${r}`,method:"PATCH",body:i,secure:!0,type:"application/json",format:"json",...s}),createIntegrationInstallationToken:(t,r,i={})=>this.request({path:`/integrations/${t}/installations/${r}/tokens`,method:"POST",secure:!0,format:"json",...i}),updateIntegrationSpaceInstallation:(t,r,i,s,o={})=>this.request({path:`/integrations/${t}/installations/${r}/spaces/${i}`,method:"PATCH",body:s,secure:!0,type:"application/json",format:"json",...o})};this.organizations={listOrganizationsForAuthenticatedUser:(t,r={})=>this.request({path:"/orgs",method:"GET",query:t,secure:!0,format:"json",...r}),listMembersInOrganizationById:(t,r,i={})=>this.request({path:`/orgs/${t}/members`,method:"GET",query:r,secure:!0,format:"json",...i}),getMemberInOrganizationById:(t,r,i={})=>this.request({path:`/orgs/${t}/members/${r}`,method:"GET",secure:!0,format:"json",...i}),updateMemberInOrganizationById:(t,r,i,s={})=>this.request({path:`/orgs/${t}/members/${r}`,method:"PATCH",body:i,secure:!0,type:"application/json",format:"json",...s}),removeMemberFromOrganizationById:(t,r,i={})=>this.request({path:`/orgs/${t}/members/${r}`,method:"DELETE",secure:!0,...i}),setUserAsSsoMemberForOrganization:(t,r,i={})=>this.request({path:`/orgs/${t}/members/${r}/sso`,method:"POST",secure:!0,...i}),listTeamsInOrganizationById:(t,r,i={})=>this.request({path:`/orgs/${t}/teams`,method:"GET",query:r,secure:!0,format:"json",...i}),createOrganizationTeam:(t,r,i={})=>this.request({path:`/orgs/${t}/teams`,method:"PUT",body:r,secure:!0,type:"application/json",format:"json",...i}),getTeamInOrganizationById:(t,r,i={})=>this.request({path:`/orgs/${t}/teams/${r}`,method:"GET",secure:!0,format:"json",...i}),updateTeamInOrganizationById:(t,r,i,s={})=>this.request({path:`/orgs/${t}/teams/${r}`,method:"PATCH",body:i,secure:!0,type:"application/json",format:"json",...s}),removeTeamFromOrganizationById:(t,r,i={})=>this.request({path:`/orgs/${t}/teams/${r}`,method:"DELETE",secure:!0,...i}),updateMembersInOrganizationTeam:(t,r,i,s={})=>this.request({path:`/orgs/${t}/teams/${r}/members`,method:"PUT",body:i,secure:!0,type:"application/json",...s}),listTeamMembersInOrganizationById:(t,r,i,s={})=>this.request({path:`/orgs/${t}/teams/${r}/members`,method:"GET",query:i,secure:!0,format:"json",...s}),addMemberToOrganizationTeamById:(t,r,i,s={})=>this.request({path:`/orgs/${t}/teams/${r}/members/${i}`,method:"PUT",secure:!0,...s}),deleteMemberFromOrganizationTeamById:(t,r,i,s={})=>this.request({path:`/orgs/${t}/teams/${r}/members/${i}`,method:"DELETE",secure:!0,...s}),inviteUsersToOrganization:(t,r,i={})=>this.request({path:`/orgs/${t}/invites`,method:"POST",body:r,secure:!0,type:"application/json",format:"json",...i}),joinOrganizationWithInvite:(t,r,i={})=>this.request({path:`/orgs/${t}/invites/${r}`,method:"POST",secure:!0,format:"json",...i}),upgradeOrganizationPlan:(t,r,i={})=>this.request({path:`/orgs/${t}/billing`,method:"POST",body:r,secure:!0,type:"application/json",format:"json",...i}),getOrganizationBillingPortal:(t,r={})=>this.request({path:`/orgs/${t}/billing`,method:"GET",secure:!0,format:"json",...r}),requestOrganizationUpgrade:(t,r={})=>this.request({path:`/orgs/${t}/request_upgrade`,method:"POST",secure:!0,format:"json",...r}),transferOrganization:(t,r,i={})=>this.request({path:`/orgs/${t}/transfer`,method:"POST",body:r,secure:!0,type:"application/json",format:"json",...i}),searchOrganizationContent:(t,r,i={})=>this.request({path:`/orgs/${t}/search`,method:"GET",query:r,secure:!0,format:"json",...i}),listSpacesInOrganizationById:(t,r,i={})=>this.request({path:`/orgs/${t}/spaces`,method:"GET",query:r,secure:!0,format:"json",...i}),listCollectionsInOrganizationById:(t,r,i={})=>this.request({path:`/orgs/${t}/collections`,method:"GET",query:r,secure:!0,format:"json",...i}),setupDirectorySync:(t,r={})=>this.request({path:`/orgs/${t}/dsync`,method:"POST",secure:!0,format:"json",...r}),listDirectorySyncGroups:(t,r={})=>this.request({path:`/orgs/${t}/dsync/groups`,method:"GET",secure:!0,format:"json",...r}),syncDirectorySyncGroupsToTeams:(t,r,i={})=>this.request({path:`/orgs/${t}/dsync/teams`,method:"POST",body:r,secure:!0,type:"application/json",format:"json",...i})};this.internal={signInWithEmailLink:(t,r={})=>this.request({path:"/internal/signin/email-link",method:"POST",body:t,secure:!0,type:"application/json",...r}),searchUnsplashImages:(t,r={})=>this.request({path:"/internal/unsplash/images",method:"GET",query:t,secure:!0,format:"json",...r}),trackDownloadUnplashImage:(t,r={})=>this.request({path:"/internal/unsplash/track_download",method:"POST",body:t,secure:!0,type:"application/json",...r})};this.urls={getContentByUrl:(t,r={})=>this.request({path:"/urls/content",method:"GET",query:t,secure:!0,format:"json",...r})}}};f();var foe=tT(hM());f();var Y0={};Vm(Y0,{addMemberToOrganizationTeamById:()=>cK,askQuery:()=>MH,askQueryInSpace:()=>$H,askQueryInSpaceWithGet:()=>zH,askQueryWithGet:()=>PH,blockUser:()=>E8,createChangeRequest:()=>e8,createCloudflareHostname:()=>g8,createIntegrationInstallationToken:()=>H8,createOrganizationTeam:()=>nK,deleteMemberFromOrganizationTeamById:()=>uK,exportToGitRepository:()=>HH,getApiInformation:()=>NH,getAuthenticatedUser:()=>LH,getCollectionById:()=>O8,getContentAnalyticsForSpaceById:()=>T8,getContentByUrl:()=>SK,getCurrentBackOfficeStaffInfo:()=>y8,getCurrentRevision:()=>KH,getCustomDomainInfo:()=>m8,getHiveAccessTokenForSpace:()=>w8,getIntegrationByName:()=>M8,getIntegrationEvent:()=>q8,getMemberInOrganizationById:()=>J8,getOrganizationBillingPortal:()=>fK,getPageById:()=>JH,getPageByPath:()=>ZH,getPageInChangeRequestById:()=>o8,getPageInChangeRequestByPath:()=>c8,getPageInRevisionById:()=>h8,getPageInRevisionByPath:()=>d8,getRecommendedQuestions:()=>BH,getRecommendedQuestionsInSpace:()=>GH,getRevisionById:()=>u8,getRevisionOfChangeRequestById:()=>r8,getSearchAnalyticsForSpaceById:()=>S8,getSpaceById:()=>qH,getTeamInOrganizationById:()=>rK,getTrafficAnalyticsForSpaceById:()=>C8,getUserBackOfficeInfo:()=>v8,getUserById:()=>FH,impersonateUser:()=>b8,importContent:()=>YH,importContentInChangeRequest:()=>i8,importContentInChangeRequestPageById:()=>a8,importContentInPageById:()=>XH,importGitRepository:()=>WH,inviteUsersToOrganization:()=>lK,joinOrganizationWithInvite:()=>hK,listCollectionsInOrganizationById:()=>yK,listDirectorySyncGroups:()=>EK,listFiles:()=>QH,listFilesInChangeRequestById:()=>s8,listFilesInRevisionById:()=>l8,listIntegrationEvents:()=>F8,listIntegrationInstallations:()=>U8,listIntegrationSpaceInstallations:()=>V8,listIntegrations:()=>P8,listMembersInOrganizationById:()=>Q8,listOrganizationsForAuthenticatedUser:()=>Y8,listPermissionsAggregateInCollection:()=>x8,listPermissionsAggregateInSpace:()=>R8,listSpacesForAuthenticatedUser:()=>UH,listSpacesForOrganizationMember:()=>D8,listSpacesInCollectionById:()=>k8,listSpacesInOrganizationById:()=>_K,listTeamMembersInOrganizationById:()=>aK,listTeamsInOrganizationById:()=>tK,markUserAsVerified:()=>I8,mergeChangeRequest:()=>t8,publishIntegration:()=>B8,purgeCloudflareCDNCache:()=>p8,reindexSpaceContentSearch:()=>f8,removeIntegrationDevSpace:()=>z8,removeMemberFromOrganizationById:()=>Z8,removeTeamFromOrganizationById:()=>sK,renderIntegrationUIWithGet:()=>$8,renderIntegrationUIWithPost:()=>G8,requestOrganizationUpgrade:()=>pK,restartCloudflareHostnameValidation:()=>_8,searchContent:()=>kH,searchOrganizationContent:()=>gK,searchSpaceContent:()=>jH,searchUnsplashImages:()=>wK,setUserAsSSOMemberForOrganization:()=>eK,setupDirectorySync:()=>vK,signInWithEmailLink:()=>IK,syncDirectorySyncGroupsToTeams:()=>bK,trackDownloadUnplashImage:()=>TK,trackViewInSpaceById:()=>A8,transferOrganization:()=>mK,unpublishIntegration:()=>L8,updateChangeRequest:()=>n8,updateCollectionById:()=>N8,updateIntegrationDevSpace:()=>j8,updateIntegrationInstallation:()=>W8,updateIntegrationSpaceInstallation:()=>K8,updateMemberInOrganizationById:()=>X8,updateMembersInOrganizationTeam:()=>oK,updateSpaceById:()=>VH,updateTeamInOrganizationById:()=>iK,upgradeOrganizationPlan:()=>dK});f();f();var NH={route:"/",method:"get"};f();var kH={route:"/search",method:"get"},PH={route:"/search/ask",method:"get"},MH={route:"/search/ask",method:"post"},BH={route:"/search/questions",method:"post"};f();var LH={route:"/user",method:"get"},UH={route:"/user/spaces",method:"get"},FH={route:"/users/{userId}",method:"get"};f();var qH={route:"/spaces/{spaceId}",method:"get"},VH={route:"/spaces/{spaceId}",method:"patch"},jH={route:"/spaces/{spaceId}/search",method:"get"},zH={route:"/spaces/{spaceId}/search/ask",method:"get"},$H={route:"/spaces/{spaceId}/search/ask",method:"post"},GH={route:"/spaces/{spaceId}/search/questions",method:"get"},WH={route:"/spaces/{spaceId}/git/import",method:"post"},HH={route:"/spaces/{spaceId}/git/export",method:"post"},KH={route:"/spaces/{spaceId}/content",method:"get"},YH={route:"/spaces/{spaceId}/content/import",method:"post"},QH={route:"/spaces/{spaceId}/content/files",method:"get"},JH={route:"/spaces/{spaceId}/content/page/{pageId}",method:"get"},XH={route:"/spaces/{spaceId}/content/page/{pageId}/import",method:"post"},ZH={route:"/spaces/{spaceId}/content/path/{pagePath}",method:"get"},e8={route:"/spaces/{spaceId}/change-requests",method:"post"},t8={route:"/spaces/{spaceId}/change-requests/{changeRequestId}/merge",method:"post"},n8={route:"/spaces/{spaceId}/change-requests/{changeRequestId}/update",method:"post"},r8={route:"/spaces/{spaceId}/change-requests/{changeRequestId}/content",method:"get"},i8={route:"/spaces/{spaceId}/change-requests/{changeRequestId}/content/import",method:"post"},s8={route:"/spaces/{spaceId}/change-requests/{changeRequestId}/content/files",method:"get"},o8={route:"/spaces/{spaceId}/change-requests/{changeRequestId}/content/page/{pageId}",method:"get"},a8={route:"/spaces/{spaceId}/change-requests/{changeRequestId}/content/page/{pageId}/import",method:"post"},c8={route:"/spaces/{spaceId}/change-requests/{changeRequestId}/content/path/{pagePath}",method:"get"},u8={route:"/spaces/{spaceId}/revisions/{revisionId}",method:"get"},l8={route:"/spaces/{spaceId}/revisions/{revisionId}/files",method:"get"},h8={route:"/spaces/{spaceId}/revisions/{revisionId}/page/{pageId}",method:"get"},d8={route:"/spaces/{spaceId}/revisions/{revisionId}/path/{pagePath}",method:"get"};f();var f8={route:"/spaces/{spaceId}/search",method:"put"},p8={route:"/backoffice/cdn-cache/purge",method:"post"},m8={route:"/backoffice/custom-domains/{hostname}",method:"get"},g8={route:"/backoffice/custom-domains/{hostname}/cloudflare",method:"put"},_8={route:"/backoffice/custom-domains/{hostname}/cloudflare",method:"patch"},y8={route:"/backoffice/staff/me",method:"get"},v8={route:"/backoffice/users/{userId}",method:"get"},E8={route:"/backoffice/users/{userId}/block",method:"patch"},b8={route:"/backoffice/users/{userId}/impersonate",method:"post"},I8={route:"/backoffice/users/{userId}/verify",method:"post"};f();var w8={route:"/spaces/{spaceId}/hive/token",method:"get"};f();var T8={route:"/spaces/{spaceId}/insights/content",method:"get"},S8={route:"/spaces/{spaceId}/insights/search",method:"get"},C8={route:"/spaces/{spaceId}/insights/traffic",method:"get"},A8={route:"/spaces/{spaceId}/insights/track_view",method:"post"};f();var R8={route:"/spaces/{spaceId}/permissions/aggregate",method:"get"},x8={route:"/collections/{collectionId}/permissions/aggregate",method:"get"},D8={route:"/orgs/{organizationId}/members/{userId}/spaces",method:"get"};f();var O8={route:"/collections/{collectionId}",method:"get"},N8={route:"/collections/{collectionId}",method:"patch"},k8={route:"/collections/{collectionId}/spaces",method:"get"};f();var P8={route:"/integrations",method:"get"},M8={route:"/integrations/{integrationName}",method:"get"},B8={route:"/integrations/{integrationName}",method:"post"},L8={route:"/integrations/{integrationName}",method:"delete"},U8={route:"/integrations/{integrationName}/installations",method:"get"},F8={route:"/integrations/{integrationName}/events",method:"get"},q8={route:"/integrations/{integrationName}/events/{eventId}",method:"get"},V8={route:"/integrations/{integrationName}/spaces",method:"get"},j8={route:"/integrations/{integrationName}/spaces/{spaceId}/dev",method:"put"},z8={route:"/integrations/{integrationName}/spaces/{spaceId}/dev",method:"delete"},$8={route:"/integrations/{integrationName}/render",method:"get"},G8={route:"/integrations/{integrationName}/render",method:"post"},W8={route:"/integrations/{integrationName}/installations/{installationId}",method:"patch"},H8={route:"/integrations/{integrationName}/installations/{installationId}/tokens",method:"post"},K8={route:"/integrations/{integrationName}/installations/{installationId}/spaces/{spaceId}",method:"patch"};f();var Y8={route:"/orgs",method:"get"},Q8={route:"/orgs/{organizationId}/members",method:"get"},J8={route:"/orgs/{organizationId}/members/{userId}",method:"get"},X8={route:"/orgs/{organizationId}/members/{userId}",method:"patch"},Z8={route:"/orgs/{organizationId}/members/{userId}",method:"delete"},eK={route:"/orgs/{organizationId}/members/{userId}/sso",method:"post"},tK={route:"/orgs/{organizationId}/teams",method:"get"},nK={route:"/orgs/{organizationId}/teams",method:"put"},rK={route:"/orgs/{organizationId}/teams/{teamId}",method:"get"},iK={route:"/orgs/{organizationId}/teams/{teamId}",method:"patch"},sK={route:"/orgs/{organizationId}/teams/{teamId}",method:"delete"},oK={route:"/orgs/{organizationId}/teams/{teamId}/members",method:"put"},aK={route:"/orgs/{organizationId}/teams/{teamId}/members",method:"get"},cK={route:"/orgs/{organizationId}/teams/{teamId}/members/{userId}",method:"put"},uK={route:"/orgs/{organizationId}/teams/{teamId}/members/{userId}",method:"delete"},lK={route:"/orgs/{organizationId}/invites",method:"post"},hK={route:"/orgs/{organizationId}/invites/{inviteId}",method:"post"},dK={route:"/orgs/{organizationId}/billing",method:"post"},fK={route:"/orgs/{organizationId}/billing",method:"get"},pK={route:"/orgs/{organizationId}/request_upgrade",method:"post"},mK={route:"/orgs/{organizationId}/transfer",method:"post"},gK={route:"/orgs/{organizationId}/search",method:"get"},_K={route:"/orgs/{organizationId}/spaces",method:"get"},yK={route:"/orgs/{organizationId}/collections",method:"get"},vK={route:"/orgs/{organizationId}/dsync",method:"post"},EK={route:"/orgs/{organizationId}/dsync/groups",method:"get"},bK={route:"/orgs/{organizationId}/dsync/teams",method:"post"};f();var IK={route:"/internal/signin/email-link",method:"post"},wK={route:"/internal/unsplash/images",method:"get"},TK={route:"/internal/unsplash/track_download",method:"post"};f();var SK={route:"/urls/content",method:"get"};var nM=class extends qm{constructor(e){let{endpoint:t,authToken:r,castleToken:i,authTokenType:s="Bearer"}=e;super({baseUrl:`${t}/v1`,securityWorker:o=>o&&o.authToken?{headers:{Authorization:`${o.authTokenType} ${o.authToken}`,...o.castleToken?{"X-Castle-Request-Token":o.castleToken}:{}}}:{}}),this.setSecurityData({authTokenType:s,authToken:r,castleToken:i})}};f();function Dh(n){if(n==null||typeof n=="string"||typeof n=="number"||typeof n=="boolean"||n instanceof se.firestore.Timestamp||n instanceof se.firestore.Blob)return n;if(Array.isArray(n))return n.map(e=>Dh(e));if(typeof n=="object"){let e=Object.keys(n),t={};return e.forEach(r=>{t[r]=Dh(n[r])}),t}else throw new Error(`Invalid firestore value (${typeof n}) to clone`)}f();var Oh=class{constructor(e){this.pending=new Map;if(e instanceof Oh){this._getDocument=e._getDocument,this._getCollection=e._getCollection,this.cache=e.cache,this.pending=e.pending;return}this._getDocument=(e==null?void 0:e.getDocument)||H0,this._getCollection=(e==null?void 0:e.getCollection)||tM,(e==null?void 0:e.cache)!==!1&&(this.cache=new Map)}async getDocument(e){let t=vs(e);return this.withCache(t,()=>this._getDocument(e))}async assertDocument(e,t=new Error(`Document ${e.path} not found`)){let r=await this.getDocument(e);if(!r)throw t;return r}async getCollection(e){let t=vs(e);return this.withCache(t,()=>this._getCollection(e))}async withCache(e,t){if(!this.cache)return t();if(this.cache.has(e))return Dh(this.cache.get(e));let r=this.pending.get(e);if(r)return await r,this.withCache(e,t);let i=t();this.pending.set(e,i);try{let s=await i;return this.cache.set(e,s),Dh(s)}finally{this.pending.delete(e)}}},rM=class extends Oh{constructor(e){super({getDocument:t=>eM(e,t)})}};f();f();f();function Q0(n,e=1,t={}){let{indent:r=" ",includeEmptyLines:i=!1}=t;if(typeof n!="string")throw new TypeError(`Expected \`input\` to be a \`string\`, got \`${typeof n}\``);if(typeof e!="number")throw new TypeError(`Expected \`count\` to be a \`number\`, got \`${typeof e}\``);if(e<0)throw new RangeError(`Expected \`count\` to be at least 0, got \`${e}\``);if(typeof r!="string")throw new TypeError(`Expected \`options.indent\` to be a \`string\`, got \`${typeof r}\``);if(e===0)return n;let s=i?/^/gm:/^(?!\s*$)/gm;return n.replace(s,r.repeat(e))}f();var X0=tT(iM(),1);f();function J0(n){if(typeof n!="string")throw new TypeError("Expected a string");return n.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}var sM=/\s+at.*[(\s](.*)\)?/,CK=/^(?:(?:(?:node|node:[\w/]+|(?:(?:node:)?internal\/[\w/]*|.*node_modules\/(?:babel-polyfill|pirates)\/.*)?\w+)(?:\.js)?:\d+:\d+)|native)/,AK=typeof X0.default.homedir>"u"?"":X0.default.homedir().replace(/\\/g,"/");function Z0(n,{pretty:e=!1,basePath:t}={}){let r=t&&new RegExp(`(at | \\()${J0(t.replace(/\\/g,"/"))}`,"g");if(typeof n=="string")return n.replace(/\\/g,"/").split(`
`).filter(i=>{let s=i.match(sM);if(s===null||!s[1])return!0;let o=s[1];return o.includes(".app/Contents/Resources/electron.asar")||o.includes(".app/Contents/Resources/default_app.asar")||o.includes("node_modules/electron/dist/resources/electron.asar")||o.includes("node_modules/electron/dist/resources/default_app.asar")?!1:!CK.test(o)}).filter(i=>i.trim()!=="").map(i=>(r&&(i=i.replace(r,"$1")),e&&(i=i.replace(sM,(s,o)=>s.replace(o,o.replace(AK,"~")))),i)).join(`
`)}var RK=n=>n.replace(/\s+at .*aggregate-error\/index.js:\d+:\d+\)?/g,""),kh,Nh=class extends Error{constructor(t){if(!Array.isArray(t))throw new TypeError(`Expected input to be an Array, got ${typeof t}`);t=t.map(i=>i instanceof Error?i:i!==null&&typeof i=="object"?Object.assign(new Error(i.message),i):new Error(i));let r=t.map(i=>typeof i.stack=="string"&&i.stack.length>0?RK(Z0(i.stack)):String(i)).join(`
`);r=`
`+Q0(r,4);super(r);iT(this,kh,void 0);nT(this,"name","AggregateError");sT(this,kh,t)}get errors(){return rT(this,kh).slice()}};kh=new WeakMap;var eT=class extends Error{constructor(e){super(),this.name="AbortError",this.message=e}},oM=n=>globalThis.DOMException===void 0?new eT(n):new DOMException(n),aM=n=>{let e=n.reason===void 0?oM("This operation was aborted."):n.reason;return e instanceof Error?e:oM(e)};async function xK(n,e,{concurrency:t=Number.POSITIVE_INFINITY,stopOnError:r=!0,signal:i}={}){return new Promise((s,o)=>{if(n[Symbol.iterator]===void 0&&n[Symbol.asyncIterator]===void 0)throw new TypeError(`Expected \`input\` to be either an \`Iterable\` or \`AsyncIterable\`, got (${typeof n})`);if(typeof e!="function")throw new TypeError("Mapper function is required");if(!((Number.isSafeInteger(t)||t===Number.POSITIVE_INFINITY)&&t>=1))throw new TypeError(`Expected \`concurrency\` to be an integer from 1 and up or \`Infinity\`, got \`${t}\` (${typeof t})`);let a=[],c=[],u=new Map,l=!1,h=!1,d=!1,p=0,m=0,_=n[Symbol.iterator]===void 0?n[Symbol.asyncIterator]():n[Symbol.iterator](),E=B=>{l=!0,h=!0,o(B)};i&&(i.aborted&&E(aM(i)),i.addEventListener("abort",()=>{E(aM(i))}));let N=async()=>{if(h)return;let B=await _.next(),A=m;if(m++,B.done){if(d=!0,p===0&&!h){if(!r&&c.length>0){E(new Nh(c));return}if(h=!0,u.size===0){s(a);return}let L=[];for(let[$,K]of a.entries())u.get($)!==cM&&L.push(K);s(L)}return}p++,(async()=>{try{let L=await B.value;if(h)return;let $=await e(L,A);$===cM&&u.set(A,$),a[A]=$,p--,await N()}catch(L){if(r)E(L);else{c.push(L),p--;try{await N()}catch($){E($)}}}})()};(async()=>{for(let B=0;B<t;B++){try{await N()}catch(A){E(A);break}if(d||l)break}})()})}var cM=Symbol("skip");export{se as a,bO as b,Zf as c,Fte as d,qte as e,jc as f,MB as g,BB as h,vY as i,dg as j,kB as k,PB as l,Mv as m,DF as n,OF as o,NF as p,An as q,bf as r,Br as s,Bv as t,fn as u,nt as v,ro as w,MF as x,io as y,v as z,qF as A,ve as B,Sf as C,xx as D,Vv as E,VF as F,en as G,Nx as H,jF as I,nl as J,Px as K,Gv as L,Lr as M,tn as N,Ur as O,n2 as P,r2 as Q,i2 as R,so as S,qx as T,er as U,$a as V,Le as W,u2 as X,Ga as Y,l2 as Z,ki as _,tr as $,ol as aa,Pi as ba,iE as ca,p2 as da,Mf as ea,oE as fa,g2 as ga,oo as ha,nn as ia,hE as ja,Wa as ka,zr as la,dE as ma,ne as na,jr as oa,Nn as pa,ul as qa,hl as ra,C2 as sa,gE as ta,A2 as ua,R2 as va,Ya as wa,_E as xa,x2 as ya,D2 as za,O2 as Aa,N2 as Ba,k2 as Ca,P2 as Da,M2 as Ea,yE as Fa,F2 as Ga,j2 as Ha,bE as Ia,$r as Ja,Q2 as Ka,X2 as La,tq as Ma,nq as Na,Gr as Oa,nr as Pa,fD as Qa,$9 as Ra,Za as Sa,uo as Ta,ec as Ua,lo as Va,$i as Wa,V0 as Xa,Vie as Ya,jie as Za,zie as _a,vs as $a,j0 as ab,Yie as bb,ise as cb,W0 as db,eM as eb,pse as fb,H0 as gb,mse as hb,gse as ib,_se as jb,Dh as kb,Oh as lb,rM as mb,Y0 as nb,xH as ob,DH as pb,OH as qb,nM as rb,J0 as sb,xK as tb};
/*! Bundled license information:

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/logger/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/app-compat/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

firebase/compat/app/dist/esm/index.esm.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
  * @license
  * Copyright 2020 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2018 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2023 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2018 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
  * @license
  * Copyright 2017 Google LLC
  *
  * Licensed under the Apache License, Version 2.0 (the "License");
  * you may not use this file except in compliance with the License.
  * You may obtain a copy of the License at
  *
  *   http://www.apache.org/licenses/LICENSE-2.0
  *
  * Unless required by applicable law or agreed to in writing, software
  * distributed under the License is distributed on an "AS IS" BASIS,
  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  * See the License for the specific language governing permissions and
  * limitations under the License.
  *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/installations/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/installations/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/installations/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/installations/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/installations/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/installations/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/analytics/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/analytics-compat/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-3363a72a.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-3363a72a.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-3363a72a.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-3363a72a.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-3363a72a.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-3363a72a.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/index-3363a72a.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth/dist/esm2017/internal.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/auth-compat/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/database/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/database/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/database/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/database-compat/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/firestore-compat/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/storage-compat/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *  http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/functions/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2017 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2022 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/util/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2021 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/component/dist/esm/index.esm2017.js:
  (**
   * @license
   * Copyright 2019 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)

@firebase/functions-compat/dist/index.esm2017.js:
  (**
   * @license
   * Copyright 2020 Google LLC
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *   http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *)
*/
//# sourceMappingURL=https://app.gitbook.com/public/app/chunks/chunk-EFJ6CI7R.min.js.map
