import{a as Bt}from"https://app.gitbook.com/public/app/chunks/chunk-ICJZ22LR.min.js";import{A as vt,m as yt,w as Rt}from"https://app.gitbook.com/public/app/chunks/chunk-PIUXBG5W.min.js";import{a as Pt}from"https://app.gitbook.com/public/app/chunks/chunk-4UFNHQYX.min.js";import{a as Z}from"https://app.gitbook.com/public/app/chunks/chunk-OWV67RDA.min.js";import{e as Vt}from"https://app.gitbook.com/public/app/chunks/chunk-IL7XGGPV.min.js";import{a as Et}from"https://app.gitbook.com/public/app/chunks/chunk-BLAH4OO5.min.js";import{c as xt,d as bt,e as kt,j as wt,p as It}from"https://app.gitbook.com/public/app/chunks/chunk-QQ52UQ36.min.js";import{a as gt}from"https://app.gitbook.com/public/app/chunks/chunk-JXGANL4A.min.js";import{c as St}from"https://app.gitbook.com/public/app/chunks/chunk-UH4MVTOM.min.js";import{a as F}from"https://app.gitbook.com/public/app/chunks/chunk-WM4OGUMH.min.js";import{B as Kt,E as k,G as Q,_ as Y,i as J,y as st}from"https://app.gitbook.com/public/app/chunks/chunk-NZESLSKN.min.js";import{a as ht}from"https://app.gitbook.com/public/app/chunks/chunk-XQJO7322.min.js";import{Ca as q,D as U,Da as at,J as rt,O as w,aa as I,ba as l,ca as p,n as Ct,p as g,x as s,za as v}from"https://app.gitbook.com/public/app/chunks/chunk-UVYKISNP.min.js";import{b as X}from"https://app.gitbook.com/public/app/chunks/chunk-YPOOS4GR.min.js";import{e as K,l as a}from"https://app.gitbook.com/public/app/chunks/chunk-OAKVUAEN.min.js";a();function D(o,t){if(typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t>"u")return t;if(Array.isArray(t))return t.map(e=>D(o,e));if("$state"in t&&typeof t.$state=="string")return o[t.$state];let i={};return Object.entries(t).forEach(([e,n])=>{i[e]=D(o,n)}),i}a();var d=K(g());a();var et=K(g());w();a();var N=K(g());function B(){let[o,t]=N.useState(void 0),i=e=>{if(o&&e){let n=o.callback();return n instanceof Promise?n.then(()=>t(void 0),()=>t(void 0)):t(void 0),n}else t(void 0)};return[o?N.createElement(Vt,{kind:o.confirm.style,title:o.confirm.title,confirmButtonText:o.confirm.confirm,onComplete:i},o.confirm.text):null,N.useCallback((e,n)=>{if(e){t({confirm:e,callback:n});return}return n()},[])]}a();var Tt=K(g());function tt(o){let{icon:t,size:i=I.ICON_M,style:e}=o,n=mt(t);return Tt.createElement(n,{size:i,style:e})}function mt(o){switch(o){case"close":return k.X;case"edit":return k.Edit;case"github":return k.GitHub;case"maximize":return k.Maximize;case"email":return k.Email;case"settings":return k.Settings;case"search":return k.Search;case"delete":return k.Trashcan;case"star":return k.Star;case"warning":return k.Warning;case"link":return k.Link;case"link-external":return k.ExternalLink;default:X(o)}}a();var j=K(g());w();var lt=j.createContext("vstack");function ct(o){let{element:t,renderElement:i}=o;return j.createElement(lt.Provider,{value:t.type},j.createElement(s,{style:[t.type==="hstack"?p.directionRow:p.directionColumn,t.type==="hstack"?p.alignCenter:null,t.type==="vstack"&&t.align==="end"&&p.alignEnd,t.type==="vstack"&&t.align==="center"&&p.alignCenter,t.type==="hstack"&&t.align==="end"&&p.justifyContentEnd,t.type==="hstack"&&t.align==="center"&&p.justifyContentCenter]},t.children.map((e,n)=>{let r=t.children[n+1],m=r?Yt(e,r):null;return j.createElement(s,{key:n,style:[e.type==="box"?{flexGrow:e.grow||0}:null,m?t.type==="hstack"?l.Padding[`${m}Right`]:l.Padding[`${m}Bottom`]:null]},i(e))})))}function P(o,t,i){return t.length===1?t:[{type:o,align:i,children:t}]}function Yt(o,t){return o.type==="divider"||t.type==="divider"?null:o.type==="input"||t.type==="input"||o.type==="box"||t.type==="box"?"medium":"small"}function Mt(o){let{element:t,renderElements:i}=o;return et.createElement(s,null,i("block",P("vstack",t.children)))}function ke(o){let[t,i]=B();return[et.useCallback(n=>Dt(n.controls||[],o,i),[o,i]),t]}function Dt(o,t,i,e=""){let n=[],r;return o.forEach((m,c)=>{if(Array.isArray(m)){r&&(n.push(r),r=void 0);let f=Dt(m,t,i,`group-${c}`);n.push(...f)}else{let f=Zt(`${e}-command-${c}`,m,t,i);r?r.commands.push(f):r={key:`group-${c}`,commands:[f]}}}),r&&(n.push(r),r=void 0),n}function Zt(o,t,i,e){return{key:o,title:t.label,icon:t.icon?mt(t.icon):void 0,trigger:()=>{if(t.confirm){e(t.confirm,async()=>i(t.onPress));return}return i(t.onPress)}}}a();var zt=K(g());w();function Lt(o){let{element:t,renderElements:i}=o,e=t.children.every(n=>n.type==="text");return zt.createElement(s,null,e?i("inline",t.children):i("block",P("vstack",t.children)))}a();var $=K(g());function z(o){let{element:t,dispatchAction:i,buttonProps:e,buttonDefaultKind:n="secondary"}=o,[r,m]=B(),[c,f]=F(),C=()=>{f(()=>m(t.confirm,async()=>i(t.onPress)))};return $.createElement($.Fragment,null,$.createElement(Y,{kind:n,size:"medium",disabled:t.disabled||c,icon:c?Q:t.icon?Kt(tt,{icon:t.icon}):void 0,onPress:C,title:t.tooltip,...e},t.label),r)}a();var R=K(g());w();a();var L=K(g());w();var pt=L.createContext("block");function nt(o){let{element:t,style:i}=o;return L.useContext(pt)==="block"?L.createElement(s,{style:[{width:"100%",aspectRatio:t.aspectRatio},i]},L.createElement(st,{source:{uri:t.source.url},style:Ct.absoluteFill})):L.createElement(st,{source:{uri:t.source.url},style:[{width:I.ICON_XS,height:I.ICON_XS}]})}a();var G=K(g());w();var ut=G.createContext(null);function At(o){let{element:t,renderElements:i}=o,[,e]=v(q),n=G.useContext(ut),r;switch(t.style){case"bold":r=e.Bold;break;case"code":r=e.Code;break;case"italic":r=e.Italic;break;case"strikethrough":r=e.Strikethrough;break}return G.createElement(U,{selectable:!0,style:[e.Body,e.text,n,r]},i("inline",t.children))}function Ot(o){let{element:t,renderElements:i,dispatchAction:e}=o,[,n]=v(q),r=t.title?R.createElement(s,{style:[p.directionRow,p.alignCenter]},t.icon?R.createElement(s,{style:[l.Padding.medium,l.Padding.noneRight]},typeof t.icon=="string"?R.createElement(tt,{icon:t.icon,size:I.ICON_M,style:n.textMid}):R.createElement(nt,{...o,element:t.icon,style:{width:I.ICON_M}})):null,R.createElement(s,{style:[p.flex1,p.directionColumn,l.Padding.medium]},R.createElement(s,{style:[p.flex1,t.hint?l.Margin.xsmallBottom:void 0]},R.createElement(J.Text.Child,{descendantOf:Z.interactiveHandle,style:[n.text,n.Body,n.Medium],activeStyle:n.primary},t.title)),t.hint?R.createElement(s,{style:[p.flex1]},R.createElement(J.View.Child,{descendantOf:Z.interactiveHandle},typeof t.hint=="string"?R.createElement(U,{style:[n.text,n.Caption,n.textMuted]},t.hint):R.createElement(ut.Provider,{value:[n.Caption,n.textMuted]},i("inline",P("hstack",t.hint,"start"))))):null),t.buttons&&t.buttons.length>0?R.createElement(s,{style:[l.Padding.smallVertical,l.Padding.mediumRight]},t.buttons.map((m,c)=>R.createElement(s,{key:c,style:[l.Margin.smallLeft]},R.createElement(z,{...o,element:m,buttonDefaultKind:"default"})))):null):null;return R.createElement(Z,{...t.onPress?{component:J.TouchableOpacity,onPress:()=>{t.onPress&&e(t.onPress)}}:{component:s}},R.createElement(s,{style:[p.directionColumn,p.flex1]},r,t.children&&t.children.length>0?R.createElement(s,{style:[r?[l.Padding.mediumHorizontal,l.Padding.mediumBottom]:[l.Padding.medium]]},i("block",P("vstack",t.children))):null))}a();var S=K(g());var Wt=S.forwardRef(function(t,i){let{element:e,localState:n,setLocalState:r}=t,c=S.useMemo(()=>new Set(n[e.state]||[]),[n,e.state]).has(e.value),[f,C]=B(),y=()=>{C(c?void 0:e.confirm,()=>{r(h=>{let u=new Set(h[e.state]||[]);return c?u.delete(e.value):u.add(e.value),{...h,[e.state]:Array.from(u)}})})};return S.useImperativeHandle(i,()=>({press:y})),S.createElement(S.Fragment,null,S.createElement(Pt,{value:c,onValueChange:y}),f)});a();var V=K(g());w();function Ht(o){let{element:t,localState:i,setLocalState:e,dispatchAction:n,renderElements:r}=o,[m,c]=F(),f=t.state,C=D(i,t.content),y=f?String(i[f]||""):void 0,h={syntax:t.syntax||"plain",lineNumbers:t.lineNumbers,header:t.header&&t.header.length>0?V.createElement(s,{style:[l.Padding.largeHorizontal]},r("block",P("vstack",t.header))):null,footer:t.footer&&t.footer.length>0?V.createElement(s,{style:[l.Padding.largeHorizontal]},r("block",P("vstack",t.footer))):null,toolbar:V.createElement(V.Fragment,null,m?V.createElement(Y,{size:"medium",disabled:!0,icon:Q,style:l.Margin.xsmallRight}):null,(t.buttons||[]).map((u,x)=>V.createElement(s,{style:l.Margin.xsmallRight},V.createElement(z,{key:x,...o,element:u,buttonProps:{kind:"secondary",size:"medium"}}))))};return f?V.createElement(Rt,{value:y||C,onChange:u=>{e(x=>({...x,[f]:u}))},onBlur:()=>{let u=t.onContentChange;u&&c(()=>n(u))},...h}):V.createElement(yt,{code:y||C,...h})}a();var ot=K(g());w();function Ft(o){let{element:t}=o,i=ot.useContext(lt),[,e]=v(te),[,n]=v(ee);return ot.createElement(s,{style:[e.divider,n[i],{[i==="vstack"?"marginVertical":"marginHorizontal"]:l[t.size||"medium"]}]})}var te=at.create({divider:o=>({backgroundColor:o.colors.border.mid})}),ee=at.create({vstack:o=>({height:1,width:"100%",marginVertical:l.medium}),hstack:o=>({width:1,height:"100%",marginHorizontal:l.medium})});a();var b=K(g());w();function Nt(o){let{element:t,renderElement:i}=o,e=b.useRef(null),n=b.createElement(xt,null,t.label),r=t.hint?b.createElement(bt,null,typeof t.hint=="string"?t.hint:i(t.hint)):null,m=()=>{var c,f;e.current&&((f=(c=e.current).press)==null||f.call(c))};return t.element.type==="textinput"?b.createElement(s,null,b.createElement(s,{style:[l.Margin.smallBottom]},n),i(t.element),r?b.createElement(s,{style:[l.Margin.smallTop]},r):null):["radio","checkbox"].includes(t.element.type)?b.createElement(s,{style:[p.directionRow,p.alignCenter]},b.createElement(s,{style:[l.Padding.mediumRight]},i(t.element,e)),b.createElement(rt,{onPress:m,style:[p.flex1]},b.createElement(s,{style:[r&&l.Margin.xsmallBottom]},n),r)):b.createElement(s,{style:[p.directionRow,p.alignCenter]},b.createElement(rt,{onPress:m,style:[p.flex1]},b.createElement(s,{style:[r&&l.Margin.xsmallBottom]},n),r),b.createElement(s,{style:[l.Padding.mediumLeft]},i(t.element)))}a();var _=K(g());function jt(o){let{element:t,localState:i}=o;return _.createElement(_.Suspense,{fallback:null},_.createElement(vt,{markdown:D(i,t.content)}))}a();var A=K(g());w();function Gt(o){let{element:t,dispatchAction:i,renderElements:e}=o,n=e("block",P("vstack",t.children)),r=t.subtitle?e("inline",P("hstack",t.subtitle,"start")):void 0;if(!t.title&&!t.submit)return A.createElement(A.Fragment,null,n);let m=async()=>{await i({action:"@ui.modal.close",returnValue:t.returnValue||{}})};return A.createElement(St,{title:t.title||"",subtitle:r,footer:t.submit?A.createElement(s,{style:[p.directionRow,p.justifyContentEnd]},A.createElement(gt,{kind:"secondary",size:"large",style:l.Margin.smallRight,onPress:m},"Cancel"),A.createElement(z,{...o,element:t.submit,buttonDefaultKind:"primary",buttonProps:{size:"large"}})):null},n)}function An(o){switch(o){case"fullscreen":return{size:"xxlarge",fullHeight:!0};case"xlarge":return{size:"xlarge"};default:return{size:"medium"}}}a();var T=K(g());var $t=T.forwardRef(function(t,i){let{element:e,localState:n,setLocalState:r}=t,m=n[e.state]===e.value,[c,f]=B(),C=()=>{f(m?void 0:e.confirm,()=>{r(y=>({...y,[e.state]:e.value}))})};return T.useImperativeHandle(i,()=>({press:C})),T.createElement(T.Fragment,null,T.createElement(Bt,{value:m,onValueChange:C}),c)});a();var O=K(g());function _t(o){let{element:t,localState:i,setLocalState:e}=o,[n]=v(),[r,m]=O.useState(()=>Array.isArray(t.options)?t.options:[]),[c,f]=F(!Array.isArray(t.options)),C=Ut(i,t),y=r.filter(x=>C.has(x.id)),h=O.useCallback(async()=>{if(Array.isArray(t.options))return;let W=await(await fetch(t.options.url)).json();m(W)},[t.options]);return O.useEffect(()=>{Array.isArray(t.options)||f(()=>h())},[t.options,h]),O.createElement(It,{size:"medium",kind:"secondary",palette:()=>wt({position:{width:"anchor"},groups:[{key:"options",commands:r.map(x=>({key:x.id,title:x.label,selected:t.multiple?C.has(x.id):void 0,trigger:()=>{e(W=>ne(W,x.id,t))}}))}]}),rightIcon:k.ChevronDown,alignItems:"start",disabled:c,tint:y.length>0?void 0:n.colors.text.muted},y.length>0?y.map(x=>x.label).join(", "):t.placeholder||null)}function ne(o,t,i){let e=t;if(i.multiple){let n=Ut(o,i);n.has(t)?n.delete(t):n.add(t),e=Array.from(n)}return{...o,[i.state]:e}}function Ut(o,t){let i=o[t.state]||t.initialValue||"",e=i?Array.isArray(i)?i:[i]:[];return t.multiple||(e=e.slice(0,1)),new Set(e)}a();var M=K(g());var Xt=M.forwardRef(function(t,i){let{element:e,localState:n,setLocalState:r}=t,m=Boolean(n[e.state]||e.initialValue),[c,f]=B(),C=()=>{f(m?void 0:e.confirm,()=>{r(y=>({...y,[e.state]:!m}))})};return M.useImperativeHandle(i,()=>({press:C})),M.createElement(M.Fragment,null,M.createElement(Et,{value:m,onValueChange:C}),c)});a();var qt=K(g());function Jt(o){let{element:t,localState:i,setLocalState:e}=o,n=String(i[t.state]||t.initialValue||"");return qt.createElement(kt,{size:"medium",value:n,onChangeText:r=>{e(m=>({...m,[t.state]:r}))},placeholder:t.placeholder,multiline:t.multiline})}a();var E=K(g());w();var it=ht("contentkit:webframe");function Qt(o){let{element:t,localState:i,dispatchAction:e,security:n}=o,r=E.useRef(null),[m,c]=E.useState({}),f=E.useRef(!1),C=E.useRef([]),y=E.useCallback(h=>{if(!r.current)return;let u=new URL(t.source.url);n.firstPartyDomains.includes(u.host)&&(f.current?(it.debug("send message",h),r.current.contentWindow.postMessage(h,`${u.protocol}//${u.host}`)):(it.debug("queue message",h),C.current.push(h)))},[]);return E.useEffect(()=>{window.addEventListener("message",h=>{if(!r.current)return;let u=h.data,x=new URL(h.origin);if(!n.firstPartyDomains.includes(x.host))return;let W=r.current.contentWindow;if(!(!W||h.source!==W)){if(typeof u=="string")try{let H=JSON.parse(u);if(H.context==="iframe.resize"&&typeof H.height=="number"){let ft=W.outerWidth,dt=H.height;c({maxWidth:ft,aspectRatio:ft/dt,maxHeight:dt})}}catch(H){it.warning("invalid message",u);return}if(it.debug("receive message from frame",u,"from",h.origin),u.action)switch(u.action.action){case"@webframe.ready":f.current=!0,C.current.forEach(H=>{y(H)}),C.current=[];break;case"@webframe.resize":c({maxWidth:Number(u.action.size.maxWidth),maxHeight:Number(u.action.size.maxHeight),aspectRatio:Number(u.action.size.aspectRatio)});break;default:e(u.action)}}})},[e,y]),E.useEffect(()=>{if(!t.data)return;let h={};return Object.entries(t.data).forEach(([u,x])=>{h[u]=D(i,x)}),y({state:h})},[t.data,i,y]),E.createElement(s,{style:[p.flex1,{overflow:"hidden",width:"100%",minHeight:I.BUTTON_M,aspectRatio:t.aspectRatio,...m}]},E.createElement("iframe",{ref:r,src:t.source.url,style:{position:"absolute",top:0,left:0,bottom:0,right:0,width:"100%",height:"100%",border:"none"}}))}var oe=d.forwardRef(function(t,i){let{element:e}=t;if(typeof e=="string"||typeof e=="number")return d.createElement(d.Fragment,null,e);let n={...t,renderElement:(r,m,c)=>d.createElement(oe,{key:c,ref:m,...t,element:r}),renderElements:(r,m)=>{let c=m.map((f,C)=>n.renderElement(f,void 0,C));return d.createElement(pt.Provider,{value:r},c)}};switch(e.type){case"text":return d.createElement(At,{...n,element:e});case"button":return d.createElement(z,{...n,element:e});case"textinput":return d.createElement(Jt,{...n,element:e});case"block":return d.createElement(Mt,{...n,element:e});case"hstack":return d.createElement(ct,{...n,element:e});case"vstack":return d.createElement(ct,{...n,element:e});case"divider":return d.createElement(Ft,{...n,element:e});case"webframe":return d.createElement(Qt,{...n,element:e});case"codeblock":return d.createElement(Ht,{...n,element:e});case"markdown":return d.createElement(jt,{...n,element:e});case"box":return d.createElement(Lt,{...n,element:e});case"modal":return d.createElement(Gt,{...n,element:e});case"card":return d.createElement(Ot,{...n,element:e});case"image":return d.createElement(nt,{...n,element:e});case"input":return d.createElement(Nt,{...n,element:e});case"select":return d.createElement(_t,{...n,element:e});case"switch":return d.createElement(Xt,{ref:i,...n,element:e});case"radio":return d.createElement($t,{ref:i,...n,element:e});case"checkbox":return d.createElement(Wt,{ref:i,...n,element:e});default:X(e)}});export{ke as a,D as b,An as c,oe as d};
//# sourceMappingURL=https://app.gitbook.com/public/app/chunks/chunk-B27GCWR7.min.js.map
